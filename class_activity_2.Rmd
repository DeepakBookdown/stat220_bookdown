# Class Activity 2

1. Previously, we have used `babynames` dataset under the R package of the same name. These datasets can also be stored locally on your computer or remotely on Github or other online repositories. One way to load such dataset in R is via the function `read_csv`. We will learn about data import in detail later. But for now, please run the following chunk of code to load the data.

```{r}
library(readr)
babynames <- read_csv("https://raw.githubusercontent.com/deepbas/statdatasets/main/baby-names-by-state.csv")
```

This dataset differs from the package version as it has data on state affiliation and has actual counts instead of proportions. You can use the function `View()` to view the dataset. Additionally, you may also use `glimpse()` to take a glimpse at the dataset.

```{r}
library(dplyr)
glimpse(babynames)
```

a. What is the total number of babies born in California or Minnesota with the name `Holly`?

```{r}
babynames_CA_MN_Holly <- babynames %>% filter(state=="CA" | state == "MN",  name == "Holly")
total_Holly_CA_MN <- sum(babynames_CA_MN_Holly$number)
```

**Answer:** The total number of babies born in California or Minnesota with the name `Holly` is `r total_Holly_CA_MN`.

You can create a table of the header (i.e., the first six entries/rows) of any dataset using the function `head` in conjunction with `kable` function under the `knitr` package as follows:

```{r}
library(knitr)
knitr::kable(head(babynames_CA_MN_Holly))
```

b. Let's plot the evolution of the number of babies named 'Holly' over the years. Explain what do you see in the figure below.

```{r, fig.cap="A trend graph"}
library(ggplot2)
ggplot(data=babynames_CA_MN_Holly, aes(x=year, y=number)) + 
  geom_line(aes(colour=state)) + 
  labs(x = 'Year',
      y = bquote(Number~of~Babies~Named~Holly))
```

**Answer:** The number of babies named 'Holly' in both California and Minnesota generally increased over the years, peaking around the 1980s. After that, the number started to decline. California consistently had more babies named 'Holly' than Minnesota.

\vspace*{1in}

2. In this section, let's practice some common data assignments and manipulations in R.

a. Create a vector of all integers from 4 to 10, and save it as `a1`. 

```{r}
a1 <- 4:10
a1
```

b. Create a vector of _even_ integers from 4 to 10, and save it as `a2`. 

```{r}
a2 <- seq(4, 10, by=2)
a2
```

c. What do you get when you add `a1` to `a2`? 

```{r}
a1_plus_a2 <- a1 + a2
a1_plus_a2
```

**Answer:** When you add `a1` to `a2`, you get a vector containing the element-wise sum: `r paste(a1_plus_a2, collapse=", ")`.

d. What does the command `sum(a1)` do?

```{r}
sum_a1 <- sum(a1)
sum_a1
```

**Answer:** The command `sum(a1)` calculates the sum of all elements in the vector `a1`. In this case, it returns `r sum_a1`.

e. What does the command `length(a1)` do?

```{r}
length_a1 <- length(a1)
length_a1
```

**Answer:** The command `length(a1)` returns the number of elements in the vector `a1`. In this case, there are `r length_a1` elements.

f. Use the `sum` and `length` commands to calculate the average of the values in `a1`.

```{r}
average_a1 <- sum(a1) / length(a1)
average_a1
```

**Answer:** The average of the values in `a1` is `r average_a1`.

## Extras (Optional)

In this worksheet, you will learn how to use the `write_csv()` function from the `readr` package to save a data object from your R session to a file in your working directory.

First, let's load the necessary package.

```{r}
library(readr)
```

Suppose we have a simple data frame called `my_data`, with three columns: `Name`, `Age`, and `City`.

```{r}
my_data <- data.frame(Name = c("Alice", "Bob", "Charlie", "David"),
                      Age = c(25, 30, 22, 35),
                      City = c("New York", "Los Angeles", "Chicago", "San Francisco"))
my_data
```

Now we want to save this data frame as a CSV file in our working directory. To do this, we will use the `write_csv()` function. The first argument is the data object you want to save, and the second argument is the file name (including the .csv extension).

```{r}
write_csv(my_data, "my_data.csv")
```

This command will save `my_data` as a file called `my_data.csv` in your working directory.

**Question 1:** What is the purpose of the `write_csv()` function?

**Answer:** The `write_csv()` function is used to save a data object from an R session to a CSV file in your working directory.

**Question 2:** How do you save a data frame called `my_data` as a file named "example_data.csv"?

```{r}
# Your code here
```

**Answer:**

```{r, eval=FALSE}
write_csv(my_data, "example_data.csv")
```

**Question 3:** If you want to save a data frame called `students` as a file named "student_data.csv", what would be the appropriate command?

```{r}
# Your code here
```

**Answer:**

```{r, eval=FALSE}
write_csv(students, "student_data.csv")
```

