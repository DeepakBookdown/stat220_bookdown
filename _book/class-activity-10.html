<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 16 Class Activity 10 | Stat 220 Introduction to Data Science</title>
<meta name="author" content="Deepak Bastola">
<meta name="description" content='# load the necessary libraries library(tidyverse) library(tidyr)  16.1 Your Turn 1 students &lt;- tibble(  id = 1:24,  grade = sample(c("9th", "10th", "11th"), 24, replace = TRUE),  region =...'>
<meta name="generator" content="bookdown 0.33 with bs4_book()">
<meta property="og:title" content="Chapter 16 Class Activity 10 | Stat 220 Introduction to Data Science">
<meta property="og:type" content="book">
<meta property="og:description" content='# load the necessary libraries library(tidyverse) library(tidyr)  16.1 Your Turn 1 students &lt;- tibble(  id = 1:24,  grade = sample(c("9th", "10th", "11th"), 24, replace = TRUE),  region =...'>
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 16 Class Activity 10 | Stat 220 Introduction to Data Science">
<meta name="twitter:description" content='# load the necessary libraries library(tidyverse) library(tidyr)  16.1 Your Turn 1 students &lt;- tibble(  id = 1:24,  grade = sample(c("9th", "10th", "11th"), 24, replace = TRUE),  region =...'>
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.2/transition.js"></script><script src="libs/bs3compat-0.4.2/tabs.js"></script><script src="libs/bs3compat-0.4.2/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><!--
    <script>
    document.addEventListener('DOMContentLoaded', function () {
      const headers = document.querySelectorAll('.book .book-body h1, .book .book-body h2, .book .book-body h3');
      const tocLinks = document.querySelectorAll('.book .book-body .tocify .tocify-item a');
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              const id = entry.target.getAttribute('id');
              const link = Array.from(tocLinks).find((link) => link.getAttribute('href').endsWith('#' + id));
              if (link) {
                tocLinks.forEach((l) => l.classList.remove('active'));
                link.classList.add('active');
              }
            }
          });
        },
        { threshold: 0.5 }
      );

      headers.forEach((header) => observer.observe(header));
    });
    </script>

    --><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Stat 220 Introduction to Data Science</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Course overview</a></li>
<li class="book-part">Set-up Instructions</li>
<li><a class="" href="rstudio.html"><span class="header-section-number">1</span> What is R, RStudio, and RMarkdown?</a></li>
<li><a class="" href="assignments.html"><span class="header-section-number">2</span> Assignments in Stat 220</a></li>
<li><a class="" href="software.html"><span class="header-section-number">3</span> Software in Stat 220</a></li>
<li><a class="" href="github.html"><span class="header-section-number">4</span> GitHub Guide for Students in Stat 220</a></li>
<li><a class="" href="r-markdown-syntax.html"><span class="header-section-number">5</span> R Markdown Syntax</a></li>
<li class="book-part">Class Activities</li>
<li><a class="" href="class-activity-0.html"><span class="header-section-number">6</span> Class Activity 0</a></li>
<li><a class="" href="class-activity-1.html"><span class="header-section-number">7</span> Class Activity 1</a></li>
<li><a class="" href="class-activity-2.html"><span class="header-section-number">8</span> Class Activity 2</a></li>
<li><a class="" href="class-activity-3.html"><span class="header-section-number">9</span> Class Activity 3</a></li>
<li><a class="" href="class-activity-4.html"><span class="header-section-number">10</span> Class Activity 4</a></li>
<li><a class="" href="class-activity-5.html"><span class="header-section-number">11</span> Class Activity 5</a></li>
<li><a class="" href="class-activity-6.html"><span class="header-section-number">12</span> Class Activity 6</a></li>
<li><a class="" href="class-activity-7.html"><span class="header-section-number">13</span> Class Activity 7</a></li>
<li><a class="" href="class-activity-8.html"><span class="header-section-number">14</span> Class Activity 8</a></li>
<li><a class="" href="class-activity-9.html"><span class="header-section-number">15</span> Class Activity 9</a></li>
<li><a class="active" href="class-activity-10.html"><span class="header-section-number">16</span> Class Activity 10</a></li>
<li><a class="" href="class-activity-11.html"><span class="header-section-number">17</span> Class Activity 11</a></li>
<li><a class="" href="class-activity-12.html"><span class="header-section-number">18</span> Class Activity 12</a></li>
<li><a class="" href="class-activity-13.html"><span class="header-section-number">19</span> Class Activity 13</a></li>
<li><a class="" href="class-activity-14.html"><span class="header-section-number">20</span> Class Activity 14</a></li>
<li><a class="" href="class-activity-15.html"><span class="header-section-number">21</span> Class Activity 15</a></li>
<li class="book-part">Extra Materials</li>
<li><a class="" href="helpful-r-codes.html"><span class="header-section-number">22</span> Helpful R codes</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="class-activity-10" class="section level1" number="16">
<h1>
<span class="header-section-number">16</span> Class Activity 10<a class="anchor" aria-label="anchor" href="#class-activity-10"><i class="fas fa-link"></i></a>
</h1>
<div class="sourceCode" id="cb272"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load the necessary libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org">tidyr</a></span><span class="op">)</span></span></code></pre></div>
<div id="your-turn-1-3" class="section level2" number="16.1">
<h2>
<span class="header-section-number">16.1</span> Your Turn 1<a class="anchor" aria-label="anchor" href="#your-turn-1-3"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb273"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">students</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>  id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">24</span>,</span>
<span>  grade <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"9th"</span>, <span class="st">"10th"</span>, <span class="st">"11th"</span><span class="op">)</span>, <span class="fl">24</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  region <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"North America"</span>, <span class="st">"Europe"</span>, <span class="st">"Asia"</span>, <span class="st">"South America"</span>, <span class="st">"Middle East"</span>, <span class="st">"Africa"</span><span class="op">)</span>, <span class="fl">24</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  score <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">24</span>,<span class="fl">50</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div id="a.-create-a-new-column-grade_fac-by-converting-the-grade-column-into-a-factor.-reorder-the-levels-of-grade_fac-to-be-9th-10th-and-11th.-sort-the-dataset-based-on-the-grade_fac-column." class="section level3" number="16.1.1">
<h3>
<span class="header-section-number">16.1.1</span> a. Create a new column <code>grade_fac</code> by converting the grade column into a factor. Reorder the levels of <code>grade_fac</code> to be “9th”, “10th”, and “11th”. Sort the dataset based on the <code>grade_fac</code> column.<a class="anchor" aria-label="anchor" href="#a.-create-a-new-column-grade_fac-by-converting-the-grade-column-into-a-factor.-reorder-the-levels-of-grade_fac-to-be-9th-10th-and-11th.-sort-the-dataset-based-on-the-grade_fac-column."><i class="fas fa-link"></i></a>
</h3>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em></p>
<div class="sourceCode" id="cb274"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">students_a</span> <span class="op">&lt;-</span> <span class="va">students</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>grade_fac <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">grade</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>grade_fac <span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_relevel.html">fct_relevel</a></span><span class="op">(</span><span class="va">grade_fac</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"9th"</span>, <span class="st">"10th"</span>, <span class="st">"11th"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">grade_fac</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">students_a</span>, n <span class="op">=</span> <span class="fl">24</span><span class="op">)</span></span></code></pre></div>
<pre><code># A tibble: 24 × 5
      id grade region        score grade_fac
   &lt;int&gt; &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;fct&gt;    
 1     2 9th   South America    80 9th      
 2     5 9th   Europe           78 9th      
 3    10 9th   Europe           50 9th      
 4    11 9th   Asia             50 9th      
 5    14 9th   South America    57 9th      
 6    15 9th   Asia             75 9th      
 7    17 9th   South America    79 9th      
 8    21 9th   North America    53 9th      
 9    22 9th   Europe           61 9th      
10    24 9th   South America    64 9th      
11     4 10th  Africa           99 10th     
12    18 10th  North America    59 10th     
13    19 10th  North America    97 10th     
14    20 10th  North America    58 10th     
15    23 10th  Middle East      87 10th     
16     1 11th  North America    89 11th     
17     3 11th  Asia             80 11th     
18     6 11th  Europe           77 11th     
19     7 11th  North America    98 11th     
20     8 11th  Middle East      71 11th     
21     9 11th  Asia             96 11th     
22    12 11th  Africa           91 11th     
23    13 11th  Asia             89 11th     
24    16 11th  Middle East      61 11th     </code></pre>
</details>
</div>
<div id="b.-create-a-new-column-region_fac-by-converting-the-region-column-into-a-factor.-collapse-the-region_fac-levels-into-three-categories-americas-emea-and-asia.-count-the-number-of-students-in-each-collapsed-region-category." class="section level3" number="16.1.2">
<h3>
<span class="header-section-number">16.1.2</span> b. Create a new column <code>region_fac</code> by converting the <code>region</code> column into a factor. Collapse the <code>region_fac</code> levels into three categories: “Americas”, “EMEA” and “Asia”. Count the number of students in each collapsed region category.<a class="anchor" aria-label="anchor" href="#b.-create-a-new-column-region_fac-by-converting-the-region-column-into-a-factor.-collapse-the-region_fac-levels-into-three-categories-americas-emea-and-asia.-count-the-number-of-students-in-each-collapsed-region-category."><i class="fas fa-link"></i></a>
</h3>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em></p>
<div class="sourceCode" id="cb276"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">students_b</span> <span class="op">&lt;-</span> <span class="va">students_a</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>region_fac <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">region</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>region_collapsed <span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_collapse.html">fct_collapse</a></span><span class="op">(</span><span class="va">region_fac</span>, </span>
<span>                                         Americas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"North America"</span>, <span class="st">"South America"</span><span class="op">)</span>, </span>
<span>                                         EMEA <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Europe"</span>, <span class="st">"Middle East"</span>, <span class="st">"Africa"</span><span class="op">)</span>, </span>
<span>                                         Asia <span class="op">=</span> <span class="st">"Asia"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">region_collapsed</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">students_b</span><span class="op">)</span></span></code></pre></div>
<pre><code># A tibble: 3 × 2
  region_collapsed     n
  &lt;fct&gt;            &lt;int&gt;
1 EMEA                 9
2 Asia                 5
3 Americas            10</code></pre>
</details>
</div>
<div id="c.-create-a-new-column-grade_infreq-that-is-a-copy-of-the-grade_fac-column.-reorder-the-levels-of-grade_infreq-based-on-their-frequency-in-the-dataset.-print-the-levels-of-grade_infreq-to-check-the-ordering." class="section level3" number="16.1.3">
<h3>
<span class="header-section-number">16.1.3</span> c. Create a new column <code>grade_infreq</code> that is a copy of the <code>grade_fac</code> column. Reorder the levels of <code>grade_infreq</code> based on their frequency in the dataset. Print the levels of <code>grade_infreq</code> to check the ordering.<a class="anchor" aria-label="anchor" href="#c.-create-a-new-column-grade_infreq-that-is-a-copy-of-the-grade_fac-column.-reorder-the-levels-of-grade_infreq-based-on-their-frequency-in-the-dataset.-print-the-levels-of-grade_infreq-to-check-the-ordering."><i class="fas fa-link"></i></a>
</h3>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em></p>
<div class="sourceCode" id="cb278"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">students_c</span> <span class="op">&lt;-</span> <span class="va">students_a</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>grade_infreq <span class="op">=</span> <span class="va">grade_fac</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>grade_infreq <span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_inorder.html">fct_infreq</a></span><span class="op">(</span><span class="va">grade_infreq</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">students_c</span><span class="op">$</span><span class="va">grade_infreq</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] "9th"  "11th" "10th"</code></pre>
</details>
</div>
<div id="d.-create-a-new-column-grade_lumped-by-lumping-the-least-frequent-level-of-the-grade_fac-column-into-an-others-category.-count-the-number-of-students-in-each-of-the-categories-of-the-grade_lumped-column." class="section level3" number="16.1.4">
<h3>
<span class="header-section-number">16.1.4</span> d. Create a new column <code>grade_lumped</code> by lumping the least frequent level of the <code>grade_fac</code> column into an ‘Others’ category. Count the number of students in each of the categories of the <code>grade_lumped</code> column.<a class="anchor" aria-label="anchor" href="#d.-create-a-new-column-grade_lumped-by-lumping-the-least-frequent-level-of-the-grade_fac-column-into-an-others-category.-count-the-number-of-students-in-each-of-the-categories-of-the-grade_lumped-column."><i class="fas fa-link"></i></a>
</h3>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em></p>
<div class="sourceCode" id="cb280"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">students_d</span> <span class="op">&lt;-</span> <span class="va">students_a</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>grade_lumped <span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_lump.html">fct_lump</a></span><span class="op">(</span><span class="va">grade_fac</span>, n <span class="op">=</span> <span class="fl">1</span>, other_level <span class="op">=</span> <span class="st">"Others"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">grade_lumped</span><span class="op">)</span></span>
<span><span class="va">students_d</span></span></code></pre></div>
<pre><code># A tibble: 2 × 2
  grade_lumped     n
  &lt;fct&gt;        &lt;int&gt;
1 9th             10
2 Others          14</code></pre>
</details>
</div>
</div>
<div id="your-turn-2-2" class="section level2" number="16.2">
<h2>
<span class="header-section-number">16.2</span> Your Turn 2<a class="anchor" aria-label="anchor" href="#your-turn-2-2"><i class="fas fa-link"></i></a>
</h2>
<p>Lets import the <code>gss_cat</code> dataset from the <code>forcats</code> library. This datast contains a sample of categorical variables from the General Social survey.</p>
<div class="sourceCode" id="cb282"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># import gss_cat dataset from forcats library</span></span>
<span><span class="fu">forcats</span><span class="fu">::</span><span class="va"><a href="https://forcats.tidyverse.org/reference/gss_cat.html">gss_cat</a></span></span></code></pre></div>
<pre><code># A tibble: 21,483 × 9
    year marital       age race  rincome partyid relig denom
   &lt;int&gt; &lt;fct&gt;       &lt;int&gt; &lt;fct&gt; &lt;fct&gt;   &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt;
 1  2000 Never marr…    26 White $8000 … Ind,ne… Prot… Sout…
 2  2000 Divorced       48 White $8000 … Not st… Prot… Bapt…
 3  2000 Widowed        67 White Not ap… Indepe… Prot… No d…
 4  2000 Never marr…    39 White Not ap… Ind,ne… Orth… Not …
 5  2000 Divorced       25 White Not ap… Not st… None  Not …
 6  2000 Married        25 White $20000… Strong… Prot… Sout…
 7  2000 Never marr…    36 White $25000… Not st… Chri… Not …
 8  2000 Divorced       44 White $7000 … Ind,ne… Prot… Luth…
 9  2000 Married        44 White $25000… Not st… Prot… Other
10  2000 Married        47 White $25000… Strong… Prot… Sout…
# … with 21,473 more rows, and 1 more variable:
#   tvhours &lt;int&gt;</code></pre>
<p>Use <code>gss_cat</code> to answer the following questions.</p>
<div id="a.-which-religions-watch-the-least-tv" class="section level3" number="16.2.1">
<h3>
<span class="header-section-number">16.2.1</span> a. Which religions watch the least TV?<a class="anchor" aria-label="anchor" href="#a.-which-religions-watch-the-least-tv"><i class="fas fa-link"></i></a>
</h3>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em></p>
<div class="sourceCode" id="cb284"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># your r-code</span></span>
<span><span class="va">gss_cat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">tvhours</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">relig</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>tvhours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">tvhours</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">tvhours</span>, <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_reorder.html">fct_reorder</a></span><span class="op">(</span><span class="va">relig</span>, <span class="va">tvhours</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="class_activity_10_files/figure-html/unnamed-chunk-8-1.png" width="100%"></div>
</details>
</div>
<div id="b.-do-married-people-watch-more-or-less-tv-than-single-people" class="section level3" number="16.2.2">
<h3>
<span class="header-section-number">16.2.2</span> b. Do married people watch more or less TV than single people?<a class="anchor" aria-label="anchor" href="#b.-do-married-people-watch-more-or-less-tv-than-single-people"><i class="fas fa-link"></i></a>
</h3>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em></p>
<div class="sourceCode" id="cb285"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># your r-code</span></span>
<span><span class="va">gss_cat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">tvhours</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">marital</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>tvhours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">tvhours</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">tvhours</span>, <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_reorder.html">fct_reorder</a></span><span class="op">(</span><span class="va">marital</span>, <span class="va">tvhours</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="class_activity_10_files/figure-html/unnamed-chunk-9-1.png" width="100%"></div>
</details>
</div>
<div id="c.-collapse-the-marital-variable-to-have-levels-married-not_married-and-no_answer.-include-never-married-divorced-and-widowed-in-not_married" class="section level3" number="16.2.3">
<h3>
<span class="header-section-number">16.2.3</span> c. Collapse the <code>marital</code> variable to have levels <code>married</code>, <code>not_married</code>, and <code>no_answer</code>. Include <code>"Never married"</code>, <code>"Divorced"</code>, and “<code>Widowed"</code> in <code>not_married</code><a class="anchor" aria-label="anchor" href="#c.-collapse-the-marital-variable-to-have-levels-married-not_married-and-no_answer.-include-never-married-divorced-and-widowed-in-not_married"><i class="fas fa-link"></i></a>
</h3>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em></p>
<div class="sourceCode" id="cb286"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># your r-code</span></span>
<span><span class="va">gss_cat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">tvhours</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">marital</span>, <span class="va">tvhours</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    maritalStatus <span class="op">=</span></span>
<span>      <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_collapse.html">fct_collapse</a></span><span class="op">(</span></span>
<span>        <span class="va">marital</span>,</span>
<span>        married <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Married"</span>,</span>
<span>                    <span class="st">"Separated"</span><span class="op">)</span>,</span>
<span>        not_married <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Never married"</span>,</span>
<span>                        <span class="st">"Divorced"</span>,</span>
<span>                        <span class="st">"Widowed"</span><span class="op">)</span>,</span>
<span>        no_answer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"No answer"</span><span class="op">)</span><span class="op">)</span> </span>
<span>  <span class="op">)</span> <span class="op">-&gt;</span> <span class="va">marital_c</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">marital_c</span><span class="op">$</span><span class="va">maritalStatus</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] "no_answer"   "not_married" "married"    </code></pre>
</details>
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="class-activity-9.html"><span class="header-section-number">15</span> Class Activity 9</a></div>
<div class="next"><a href="class-activity-11.html"><span class="header-section-number">17</span> Class Activity 11</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#class-activity-10"><span class="header-section-number">16</span> Class Activity 10</a></li>
<li>
<a class="nav-link" href="#your-turn-1-3"><span class="header-section-number">16.1</span> Your Turn 1</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#a.-create-a-new-column-grade_fac-by-converting-the-grade-column-into-a-factor.-reorder-the-levels-of-grade_fac-to-be-9th-10th-and-11th.-sort-the-dataset-based-on-the-grade_fac-column."><span class="header-section-number">16.1.1</span> a. Create a new column grade_fac by converting the grade column into a factor. Reorder the levels of grade_fac to be “9th”, “10th”, and “11th”. Sort the dataset based on the grade_fac column.</a></li>
<li><a class="nav-link" href="#b.-create-a-new-column-region_fac-by-converting-the-region-column-into-a-factor.-collapse-the-region_fac-levels-into-three-categories-americas-emea-and-asia.-count-the-number-of-students-in-each-collapsed-region-category."><span class="header-section-number">16.1.2</span> b. Create a new column region_fac by converting the region column into a factor. Collapse the region_fac levels into three categories: “Americas”, “EMEA” and “Asia”. Count the number of students in each collapsed region category.</a></li>
<li><a class="nav-link" href="#c.-create-a-new-column-grade_infreq-that-is-a-copy-of-the-grade_fac-column.-reorder-the-levels-of-grade_infreq-based-on-their-frequency-in-the-dataset.-print-the-levels-of-grade_infreq-to-check-the-ordering."><span class="header-section-number">16.1.3</span> c. Create a new column grade_infreq that is a copy of the grade_fac column. Reorder the levels of grade_infreq based on their frequency in the dataset. Print the levels of grade_infreq to check the ordering.</a></li>
<li><a class="nav-link" href="#d.-create-a-new-column-grade_lumped-by-lumping-the-least-frequent-level-of-the-grade_fac-column-into-an-others-category.-count-the-number-of-students-in-each-of-the-categories-of-the-grade_lumped-column."><span class="header-section-number">16.1.4</span> d. Create a new column grade_lumped by lumping the least frequent level of the grade_fac column into an ‘Others’ category. Count the number of students in each of the categories of the grade_lumped column.</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#your-turn-2-2"><span class="header-section-number">16.2</span> Your Turn 2</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#a.-which-religions-watch-the-least-tv"><span class="header-section-number">16.2.1</span> a. Which religions watch the least TV?</a></li>
<li><a class="nav-link" href="#b.-do-married-people-watch-more-or-less-tv-than-single-people"><span class="header-section-number">16.2.2</span> b. Do married people watch more or less TV than single people?</a></li>
<li><a class="nav-link" href="#c.-collapse-the-marital-variable-to-have-levels-married-not_married-and-no_answer.-include-never-married-divorced-and-widowed-in-not_married"><span class="header-section-number">16.2.3</span> c. Collapse the marital variable to have levels married, not_married, and no_answer. Include "Never married", "Divorced", and “Widowed" in not_married</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/class_activity_10.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/class_activity_10.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Stat 220 Introduction to Data Science</strong>" was written by Deepak Bastola. It was last built on 2023-04-28.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
