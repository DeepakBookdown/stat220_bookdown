% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{book}
\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math} % this also loads fontspec
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else
  % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
\usepackage{booktabs}
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage[]{natbib}
\bibliographystyle{apalike}
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same}
\hypersetup{
  pdftitle={Stat 220 Introduction to Data Science},
  pdfauthor={Deepak Bastola},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{Stat 220 Introduction to Data Science}
\author{Deepak Bastola}
\date{2024-01-14}

\begin{document}
\maketitle

{
\setcounter{tocdepth}{1}
\tableofcontents
}
\hypertarget{course-overview}{%
\chapter*{Course overview}\label{course-overview}}
\addcontentsline{toc}{chapter}{Course overview}

Greetings and welcome to Introduction to Data Science! In this course, we will delve into the computational aspects of data analysis, covering topics such as data acquisition, management, and visualization tools. Throughout this course, we will emphasize the principles of data-scientific, reproducible research and dynamic programming, utilizing the R/RStudio ecosystem.

If you have taken Stat 120, 230, or 250 at Carleton, you will find yourself well-equipped to handle the material. However, it is important to refresh your R and R-markdown skills before the start of the class. Specifically, I expect all students to be able to load a data set into R, calculate basic summary statistics, and perform basic exploratory data analysis. In the first week of class, we will delve into Git and GitHub version control, though prior exposure to these topics is not necessary.

\hypertarget{learning-objectives}{%
\section{Learning Objectives}\label{learning-objectives}}

\begin{itemize}
\tightlist
\item
  Develop research questions that can be answered by data. Import/scrape data into R and reshape it to the form necessary for analysis.
\item
  Manipulate common types of data, including numeric, categorical (factors), text, date-times, geo-location variables in order to provide insight into your data and facilitate analysis.
\item
  Explore data using both graphical and numeric methods to provide insight and uncover relationships/patterns.
\item
  Utilize fundamental programming concepts such as iteration, conditional execution, and functions to streamline your code.
\item
  Build, tune, use, and evaluate basic statistical learning models to uncover clusters and classify observations.
\item
  Draw informed conclusions from your data and communicate your findings using both written and interactive platforms.
\end{itemize}

\hypertarget{part-set-up-instructions}{%
\part*{Set-up Instructions}\label{part-set-up-instructions}}
\addcontentsline{toc}{part}{Set-up Instructions}

\hypertarget{rstudio}{%
\chapter{What is R, RStudio, and RMarkdown?}\label{rstudio}}

R is a free and open source statistical programming language that facilitates statistical computation. There are a myriad of application that can be done in R, thanks to a huge online support community and dedicated packages. However, R has no graphical user interface and it has to be run by typing commands into a text interface.

\hypertarget{what-is-rstudio}{%
\section{What is RStudio?}\label{what-is-rstudio}}

RStudio provides graphical interface to R! You can think of RStudio as a graphical front-end to R that that provides extra functionality. The use of the R programming language with the RStudio interface is an essential component of this course.

\hypertarget{r-studio-server}{%
\section{R Studio Server}\label{r-studio-server}}

The quickest way to get started is to go to \url{https://maize2.mathcs.carleton.edu}, which opens an R Studio window in your web browser. Once logged in, I recommend that you do the following:

\begin{itemize}
\tightlist
\item
  Step 1: Create a folder for this course where you can save all of your work. In the Files window, click on New Folder.
\item
  Step 2: Click on Tools -\textgreater{} Global Options -\textgreater{} R Markdown. Then uncheck the box that says ``Show output inline\ldots{}''
\end{itemize}

(It is also possible to download RStudio on your own laptop. Instructions may be found at the end of this document.)

\hypertarget{rrstudio}{%
\section{R/RStudio}\label{rrstudio}}

The use of the R programming language with the RStudio interface is an
essential component of this course. You have two options for using
RStudio:

\begin{itemize}
\item
  The \textbf{server version} of RStudio on the web at
  (\url{https://maize2.mathcs.carleton.edu}). The advantage of using the
  server version is that all of your work will be stored in the cloud,
  where it is automatically saved and backed up. This means that you
  can access your work from any computer on campus using a web
  browser. This server may run slow during peak days/hours. I also recommend
  you to download a local version of R server in your computer in case of rare outages.
\item
  A \textbf{local version} of RStudio installed on your machine. This
  option is highly recommended due to the computational resources this
  course demands. Using this version you can only store your files in your local machine. Additionally, we can save our work on GitHub. We will learn how to use GitHub in the beginning of the course. Both R and RStudio are free and open-source. Please make sure that you have recently updated both R and RStudio.
\end{itemize}

\hypertarget{installing-rrstudio-not-needed-if-you-are-using-the-maize-server}{%
\section{\texorpdfstring{\textbf{Installing R/RStudio (not needed if you are using the maize server)}}{Installing R/RStudio (not needed if you are using the maize server)}}\label{installing-rrstudio-not-needed-if-you-are-using-the-maize-server}}

\begin{quote}
Download the latest version of R: \url{https://cran.r-project.org/}
Download the free Rstudio desktop version: \url{https://www.rstudio.com/products/rstudio/download/}
\end{quote}

Use the default download and install options for each. For R, download the ``precompiled binary'' distribution rather than the source code

\textbf{Updating R/RStudio (not needed if you are using the maize server)}

If you have used a local version of R/RStudio before and it is still installed on your machine, then you should make sure that you have the most recent versions of each program.

\begin{itemize}
\item
  To check your version of R, run the command \texttt{getRversion()} and compare your version to the newest version posted on \url{https://cran.r-project.org/}. If you need an update, then install the newer version using the installation directions above.
\item
  In RStudio, check for updates with the menu option \texttt{Help\ \textgreater{}\ Check\ for\ updates}. Follow directions if an update is needed.
\end{itemize}

** Did it work? (A sanity check after your install/update) **

Do whatever is appropriate for your operating system to launch
RStudio. You should get a window similar to the screenshot you see
\href{https://www.rstudio.com/wp-content/uploads/2014/04/rstudio-workbench.png}{here},
but yours will be more boring because you haven't written any code
or made any figures yet!

Put your cursor in the pane labeled \emph{Console}, which is where you
interact with the live R process. Create a simple object with code
like \texttt{x\ \textless{}-\ 2\ *\ 4} (followed by enter or return). Then inspect the
\texttt{x} object by typing \texttt{x} followed by enter or return. You should see
the value \texttt{8} printed. If this happened, you've succeeded in
installing R and RStudio!

\hypertarget{what-is-rmarkdown}{%
\section{What is RMarkdown?}\label{what-is-rmarkdown}}

An R Markdown file (.Rmd file) combines R commands and written analyses, which are `knit' together into an HTML, PDF, or Microsoft Word document.

An R Markdown file contains three essential elements:

\begin{itemize}
\item
  Header: The header (top) of the file contains information like the document title, author, date and your preferred output format (pdf\_document, word\_document, or html\_document).
\item
  Written analysis: You write up your analysis after the header and embed R code where needed. The online help below shows ways to add formatting details like bold words, lists, section labels, etc to your final pdf/word/html document. For example, adding ** before and after a word will bold that word in your compiled document.
\item
  R chunks: R chunks contain the R commands that you want evaluated. You embed these chunks within your written analysis and they are evaluated when you compile the document.
\end{itemize}

\hypertarget{install-latex-for-knitting-r-markdown-documents-to-pdf}{%
\section{Install LaTeX (for knitting R Markdown documents to PDF):}\label{install-latex-for-knitting-r-markdown-documents-to-pdf}}

You need a Latex compiler to create a pdf document from a R Markdown file. If you use the maize server, you don't need to install anything. If you are using a local RStudio, you should install a Latex compiler. Below are the recommended installers for Windows and Mac:

\begin{itemize}
\item
  \href{https://www.tug.org/mactex/}{MacTeX} for Mac (3.2GB)
\item
  \href{https://miktex.org/download}{MiKTeX} for Windows (190MB)
\item
  Alternatively, you can install the \texttt{tinytex} R package by running
  \texttt{install.packages("tinytex")} in the console.
\end{itemize}

\hypertarget{updating-rrstudio-not-needed-if-you-are-using-the-maize2-server}{%
\section{Updating R/RStudio (not needed if you are using the maize2 server)}\label{updating-rrstudio-not-needed-if-you-are-using-the-maize2-server}}

If you have used a local version of R/RStudio before and it is still installed on your machine, then you should make sure that you have the most recent versions of each program.

\begin{itemize}
\item
  To check your version of R, run the command \texttt{getRversion()} and compare your version to the newest version posted on \url{https://cran.r-project.org/}. If you need an update, then install the newer version using the installation directions above.
\item
  In RStudio, check for updates with the menu option \texttt{Help\ \textgreater{}\ Check\ for\ updates}. Follow directions if an update is needed.
\end{itemize}

\hypertarget{opening-a-new-file}{%
\section{Opening a new file}\label{opening-a-new-file}}

If using Rstudio on your computer, using the \textbf{File\textgreater Open File} menu to find and open this .Rmd file.

If using Maize Rstudio from your browser:

\begin{itemize}
\item
  In the Files tab, select \textbf{Upload} and \textbf{Choose File} to find the .Rmd that you downloaded. Click \emph{OK} to upload to your course folder/location in the maize server account.
\item
  Click on the .Rmd file in the appropriate folder to open the file.
\end{itemize}

\hypertarget{running-codes-and-knitting-.rmd-files}{%
\section{Running codes and knitting .Rmd files:}\label{running-codes-and-knitting-.rmd-files}}

\begin{itemize}
\item
  You can run a line of code by placing your cursor in the line of code and clicking \textbf{Run Selected Line(s)}
\item
  You can run an entire chunk by clicking the green triangle on the right side of the code chunk.
\item
  After each small edit or code addition, \textbf{Knit} your Markdown. If you wait until the end to Knit, it will be harder to find errors in your work.
\item
  Format output type: You can use any of pdf\_document, html\_document type, or word\_document type.
\item
  \textbf{Maize users}: You may also need to allow for ``pop-up'' in your web browser when knitting documents.
\end{itemize}

\hypertarget{few-more-instructions}{%
\section{Few More Instructions}\label{few-more-instructions}}

The default setting in Rstudio when you are running chunks is that the ``output'' (numbers, graphs) are
shown \textbf{inline} within the Markdown Rmd. If you prefer to have your plots appear on the right of the console and not below the chunk, then change the settings as follows:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Select Tools \textgreater{} Global Options.
\item
  Click the R Markdown section and uncheck (if needed) the option Show output inline for all
  R Markdown documents.
\item
  Click OK.
\end{enumerate}

Now try running R chunks in the .Rmd file to see the difference. You can recheck this box if you prefer
the default setting.

\hypertarget{vpn}{%
\section{VPN}\label{vpn}}

If you plan to do any work off campus this term, you need to install Carleton's VPN. This will allow you to access the \textbf{maize} server (if needed).

\textbf{Installing the GlobalProtect VPN}

Follow the directions \href{https://wiki.carleton.edu/display/itskb/GlobalProtect+VPN}{here} to install VPN.

\hypertarget{assignments}{%
\chapter{Assignments in Stat 220}\label{assignments}}

\hypertarget{dos-and-dont-of-collaboration-for-individual-assignments}{%
\section{Do's and Don't of collaboration for individual assignments}\label{dos-and-dont-of-collaboration-for-individual-assignments}}

\begin{itemize}
\tightlist
\item
  You \emph{can} discuss homework problems with classmates but you must
  write up \textbf{your own} homework solutions and \textbf{do your own work in R
  (no sharing commands or output)}.

  \begin{itemize}
  \tightlist
  \item
    \textbf{Do not share R commands/code in any way}, including, but not
    limited to, sending commands via email, slack, text, or showing
    commands in a shared screen with the intention of showing a
    classmate your solution to a problem.
  \item
    You \textbf{can} share a screen to help troubleshoot a coding problem
    in R.
  \end{itemize}
\item
  You \emph{can} use the following resources to complete your homework:

  \begin{itemize}
  \tightlist
  \item
    Carleton faculty (myself, other math or statistics faculty, etc)
  \item
    discussions with classmates (see above) or knowledgeable friends
  \item
    Carleton resources like stats lab assistants
  \item
    student solutions provided in the back of your student textbook
    or in the student solution manual.
  \end{itemize}
\item
  You \emph{cannot} use any resources other than the ones listed above to
  complete assignments (homework, reports, etc) for this class.
  (e.g.~you cannot use a friend's old assignments or reports, answers
  found on the internet, textbook (instructor) solutions manual, etc.)
\end{itemize}

\hypertarget{examples-that-violate-the-academic-integrity-policy}{%
\subsection{Examples that violate the academic integrity policy}\label{examples-that-violate-the-academic-integrity-policy}}

\begin{itemize}
\tightlist
\item
  sending your .Rmd homework file to another person in the class
\item
  receiving an .Rmd homework file from another person
\item
  sharing a screen and copying code, verbatim, from another person
\item
  sending/receiving R commands
\item
  neglecting to acknowledge classmates with whom you worked with on an
  assignment
\end{itemize}

\hypertarget{format-and-content}{%
\section{Format and Content}\label{format-and-content}}

Submit via GitHub (for most assignments) an organized and correctly
ordered assignment.

\begin{itemize}
\tightlist
\item
  Content: Good data scientists need to do more than just write code;
  they should be able to interpret and explain their analyzes.

  \begin{itemize}
  \tightlist
  \item
    Provide a \textbf{written answer} first, followed by any required R
    code and output.\\
  \item
    Use \textbf{complete sentences} when answering any problem that
    requires an explanation or overall problem summary.
  \end{itemize}
\item
  When including code:

  \begin{itemize}
  \tightlist
  \item
    Be sure to show the natural sequence of work needed to answer
    the problem.
  \item
    Include brief comments explain your code steps.
  \item
    Do not include typos or unnecessary commands/output.
  \item
    Always include code output.
  \end{itemize}
\item
  At the top of each individual assignment \textbf{include the names of
  classmates that you worked with} on all or part of the assignment
  (but each person must write up their assignment on their own)
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\textbf{Disability Accommodations:} Carleton College is committed to
providing equitable access to learning opportunities for all students.
The Disability Services office (Henry House, 107 Union Street) is the
campus office that collaborates with students who have disabilities to
provide and/or arrange reasonable accommodations. If you have, or think
you may have, a disability (e.g., mental health, attentional, learning,
autism spectrum disorders, chronic health, traumatic brain injury and
concussions, vision, hearing, mobility, or speech impairments), please
contact \href{mailto:disability@carleton.edu}{\nolinkurl{disability@carleton.edu}} or call Sam Thayer ('10),
Accessibility Specialist (x4464) or Chris Dallager, Director of
Disability Services (x5250) to arrange a confidential discussion
regarding equitable access and reasonable accommodations.

\textbf{Academic Honesty:} All work that you turn in under your name must
follow Carleton's academic integrity policy. The use of textbook
solution manuals (physical or online solutions), homework, reports or
exams done by past students are not allowed. Look at the College's
\href{https://www.carleton.edu/writing/plagiarism/}{Writing Across the Curriculum} website for
additional guidance on plagiarism and how to avoid plagiarism in their
writing.

\hypertarget{software}{%
\chapter{Software in Stat 220}\label{software}}

You will work with many .Rmd Markdown files in this course. These include class activities, homework template, project helper files etc. To stay organized, I \emph{strongly} suggest you create a \textbf{stat220} folder that contains the following subfolders:

\begin{itemize}
\tightlist
\item
  \textbf{stat220} folder

  \begin{itemize}
  \item
    \textbf{Assignments:} This folder will contain subfolders for each
    assignment. Each assignment subfolder (e.g.~homework1,
    homework2, \ldots) will be a Github connected RStudio project that
    you will create \textbf{once an assignment is posted.}
  \item
    \textbf{Content:} This folder should be used to save any
    non-assignment files (e.g.~slides, examples) for this class. You
    will create this subfolder by creating an RStudio project (see
    step 5 below).
  \end{itemize}
\end{itemize}

To get started with this organization, follow the steps below.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{file-organization-using-maize}{%
\section{File organization: Using maize}\label{file-organization-using-maize}}

The server (online) version of Rstudio is run from a unix server. You
can navigate this file system using unix commands, but I assume that
most or all of you will just use Rstudio to access your files on this
server.

\begin{quote}
\textbf{1.} In Rstudio, click the \textbf{Files} \emph{tab} in the lower right-hand
window. Note: this is \textbf{not} the same as the \textbf{File} \emph{menu}
option.
\end{quote}

\includegraphics{img/maize_files.png}

\begin{quote}
\textbf{2.} Verify that you are in your \textbf{HOME} folder (should simply
say Home right under the New Folder button). To navigate to your
Home folder (if somehow you are not in it), click the \textbf{\ldots{}} button
(far right side of the \textbf{Files} tab) and enter a \textasciitilde{} (tilde) symbol
\end{quote}

\includegraphics{img/maize_home.png}

\begin{itemize}
\tightlist
\item
  \textbf{3.} Click the \textbf{New Folder} button and name the folder
  \textbf{stat220}.
\end{itemize}

\includegraphics{img/maize_newfolder.png}

\begin{itemize}
\tightlist
\item
  \textbf{4.} Click on this newly created (empty) \textbf{stat220} folder.
  Within the folder create another \textbf{New Folder} and name it
  \textbf{assignments}.
\end{itemize}

\includegraphics{img/maize_stat220.png}

\begin{itemize}
\item
  \textbf{5.} Within the \textbf{stat220} folder, create an \textbf{RStudio project}
  called \textbf{content} with the following steps:

  \begin{itemize}
  \tightlist
  \item
    \textbf{a.} Click the \textbf{Project} button in the upper righthand
    corner of your RStudio window and select \textbf{New Project\ldots{}}.
  \end{itemize}
\end{itemize}

\includegraphics{img/maize_project.png}

\begin{itemize}
\tightlist
\item
  \textbf{b.} Select \textbf{New Directory} and then \textbf{New Project}
\end{itemize}

\includegraphics{img/maize_newdirectory.png}

\includegraphics{img/maize_newdirectory2.png}

\begin{itemize}
\tightlist
\item
  \textbf{c.} Enter \textbf{content} as the \textbf{Directory name} and use the
  \textbf{Browse} button to find your \textbf{stat220} folder. Then click
  \textbf{Create Project}.
\end{itemize}

\includegraphics{img/maize_create.png}

\begin{itemize}
\tightlist
\item
  \textbf{d.} You should now have a new folder called \textbf{content} in your
  \textbf{stat220} folder and this folder will contain an RStudio project
  \texttt{.Rproj}. Feel free to add subfolders to this \textbf{content} folder
  (e.g.~slides, examples, etc).
\end{itemize}

\includegraphics{img/maize_Rproj.png}

\textbf{Warning: Do not} create an RStudio project in the main stat220 folder
because it is not good practice to have RStudio projects in subfolders
of another project (e.g.~a project within a project is not recommended).

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{file-organization-using-your-own-rstudio}{%
\section{File organization: Using your own Rstudio}\label{file-organization-using-your-own-rstudio}}

Create a folder called \textbf{stat220} somewhere on your computer. Within
this folder create an \textbf{assignments} subfolder. Then complete \textbf{step
5} from above to create a \textbf{content} RStudio project folder.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{rstudio-projects}{%
\section{RStudio projects}\label{rstudio-projects}}

Once you've created a project, your R session should be running within
that project folder. You can check which project you are in by checking
the project name in the upper righthand part of your RStudio window.
Here we see the \textbf{content} project is open:

\includegraphics{img/maize_content.png}

Running R from an RStudio project sets your \textbf{working directory} to the
project folder:

\includegraphics{img/maize_getwd.png}

This allows for easy file path access to all files related to this
project.

To \textbf{start} a project, click on the \texttt{.Rproj} file or use the \textbf{Open
Project\ldots{}} option shown in step 5 above.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{best-practices-or-what-not-to-do}{%
\section{Best practices (or what not to do)}\label{best-practices-or-what-not-to-do}}

\begin{itemize}
\tightlist
\item
  Never save files to a lab computer hard drive (e.g.~desktop,
  downloads, etc). They will be erased when you log off.
\item
  Do not use gmail as a file storage system! Avoid emailing yourself
  files that you created (and saved) on a lab computer. Eventually you
  will lose work this way.
\item
  Avoid using online versions of google drive and dropbox. Similar to
  gmail, downloading, editing a doc, then uploading it back to
  drive/dropbox is another great way to lose work.
\item
  Avoid \href{https://xkcd.com/1459/}{this} and \href{http://phdcomics.com/comics.php?f=1531}{this}.
\end{itemize}

\hypertarget{git-and-github}{%
\section{Git and GitHub}\label{git-and-github}}

\href{https://happygitwithr.com/big-picture.html\#why-git}{Git} is version
control software that you install locally on your computer. Git is
already installed on the maize RStudio server.

\href{https://happygitwithr.com/big-picture.html\#why-github}{Github} is a
cloud-based service for hosting git projects. It allows multiple users
to share and contribute to projects and it is how you will be submitting
homework assignments and projects for this class. More information about Git and
Github can also be found in \href{https://rfortherestofus.com/2021/02/how-to-use-git-github-with-r/}{Getting setup with Git and
GitHub} and \href{https://sahirbhatnagar.com/rpkg/\#gitgithub}{Git and Github}.

If you are using a local install of R/RStudio, then you will need to
install Git.

\textbf{Installing Git}

Directions for both Windows \& Mac here:
\url{http://happygitwithr.com/install-git.html}.

\begin{quote}
\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  If you are using \textbf{maize}, then there is nothing you need to install.
\item
  Windows users should follow Option 1 in 6.2.
\item
  Mac users can follow Option 1 in 6.3 if comfortable, otherwise follow Option 2
\item
  Linux users can follow 6.4.
\end{enumerate}
\end{quote}

\includegraphics{img/maize_gittab.png}

\hypertarget{slack}{%
\section{Slack}\label{slack}}

We will use Slack for all course communication. \href{https://join.slack.com/t/datasciencewinter24/shared_invite/zt-2a2xv06eo-csIThOBrnJ_UY~jImBiUoQ}{Sign up for our course
Slack team
here}!
You will need to create an account with a username, and log in to read
and post. You can download a
standalone Slack application to your
\href{https://slack.com/downloads/osx}{Mac},
\href{https://slack.com/downloads/windows}{Windows},
\href{https://slack.com/downloads/linux}{Linux} and/or
\href{https://slack.com/downloads/android}{Android}/\href{https://slack.com/downloads/ios}{iOS}
device. You can control whether you receive notifications on new posts
by going to Preferences, as well as decide which `channels' to subscribe
to. A `channel' is a discussion thread, which is used to organize
communications into topics. You can learn more about Slack features
\href{https://slack.com/help/articles/218080037-Getting-started-for-new-Slack-users}{here}.

Several channels have been set up for specific parts of the course. Feel
free to ask questions anytime. You can browse the available channels in
our team by clicking on ``Channels'' on the left-hand panel.

\hypertarget{acknowledgements}{%
\section{Acknowledgements}\label{acknowledgements}}

This installation guide is based on the guide from Adam Loy and Katie St.~Clair.

\hypertarget{github}{%
\chapter{GitHub Guide for Students in Stat 220}\label{github}}

\hypertarget{overview}{%
\section{Overview}\label{overview}}

If you are using the maize RStudio server, then you can connect to
GitHub without any extra software downloads. If you are using RStudio on
your computer, then you will need to download Git software (as directed
in \protect\hyperlink{software}{Software in Stat 220}) to use GitHub connected
projects. You will use GitHub to submit homework and collaborate on projects.

\hypertarget{getting-setup-with-git-and-github}{%
\section{Getting setup with Git and GitHub}\label{getting-setup-with-git-and-github}}

If you are \textbf{not} working on the maize RStudio server, then make sure
that you have installed all of the software mentioned in \protect\hyperlink{software}{Software in Stat 220}. In addition, you should install the \texttt{usethis} and \texttt{gitcreds} R packages.

Everyone needs to connect Git and GitHub by doing the following:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Register for account on GitHub (\url{https://github.com/}). I recommend
  using a username that incorporates your name (e.g., dbastola) and Carleton email address for your Github account.
\item
  If you haven't done so already, accept the invite to the class organization \href{https://github.com/DataScienceWinter24}{DataScienceWinter24}. This organization is where all course homework files and project repositories will live.
\item
  Setup options in Git by running the following code chunk in your
  console:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#install.packages("usethis")  \# uncomment to install}
\NormalTok{usethis}\SpecialCharTok{::}\FunctionTok{use\_git\_config}\NormalTok{(}\AttributeTok{user.name =} \StringTok{"Jane Doe"}\NormalTok{, }\AttributeTok{user.email =} \StringTok{"jane@example.org"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

  changing the first two arguments to your own name and email (this should
  be the email associated with your GitHub account).
\item
  In order to push changes to github (i.e.~to track changes and submit homework), you will need to prove that you have permission to change a Github repo. This is done with a personal access token (PAT). Note that you will need to install the packages usethis and gitcreds to do this.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{usethis}\SpecialCharTok{::}\FunctionTok{create\_github\_token}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ Call }\StringTok{\textasciigrave{}}\AttributeTok{gitcreds::gitcreds\_set()}\StringTok{\textasciigrave{}}\NormalTok{ to register this token }\ControlFlowTok{in}\NormalTok{ the local Git credential store}
\NormalTok{ It is also a great idea to store this token }\ControlFlowTok{in}\NormalTok{ any password}\SpecialCharTok{{-}}\NormalTok{management software that you use}
\NormalTok{ ✓ Opening URL }\StringTok{\textquotesingle{}https://github.com/settings/tokens/new?scopes=repo,user,gist,workflow\&description=R:GITHUB\_PAT\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

  ``Generate token'' and store your tokens somewhere safe in your local computer as you will need this again in the future. You can additionally add PAT to your \texttt{.Renviron} file as well. Copy it and paste it into your .Renviron file as system variable GITHUB\_PAT using

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{usethis}\SpecialCharTok{::}\FunctionTok{edit\_r\_environ}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

  Add to the file and save. You can also set the PAT token in R using the following.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#install.packages("gitcreds") \# uncomment to install}
\NormalTok{gitcreds}\SpecialCharTok{::}\FunctionTok{gitcreds\_set}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

  You can check that you've stored a credential with \texttt{gitcreds\_get()}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{gitcreds}\SpecialCharTok{::}\FunctionTok{gitcreds\_get}\NormalTok{()}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

You should get something like this:

\begin{verbatim}
```
#> <gitcreds>
#>   protocol: https
#>   host    : github.com
#>   username: PersonalAccessToken
#>   password: <-- hidden -->
```
\end{verbatim}

\textbf{Treat your PAT token like a password!} For details, follow the step in Section 9.1 on this page to do this: \url{https://happygitwithr.com/https-pat.html}.

\hypertarget{individual-assignments}{%
\section{Individual assignments}\label{individual-assignments}}

If you followed the suggestions in the \protect\hyperlink{software}{File organization in RStudio} page, then you should already have an
assignments folder on your computer or maize account.

Each new assignment/project will be posted as a repository on GitHub and
added directly to your account (within the Stat220 organization). This
repository will contain assignment details (README, .Rmd).

\hypertarget{creating-an-individual-assignment-repo-and-project}{%
\subsection{Creating an individual assignment repo and project}\label{creating-an-individual-assignment-repo-and-project}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Go to our course GitHub organization page
  (\href{https://github.com/DataScienceWinter24}{DataScienceWinter24}) and find your homework repo, such as \texttt{hw1-username} (where your username is attached).
\item
  Enter the online assignment repository on GitHub. Click the green
  \textbf{``Code''} button. Most of you should just use the default setting
  which is to ``clone'' (copy) using HTTPS. Click the clipboard to the
  right of the URL to copy the repo location.
\item
  Now open up RStudio and create a project as follows:

  \begin{itemize}
  \tightlist
  \item
    Click the \textbf{Project} button in the upper right corner of your RStudio window and select \textbf{New Project\ldots{}}.
    \includegraphics{img/maize_project.png}
  \item
    Select \textbf{Version Control} and then \textbf{New Project}
    \includegraphics{img/maize_version.png}
    \includegraphics{img/maize_git.png}
  \item
    Paste the link you just copied into the Repository URL box. Leave
    the Project directory name blank (or keep the auto-filled name). Use
    the \textbf{Browse} button to find your \textbf{assignments} folder, then
    click \textbf{Create Project}
  \end{itemize}
\end{enumerate}

\includegraphics{img/maize_clone.png}

\hypertarget{working-on-your-assignment}{%
\subsection{Working on your assignment}\label{working-on-your-assignment}}

An RStudio project should now open, which will allow you to start
working on your homework assignment. You should see the project
assignment name in the top right side of Rstudio. You will probably see
a blank console screen when you open a new project. Look in the
\textbf{Files} tab for your homework .Rmd file. Click on whatever file you
want to edit (probably the .Rmd file) and edit away. Make sure that your
current assignment's project is the one open and showing in the upper
rightproject name. To \textbf{open} a project, click on the \texttt{.Rproj} file or
use the \textbf{Open Project\ldots{}} option available in the upper right project
link.

\hypertarget{commits}{%
\subsubsection{Commits}\label{commits}}

After you make changes to the homework assignment, commit them. What are
commits you ask? Commits are essentially taking a snapshot of your
projects. Commits save this snapshot to your local version of Git
(located on your hard drive or the maize server). For example, if I make
changes to a code so that it prints ``Hello world'', and then commit them
with an informative message, I can look at the history of my commits and
view the code that I wrote at that time. If I made some more changes to
the function that resulted in an error, I could go back to the commit
where the code was originally working. This prevents you from creating
several versions of your homework (homework-v1, homework-v2, \ldots) or
from trying to remember what your code originally looked like.

You can make commits in the Git tab in RStudio.

\includegraphics{img/maize_gittab.png}

Click the \textbf{Commit} button in the Git tab. Check the boxes of the files
that you want to commit, enter your commit message (briefly state what
changes have been made), then hit \textbf{Commit}. You can read how to do
this in RStudio in more detail here:
\url{http://r-pkgs.had.co.nz/git.html\#git-commit}.

Two things about committing.

\begin{itemize}
\tightlist
\item
  You should \textbf{commit somewhat frequently}. At minimum, if you're
  doing a homework assignment, you should make a commit each time that
  you've finished a question.
\item
  Leave \textbf{informative commit messages}. ``Added stuff'' will not help
  you if you're looking at your commit history in a year. A message
  like ``Added initial version of hello-world function'' will be more
  useful.
\end{itemize}

\hypertarget{pushing-changes-to-github}{%
\subsubsection{Pushing changes to Github}\label{pushing-changes-to-github}}

At some point you'll want to get the updated version of the assignment
back onto GitHub, either so that we can help you with your code or so
that it can be graded. You will also want to push work frequently when
you have a shared GitHub repo for project collaborations (i.e.~more than
one person is working on a project and code). If you are ready to push,
you can again click on the ``Up'' \textbf{Push} arrow in the Git tab or in the
Commit pop-up window or in the Git tab (shown above).

To ``turn in'' an assignment, all you need to do is push all your relevant
files to Github by the deadline.

\hypertarget{group-work}{%
\section{Group work}\label{group-work}}

Collaborative Github assignments are pretty similar to individual assignments.

\hypertarget{creating-a-grouppartner-assignment-repo-and-project}{%
\subsection{Creating a group/partner assignment repo and project}\label{creating-a-grouppartner-assignment-repo-and-project}}

Go to our course GitHub organization page(\href{https://github.com/DataScienceWinter24}{DataScienceWinter24}) and find the repo for your group, for example if your group name is ``team01'' the you might find the \texttt{mp1-team01} repo. Clone this repo to your computer/maize account using the same steps done for an individual assignment (see steps 2-3).

\hypertarget{working-with-collaborative-repos}{%
\subsubsection{Working with collaborative repos}\label{working-with-collaborative-repos}}

For group homework, I suggest that only the \emph{recorder} edit the group-homework-x.Rmd file to avoid merge conflicts! Other group members can create a new Markdown doc to run and save commands. Only the recorder needs to \textbf{push} changes (answers) to the Github repo and all others can then \textbf{pull} these changes (i.e.~the final answers) after the HW is submitted.

When you are working together on a Github project, you should commit and push your modifications frequently. You will also need to frequently \textbf{pull} updates from Github down to your local version of RStudio. These updates are changes that your teammates have made since your last pull. To pull in changes, click the ``Down'' \textbf{Pull} arrow in the Git tab (shown above).

If you get an error about conflict after pulling or pushing, don't freak out! This can happen if you edit a file (usually an .Rmd or .R file) in a location that was also changed by a teammate. When this happens you should attempt to fix the \textbf{merge conflict}. Take a look at \href{http://r-pkgs.had.co.nz/git.html\#git-pull}{this resource site} and try to fix the merge conflict in Rstudio.

\hypertarget{additional-resources}{%
\section{Additional resources}\label{additional-resources}}

\begin{itemize}
\tightlist
\item
  \href{http://happygitwithr.com/}{Happy Git and GitHub for the useR}
\item
  \href{http://r-pkgs.had.co.nz/git.html\#git-rstudio}{Rstudio, Git and GitHub}
\item
  \href{http://learngitbranching.js.org/}{Interactive learning guide for Git}
\item
  \href{https://guides.github.com/}{GitHub Guides}
\item
  \href{https://youtu.be/F_fPEMnr1OQ}{Git setup for Windows (video)}
\item
  \href{https://www.youtube.com/watch?v=kbmSZwK0k-A\&t}{Git setup for Mac (video)}
\item
  \href{https://youtu.be/pAcMgGbCtQw}{How to clone, edit, and push homework assignments with GitHub Classroom (video)}
\end{itemize}

\hypertarget{acknowledgements-1}{%
\section{Acknowledgements}\label{acknowledgements-1}}

Most of this content in this guide was taken from
\url{https://github.com/jfiksel/github-classroom-for-students}, edited for our classroom use by Katie St.~Clair.

\hypertarget{reuse}{%
\section{Reuse}\label{reuse}}

This guide is licensed under the CC BY-NC 3.0 Creative
Commons License.

\hypertarget{r-markdown-syntax}{%
\chapter{R Markdown Syntax}\label{r-markdown-syntax}}

Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see \url{http://rmarkdown.rstudio.com}.

\hypertarget{lists-in-r-markdown}{%
\subsection{Lists in R Markdown:}\label{lists-in-r-markdown}}

You can use asterisk mark to provide emphasis, such as \texttt{*italics*\ or\ **bold**}. You can create lists with a dash:

\begin{Shaded}
\begin{Highlighting}[]
\SpecialCharTok{{-}}\NormalTok{ Item }\DecValTok{1}
\SpecialCharTok{{-}}\NormalTok{ Item }\DecValTok{2}
\SpecialCharTok{{-}}\NormalTok{ Item }\DecValTok{3}
  \SpecialCharTok{+}\NormalTok{ Subitem }\DecValTok{1}
\SpecialCharTok{*}\NormalTok{ Item }\DecValTok{4}
\end{Highlighting}
\end{Shaded}

to produce

\begin{itemize}
\tightlist
\item
  Item 1
\item
  Item 2
\item
  Item 3

  \begin{itemize}
  \tightlist
  \item
    Subitem 1
  \end{itemize}
\item
  Item 4
\end{itemize}

You can embed Latex equations in-line, \texttt{\$\textbackslash{}frac\{1\}\{n\}\ \textbackslash{}sum\_\{i=1\}\^{}\{n\}\ x\_\{i\}\$} to produce \(\frac{1}{n} \sum_{i=1}^{n} x_{i}\) or in a new line as \texttt{\$\$\textbackslash{}text\{Var\}(X)\ =\ \textbackslash{}frac\{1\}\{n-1\}\textbackslash{}sum\_\{i-1\}\^{}\{n\}\ (x\_\{i\}\ -\ \textbackslash{}bar\{x\})\^{}2\$\$} to produce \[\text{Var}(X) = \frac{1}{n-1}\sum_{i-1}^{n} (x_{i} - \bar{x})^2\]

\hypertarget{embed-an-r-code-chunk}{%
\subsection{Embed an R code chunk:}\label{embed-an-r-code-chunk}}

Use the following

\begin{verbatim}
```r
Use back ticks to 
create a block of code
```
\end{verbatim}

to produce:

\begin{verbatim}
Use back ticks to 
create a block of code
\end{verbatim}

You can also evaluate and display the results of R code. Each tasks can be accomplished in a suitably labeled chunk like the following:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{summary}\NormalTok{(cars)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
     speed           dist       
 Min.   : 4.0   Min.   :  2.00  
 1st Qu.:12.0   1st Qu.: 26.00  
 Median :15.0   Median : 36.00  
 Mean   :15.4   Mean   : 42.98  
 3rd Qu.:19.0   3rd Qu.: 56.00  
 Max.   :25.0   Max.   :120.00  
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fit }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(dist }\SpecialCharTok{\textasciitilde{}}\NormalTok{ speed, }\AttributeTok{data =}\NormalTok{ cars)}
\NormalTok{fit}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Call:
lm(formula = dist ~ speed, data = cars)

Coefficients:
(Intercept)        speed  
    -17.579        3.932  
\end{verbatim}

\hypertarget{including-plots}{%
\subsection{Including Plots:}\label{including-plots}}

You can also embed plots. See Figure \ref{fig:pie} for example:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar =} \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{))}
\FunctionTok{pie}\NormalTok{(}
  \FunctionTok{c}\NormalTok{(}\DecValTok{280}\NormalTok{, }\DecValTok{60}\NormalTok{, }\DecValTok{20}\NormalTok{),}
  \FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}Sky\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Sunny side of pyramid\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Shady side of pyramid\textquotesingle{}}\NormalTok{),}
  \AttributeTok{col =} \FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}\#0292D8\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}\#F7EA39\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}\#C4B632\textquotesingle{}}\NormalTok{),}
  \AttributeTok{init.angle =} \SpecialCharTok{{-}}\DecValTok{50}\NormalTok{, }\AttributeTok{border =} \ConstantTok{NA}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{figure}
\includegraphics[width=1\linewidth]{rmarkdown_files/figure-latex/pie-1} \caption{A fancy pie chart.}\label{fig:pie}
\end{figure}

(Credit: Yihui Xie)

\hypertarget{read-in-data-files}{%
\subsection{Read in data files:}\label{read-in-data-files}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{simple\_data }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://deepbas.io/data/simple{-}1.dat"}\NormalTok{, )}
\FunctionTok{summary}\NormalTok{(simple\_data) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
   initials            state                age      
 Length:3           Length:3           Min.   :45.0  
 Class :character   Class :character   1st Qu.:47.5  
 Mode  :character   Mode  :character   Median :50.0  
                                       Mean   :52.0  
                                       3rd Qu.:55.5  
                                       Max.   :61.0  
     time          
 Length:3          
 Class :character  
 Mode  :character  
                   
                   
                   
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{knitr}\SpecialCharTok{::}\FunctionTok{kable}\NormalTok{(simple\_data)}
\end{Highlighting}
\end{Shaded}

\begin{tabular}{l|l|r|l}
\hline
initials & state & age & time\\
\hline
vib & MA & 61 & 6:01\\
\hline
adc & TX & 45 & 5:45\\
\hline
kme & CT & 50 & 4:19\\
\hline
\end{tabular}

\hypertarget{hide-the-code}{%
\subsection{Hide the code:}\label{hide-the-code}}

If we enter the \texttt{echo\ =\ FALSE} option in the R chunk (see the .Rmd file). This prevents the R code from being printed to your document; you just see the results.

\begin{tabular}{l|l|r|l}
\hline
initials & state & age & time\\
\hline
vib & MA & 61 & 6:01\\
\hline
adc & TX & 45 & 5:45\\
\hline
kme & CT & 50 & 4:19\\
\hline
\end{tabular}

\hypertarget{github-tutorial}{%
\chapter{Github Tutorial}\label{github-tutorial}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# load the required libraries}
\FunctionTok{library}\NormalTok{(credentials) }\CommentTok{\# to help with PAT access}
\FunctionTok{library}\NormalTok{(gitcreds)}
\FunctionTok{library}\NormalTok{(usethis)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# STEPS INVOLVED TO ESTABLISH GIT CREDENTIALS / PAT}

\CommentTok{\# Step 1}

\CommentTok{\# usethis::use\_git\_config(user.name = "deepbas", user.email = "deepbas99@gmail.com")}

\CommentTok{\# Step 2}

\CommentTok{\# usethis::create\_github\_token()}

\CommentTok{\# Step 3}

\CommentTok{\# if this is the second/subsequent iteration start from here}

\CommentTok{\# gitcreds::gitcreds\_set()}

\CommentTok{\# Verify}

\CommentTok{\# gitcreds::gitcreds\_get()}
\end{Highlighting}
\end{Shaded}

In this worksheet, you will practice creating a GitHub repository using the usethis::use\_github() function and cloning it back to your local machine using RStudio's menu options.

\hypertarget{tutorial-1-creating-and-cloning-a-repository-starting-from-github-to-rstudio}{%
\section{Tutorial 1: Creating and cloning a Repository starting from Github to RStudio}\label{tutorial-1-creating-and-cloning-a-repository-starting-from-github-to-rstudio}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Visit the GitHub website at \url{https://github.com} and sign in using your GitHub account. If you don't have an account yet, you can create one for free.
\item
  Once logged in, click on the ``+'' icon in the top right corner of the webpage, then click on ``New repository''.
\item
  Enter a name for your new repository in the ``Repository name'' field. You may also provide an optional description.
\item
  Choose the visibility of your repository by selecting either ``Public'' or ``Private''. Public repositories are visible to anyone, while private repositories are only visible to you and any collaborators you invite.
\item
  (Optional) Check the box to initialize the repository with a README file.
\item
  Click on the ``Create repository'' button to create your new repository.
\end{enumerate}

This will create a new GitHub repository on your Github account. Follow further to clone the repository to your local folder using RStudio.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Go to your GitHub repository webpage and click on the green ``Code'' button. This will display a dropdown menu with a URL for your repository. Click on the clipboard icon to copy the URL to your clipboard.
\item
  Open RStudio, and from the ``File'' menu, select ``New Project''.
\item
  In the ``New Project'' dialog, choose ``Version Control''.
\item
  Select ``Git'' as the version control system.
\item
  In the ``Repository URL'' field, paste the URL that you copied from your GitHub repository webpage.
\item
  Choose a local directory where you want to clone the repository by clicking on the ``Browse'' button and navigating to the desired folder on your computer.
\item
  Click on ``Create Project'' to clone the GitHub repository to your local computer.
\end{enumerate}

\hypertarget{tutorial-2-creating-a-new-github-repository-using-usethis-r-package-rstudio-to-github-works-only-on-local-rstudio}{%
\section{\texorpdfstring{Tutorial 2: Creating a new GitHub repository using \texttt{usethis} R package (RStudio to Github) (Works ONLY on local RStudio)}{Tutorial 2: Creating a new GitHub repository using usethis R package (RStudio to Github) (Works ONLY on local RStudio)}}\label{tutorial-2-creating-a-new-github-repository-using-usethis-r-package-rstudio-to-github-works-only-on-local-rstudio}}

\hypertarget{prerequisites}{%
\subsection{Prerequisites}\label{prerequisites}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Install the usethis package if you haven't already: install.packages(``usethis'')
\item
  Make sure you have a GitHub account, and you are logged in.
\item
  Configure Git with your name and email address if you haven't already. Run the following commands in the R console, replacing ``Your Name'' and ``\href{mailto:youremail@example.com}{\nolinkurl{youremail@example.com}}'' with your information:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{usethis}\SpecialCharTok{::}\FunctionTok{use\_git\_config}\NormalTok{(}\AttributeTok{user.name =} \StringTok{"Your Name"}\NormalTok{, }\AttributeTok{user.email =} \StringTok{"youremail@example.com"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\item
  Create a new R project in RStudio by clicking on ``File'' \textgreater{} ``New Project'' \textgreater{} ``New Directory'' \textgreater{} ``New Project.'' Give your project a name and choose a location on your computer to save it. Click ``Create Project.''
\item
  Make a new file or copy and paste a .Rmd file that you want to have in your repo and save it to your requirement.
\end{enumerate}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{5}
\tightlist
\item
  In the R console, load the usethis package:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(usethis)}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{6}
\tightlist
\item
  Initialize a Git repository for your project by running:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{usethis}\SpecialCharTok{::}\FunctionTok{use\_git}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{7}
\tightlist
\item
  Now, let's create a new GitHub repository using the usethis::use\_github() function. Run the following command:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{usethis}\SpecialCharTok{::}\FunctionTok{use\_github}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{8}
\tightlist
\item
  Follow the instructions in the R console, and your GitHub repository will be created. Note the repository URL, as you will need it in the next activity.
\end{enumerate}

\hypertarget{part-class-activities}{%
\part*{Class Activities}\label{part-class-activities}}
\addcontentsline{toc}{part}{Class Activities}

\hypertarget{class-activity-1}{%
\chapter{Class Activity 1}\label{class-activity-1}}

The \texttt{R} package \texttt{babynames} provides data about the popularity of individual baby names from the US Social Security Administration. Data includes all names used at least 5 times in a year beginning in 1880.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#install.packages("babynames")  \# uncomment to install}
\FunctionTok{library}\NormalTok{(babynames)}
\end{Highlighting}
\end{Shaded}

Below is the list for first few cases of baby names.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{head}\NormalTok{(babynames)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 6 x 5
   year sex   name          n   prop
  <dbl> <chr> <chr>     <int>  <dbl>
1  1880 F     Mary       7065 0.0724
2  1880 F     Anna       2604 0.0267
3  1880 F     Emma       2003 0.0205
4  1880 F     Elizabeth  1939 0.0199
5  1880 F     Minnie     1746 0.0179
6  1880 F     Margaret   1578 0.0162
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  How many cases and variables are in the dataset \texttt{babynames}?
\end{enumerate}

\textbf{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{dim}\NormalTok{(babynames)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 1924665       5
\end{verbatim}

There are 1924665 cases and 5 variables in the dataset \texttt{babynames}.

Let's use the package tidyverse to do some exploratory data analysis.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#install.packages("tidyverse")   \# uncomment to install}
\FunctionTok{library}\NormalTok{(tidyverse)}
\NormalTok{babynames }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(name}\SpecialCharTok{==}\StringTok{\textquotesingle{}Aimee\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 150 x 5
    year sex   name      n      prop
   <dbl> <chr> <chr> <int>     <dbl>
 1  1880 F     Aimee    13 0.000133 
 2  1881 F     Aimee    11 0.000111 
 3  1882 F     Aimee    13 0.000112 
 4  1883 F     Aimee    11 0.0000916
 5  1884 F     Aimee    15 0.000109 
 6  1885 F     Aimee    17 0.000120 
 7  1886 F     Aimee    17 0.000111 
 8  1887 F     Aimee    18 0.000116 
 9  1888 F     Aimee    12 0.0000633
10  1889 F     Aimee    16 0.0000846
# i 140 more rows
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{filtered\_names }\OtherTok{\textless{}{-}}\NormalTok{ babynames }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(name}\SpecialCharTok{==}\StringTok{\textquotesingle{}Aimee\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#install.packages("ggplot2")   \# uncomment to install}
\FunctionTok{library}\NormalTok{(ggplot2)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data=}\NormalTok{filtered\_names, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{year, }\AttributeTok{y=}\NormalTok{prop)) }\SpecialCharTok{+} 
  \FunctionTok{geom\_line}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{colour=}\NormalTok{sex)) }\SpecialCharTok{+} 
  \FunctionTok{xlab}\NormalTok{(}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{) }\SpecialCharTok{+} 
  \FunctionTok{ylab}\NormalTok{(}\StringTok{\textquotesingle{}Prop. of Babies Named Aimee\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{figure}
\includegraphics[width=1\linewidth]{class_activity_1_files/figure-latex/trend-1} \caption{A trend chart}\label{fig:trend}
\end{figure}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  What do you see in the Figure 1? Explain in a few sentences.
\end{enumerate}

Click for answer

\textbf{Answer:}

In Figure 1, we can see the proportion of babies named Aimee by year for both males and females. We notice that the name Aimee has been more popular among females than males throughout the years. There is a peak in popularity around the 1970s for female babies, and then the popularity declines.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Repeat question 2 to infer how does the proportion of babies with your first name trend over time. Examine the generated plot and describe the trend of your name's popularity over time. Consider the following points:
\end{enumerate}

Has the popularity of your name increased, decreased, or remained stable over the years? Is there a noticeable difference in popularity between sexes? Are there any interesting patterns or trends, such as sudden increases or decreases in popularity?

\textbf{Answer:} Answers will vary.

\vspace*{0.2in}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Replace \textquotesingle{}YourName\textquotesingle{} with your first name}
\NormalTok{your\_name }\OtherTok{\textless{}{-}} \StringTok{"Dee"}

\NormalTok{your\_name\_data }\OtherTok{\textless{}{-}}\NormalTok{ babynames }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(name }\SpecialCharTok{==}\NormalTok{ your\_name)}

\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data=}\NormalTok{your\_name\_data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{year, }\AttributeTok{y=}\NormalTok{prop)) }\SpecialCharTok{+} 
  \FunctionTok{geom\_line}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{colour=}\NormalTok{sex)) }\SpecialCharTok{+} 
  \FunctionTok{xlab}\NormalTok{(}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{) }\SpecialCharTok{+} 
  \FunctionTok{ylab}\NormalTok{(}\FunctionTok{paste}\NormalTok{(}\StringTok{\textquotesingle{}Prop. of Babies Named\textquotesingle{}}\NormalTok{, your\_name))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_1_files/figure-latex/unnamed-chunk-6-1}

4 (Optional). Compare the popularity of your first name with a randomly chosen name from the dataset. Examine the generated plot and compare the popularity of your first name with the randomly chosen name. Consider the following points:

Are there differences in popularity trends between the two names? Is one name consistently more popular than the other, or do their popularity levels change over time? Are there any interesting patterns or trends in the data, such as periods of rapid increase or decrease in popularity?

\textbf{Answer} Answers will vary

\vspace*{0.2in}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Replace \textquotesingle{}YourName\textquotesingle{} with your first name}
\NormalTok{your\_name\_data }\OtherTok{\textless{}{-}}\NormalTok{ babynames }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(name }\SpecialCharTok{==} \StringTok{\textquotesingle{}Dee\textquotesingle{}}\NormalTok{)}

\CommentTok{\# Replace \textquotesingle{}RandomName\textquotesingle{} with a randomly chosen name from the dataset}
\NormalTok{random\_name\_data }\OtherTok{\textless{}{-}}\NormalTok{ babynames }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(name }\SpecialCharTok{==} \StringTok{\textquotesingle{}Max\textquotesingle{}}\NormalTok{)}

\CommentTok{\# Combine the two datasets}
\NormalTok{combined\_data }\OtherTok{\textless{}{-}} \FunctionTok{bind\_rows}\NormalTok{(your\_name\_data, random\_name\_data)}

\CommentTok{\# Plot the data}
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data=}\NormalTok{combined\_data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{year, }\AttributeTok{y=}\NormalTok{prop)) }\SpecialCharTok{+} 
  \FunctionTok{geom\_line}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{colour=}\NormalTok{sex, }\AttributeTok{linetype=}\NormalTok{name)) }\SpecialCharTok{+} 
  \FunctionTok{xlab}\NormalTok{(}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{) }
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_1_files/figure-latex/unnamed-chunk-7-1}

\hypertarget{extras-optional}{%
\section{Extras (optional)}\label{extras-optional}}

\hypertarget{part-1-setting-working-directory-and-loading-data}{%
\subsection{Part 1: Setting Working Directory and Loading Data}\label{part-1-setting-working-directory-and-loading-data}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Set your working directory to a folder on your computer where you would like to save your R scripts and data files.
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Replace \textquotesingle{}your\_directory\_path\textquotesingle{} with the path to your desired folder}
\CommentTok{\# setwd("your\_directory\_path")}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Load the mtcars dataset which comes preloaded with R. This dataset consists of various car features and their corresponding miles per gallon (mpg) values.
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{data}\NormalTok{(mtcars)}
\FunctionTok{head}\NormalTok{(mtcars)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
                   mpg cyl disp  hp drat    wt  qsec vs am
Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1
Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1
Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1
Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0
Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0
Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0
                  gear carb
Mazda RX4            4    4
Mazda RX4 Wag        4    4
Datsun 710           4    1
Hornet 4 Drive       3    1
Hornet Sportabout    3    2
Valiant              3    1
\end{verbatim}

\hypertarget{part-2-downloading-packages}{%
\subsection{Part 2: Downloading Packages}\label{part-2-downloading-packages}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Install the ``tidyverse'' package, which is a collection of useful R packages for data manipulation, exploration, and visualization.
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Uncomment the line below to install the package}
\CommentTok{\# install.packages("tidyverse")}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Load the ``tidyverse'' package into your R session.
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(tidyverse)}
\end{Highlighting}
\end{Shaded}

\hypertarget{part-3-creating-and-compiling-an-r-markdown-file}{%
\subsection{Part 3: Creating and Compiling an R Markdown File}\label{part-3-creating-and-compiling-an-r-markdown-file}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Create a new R Markdown file in RStudio by clicking on ``File'' \textgreater{} ``New File'' \textgreater{} ``R Markdown\ldots{}''. Save the file in your working directory.
\item
  Add the following code to your R Markdown file to create a scatter plot of the mtcars dataset, showing the relationship between miles per gallon (mpg) and the weight of the car (wt).
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Create a scatter plot}
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ mtcars, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ wt, }\AttributeTok{y =}\NormalTok{ mpg)) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{xlab}\NormalTok{(}\StringTok{"Weight (1000 lbs)"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{ylab}\NormalTok{(}\StringTok{"Miles per Gallon"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_1_files/figure-latex/unnamed-chunk-12-1}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Knit your R Markdown file to create an output document. Click the ``Knit'' button at the top of the RStudio script editor, and choose the output format you prefer (e.g., HTML, PDF, or Word).
\end{enumerate}

\vspace*{0.5in}

\hypertarget{questions}{%
\section{Questions}\label{questions}}

\hypertarget{how-does-the-weight-of-a-car-wt-affect-its-miles-per-gallon-mpg-based-on-the-scatter-plot-you-created}{%
\subsection{1. How does the weight of a car (wt) affect its miles per gallon (mpg) based on the scatter plot you created?}\label{how-does-the-weight-of-a-car-wt-affect-its-miles-per-gallon-mpg-based-on-the-scatter-plot-you-created}}

Click for answer

\textbf{Answer:}

Based on the scatter plot, there appears to be a negative relationship between the weight of a car (wt) and its miles per gallon (mpg). As the weight of a car increases, its fuel efficiency (mpg) tends to decrease.

\vspace*{0.5in}

\hypertarget{what-is-the-importance-of-setting-a-working-directory-in-r}{%
\subsection{2. What is the importance of setting a working directory in R?}\label{what-is-the-importance-of-setting-a-working-directory-in-r}}

Click for answer

\textbf{Answer:}

Setting a working directory in R is important because it determines the default location where R will read from or write to when loading or saving files. This makes it easier to keep your files organized and ensures that your R scripts can access the necessary files without needing to specify the full file paths. It also simplifies sharing your R projects with others since the file paths within your scripts will be relative to the working directory.

\vspace*{0.5in}

\hypertarget{explain-the-role-of-r-markdown-in-creating-reproducible-research-documents.}{%
\subsection{3. Explain the role of R Markdown in creating reproducible research documents.}\label{explain-the-role-of-r-markdown-in-creating-reproducible-research-documents.}}

Click for answer

\textbf{Answer:}

R Markdown plays a crucial role in creating reproducible research documents by allowing you to combine text, code, and output (e.g., tables, figures) within a single document. This integration of narrative, data, and results makes it easier to document your data analysis process, ensuring that others can easily understand, reproduce, and build upon your work. R Markdown also supports various output formats (e.g., HTML, PDF, Word) to make it easy to share your research findings with others.

\hypertarget{class-activity-2}{%
\chapter{Class Activity 2}\label{class-activity-2}}

Let's practice some common data assignments and manipulations in R.

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Create a vector of all integers from 4 to 10, and save it as \texttt{a1}.
\end{enumerate}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a1 }\OtherTok{\textless{}{-}} \DecValTok{4}\SpecialCharTok{:}\DecValTok{10}
\NormalTok{a1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1]  4  5  6  7  8  9 10
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Create a vector of \emph{even} integers from 4 to 10, and save it as \texttt{a2}.
\end{enumerate}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a2 }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\DecValTok{4}\NormalTok{, }\DecValTok{10}\NormalTok{, }\AttributeTok{by=}\DecValTok{2}\NormalTok{)}
\NormalTok{a2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1]  4  6  8 10
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  What do you get when you add \texttt{a1} to \texttt{a2}?
\end{enumerate}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a1\_plus\_a2 }\OtherTok{\textless{}{-}}\NormalTok{ a1 }\SpecialCharTok{+}\NormalTok{ a2}
\NormalTok{a1\_plus\_a2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1]  8 11 14 17 12 15 18
\end{verbatim}

\textbf{Answer:} When you add \texttt{a1} to \texttt{a2}, you get a vector containing the element-wise sum: 8, 11, 14, 17, 12, 15, 18.

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  What does the command \texttt{sum(a1)} do?
\end{enumerate}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sum\_a1 }\OtherTok{\textless{}{-}} \FunctionTok{sum}\NormalTok{(a1)}
\NormalTok{sum\_a1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 49
\end{verbatim}

\textbf{Answer:} The command \texttt{sum(a1)} calculates the sum of all elements in the vector \texttt{a1}. In this case, it returns 49.

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{4}
\tightlist
\item
  What does the command \texttt{length(a1)} do?
\end{enumerate}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{length\_a1 }\OtherTok{\textless{}{-}} \FunctionTok{length}\NormalTok{(a1)}
\NormalTok{length\_a1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 7
\end{verbatim}

\textbf{Answer:} The command \texttt{length(a1)} returns the number of elements in the vector \texttt{a1}. In this case, there are 7 elements.

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{5}
\tightlist
\item
  Use the \texttt{sum} and \texttt{length} commands to calculate the average of the values in \texttt{a1}.
\end{enumerate}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{average\_a1 }\OtherTok{\textless{}{-}} \FunctionTok{sum}\NormalTok{(a1) }\SpecialCharTok{/} \FunctionTok{length}\NormalTok{(a1)}
\NormalTok{average\_a1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 7
\end{verbatim}

\textbf{Answer:} The average of the values in \texttt{a1} is 7.

\hypertarget{class-activity-3}{%
\chapter{Class Activity 3}\label{class-activity-3}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# some interesting data objects}
\NormalTok{x }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{3}\NormalTok{,}\DecValTok{6}\NormalTok{,}\DecValTok{9}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{10}\NormalTok{)}
\NormalTok{x.mat }\OtherTok{\textless{}{-}} \FunctionTok{cbind}\NormalTok{(x, }\DecValTok{2}\SpecialCharTok{*}\NormalTok{x)}
\NormalTok{x.df }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{(}\AttributeTok{x=}\NormalTok{x,}\AttributeTok{double.x=}\NormalTok{x}\SpecialCharTok{*}\DecValTok{2}\NormalTok{)}
\NormalTok{my.list }\OtherTok{\textless{}{-}} \FunctionTok{list}\NormalTok{(}\AttributeTok{myVec=}\NormalTok{x, }\AttributeTok{myDf=}\NormalTok{x.df, }\AttributeTok{myString=}\FunctionTok{c}\NormalTok{(}\StringTok{"hi"}\NormalTok{,}\StringTok{"bye"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\hypertarget{question-1-data-types}{%
\section{Question 1: data types}\label{question-1-data-types}}

\begin{itemize}
\tightlist
\item
  What data type is \texttt{x}?
\end{itemize}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# code}
\FunctionTok{typeof}\NormalTok{(x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "double"
\end{verbatim}

\begin{itemize}
\tightlist
\item
  What data type is \texttt{c(x,\ x/2)}?
\end{itemize}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# code}
\FunctionTok{typeof}\NormalTok{(}\FunctionTok{c}\NormalTok{(x, x}\SpecialCharTok{/}\DecValTok{2}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "double"
\end{verbatim}

\begin{itemize}
\tightlist
\item
  What data type is \texttt{c(x,NA)}? What data type is \texttt{c(x,"NA")}?
\end{itemize}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# code}
\FunctionTok{typeof}\NormalTok{(}\FunctionTok{c}\NormalTok{(x, }\ConstantTok{NA}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "double"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{typeof}\NormalTok{(}\FunctionTok{c}\NormalTok{(x, }\StringTok{"NA"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "character"
\end{verbatim}

\hypertarget{question-2-subsetting-and-coercion}{%
\section{Question 2: Subsetting and coercion}\label{question-2-subsetting-and-coercion}}

\begin{itemize}
\tightlist
\item
  How can we reverse the order of entries in \texttt{x}?
\end{itemize}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# code}
\FunctionTok{rev}\NormalTok{(x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 10  5  9  6  3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x[}\FunctionTok{length}\NormalTok{(x)}\SpecialCharTok{:}\DecValTok{1}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 10  5  9  6  3
\end{verbatim}

\begin{itemize}
\tightlist
\item
  What does \texttt{which(x\ \textless{}\ 5)} equal?
\end{itemize}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# code}
\FunctionTok{which}\NormalTok{(x}\SpecialCharTok{\textless{}}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 1
\end{verbatim}

\begin{itemize}
\tightlist
\item
  Extract the element of x that corresponds to the location in the preceding question.
\end{itemize}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# code}
\NormalTok{x[}\FunctionTok{which}\NormalTok{(x}\SpecialCharTok{\textless{}}\DecValTok{5}\NormalTok{)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 3
\end{verbatim}

\begin{itemize}
\tightlist
\item
  What does \texttt{sum(c(TRUE,FALSE,TRUE,FALSE))} equal?
\end{itemize}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# code}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\ConstantTok{TRUE}\NormalTok{,}\ConstantTok{FALSE}\NormalTok{,}\ConstantTok{TRUE}\NormalTok{,}\ConstantTok{FALSE}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 2
\end{verbatim}

\begin{itemize}
\tightlist
\item
  What does \texttt{sum(x{[}c(TRUE,FALSE,TRUE,FALSE){]})} equal?
\end{itemize}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# code}
\FunctionTok{sum}\NormalTok{(x[}\FunctionTok{c}\NormalTok{(}\ConstantTok{TRUE}\NormalTok{,}\ConstantTok{FALSE}\NormalTok{,}\ConstantTok{TRUE}\NormalTok{,}\ConstantTok{FALSE}\NormalTok{, }\ConstantTok{TRUE}\NormalTok{)])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 22
\end{verbatim}

\begin{itemize}
\tightlist
\item
  What does \texttt{sum(x\ \textless{}\ 5)} equal?
\end{itemize}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# code}
\FunctionTok{sum}\NormalTok{(x }\SpecialCharTok{\textless{}} \DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 1
\end{verbatim}

\begin{itemize}
\tightlist
\item
  What does \texttt{sum(x{[}x\ \textless{}\ 5{]})} equal?
\end{itemize}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# code}
\FunctionTok{sum}\NormalTok{(x[x }\SpecialCharTok{\textless{}} \DecValTok{5}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 3
\end{verbatim}

\begin{itemize}
\tightlist
\item
  Why \texttt{dim(x.mat{[}1:2,1{]})} return \texttt{NULL} while \texttt{dim(x.mat{[}1:2,1:2{]})} returns a dimension?
\end{itemize}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# code}
\FunctionTok{dim}\NormalTok{(x.mat[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{2}\NormalTok{,}\DecValTok{1}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
NULL
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{dim}\NormalTok{(x.mat[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{2}\NormalTok{,}\DecValTok{1}\SpecialCharTok{:}\DecValTok{2}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 2 2
\end{verbatim}

\hypertarget{question-3-lists}{%
\section{Question 3: Lists}\label{question-3-lists}}

\begin{itemize}
\tightlist
\item
  Using \texttt{my.list}, show three ways to write one command that gives the 3rd entry of variable \texttt{x} in data frame \texttt{myDf}
\end{itemize}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# code}
\NormalTok{my.list[[}\DecValTok{1}\NormalTok{]][}\DecValTok{3}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 9
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my.list[[}\StringTok{"myVec"}\NormalTok{]][}\DecValTok{3}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 9
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my.list[}\DecValTok{1}\NormalTok{]}\SpecialCharTok{$}\NormalTok{myVec[}\DecValTok{3}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 9
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my.list}\SpecialCharTok{$}\NormalTok{myVec[}\DecValTok{3}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 9
\end{verbatim}

\begin{itemize}
\tightlist
\item
  What class of object does the command \texttt{my.list{[}3{]}} return?
\end{itemize}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# code}
\FunctionTok{class}\NormalTok{(my.list[}\DecValTok{3}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "list"
\end{verbatim}

\begin{itemize}
\tightlist
\item
  What class of object does the command \texttt{my.list{[}{[}3{]}{]}} return?
\end{itemize}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# code}
\FunctionTok{class}\NormalTok{(my.list[[}\DecValTok{3}\NormalTok{]])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "character"
\end{verbatim}

\begin{itemize}
\tightlist
\item
  What class of object does the command \texttt{unlist(my.list)} return? Why are all the entries \texttt{characters}?
\end{itemize}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# code}
\FunctionTok{class}\NormalTok{(}\FunctionTok{unlist}\NormalTok{(my.list))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "character"
\end{verbatim}

\hypertarget{class-activity-4}{%
\chapter{Class Activity 4}\label{class-activity-4}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Load the required libraries}
\FunctionTok{library}\NormalTok{(tidyverse)}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(datasauRus)}
\end{Highlighting}
\end{Shaded}

\hypertarget{your-turn-1}{%
\section{Your turn 1}\label{your-turn-1}}

This worksheet will guide you through creating various plots using the \texttt{ggplot2} package in R. We will be using the \texttt{datasaurus}\_dozen dataset from the \texttt{datasauRus} package for demonstration purposes. The dataset contains 13 different datasets, and we'll use them to create a variety of plots.

\hypertarget{scatterplot}{%
\subsection{Scatterplot}\label{scatterplot}}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Run the following code.
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ dino\_data, }\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ x, }\AttributeTok{y =}\NormalTok{ y)) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_4_files/figure-latex/unnamed-chunk-3-1}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  You \emph{must} remember to put the aesthetic mappings in the \texttt{aes()} function! What happens if you forget?
\end{enumerate}

Click for answer

\emph{Answer:}

If you forget to put the aesthetic mappings inside the aes() function, ggplot2 will not be able to map the variables to the aesthetics correctly, and you might encounter an error or unexpected behavior in your plot.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Add a layer and see what happens}
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ dino\_data , }\AttributeTok{x =}\NormalTok{ x , }\AttributeTok{y =}\NormalTok{ y)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_4_files/figure-latex/unnamed-chunk-4-1}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  The aesthetic mappings can be specified in the geom layer if you prefer, instead of the main \texttt{ggplot()} call. Give it a try:
\end{enumerate}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Rebuild the scatterplot with your aesthetic mapping in the geom layer}
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ dino\_data) }\SpecialCharTok{+}
   \FunctionTok{geom\_point}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ x, }\AttributeTok{y =}\NormalTok{ y)) }
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_4_files/figure-latex/unnamed-chunk-5-1}

\hypertarget{bar-plot}{%
\subsection{Bar Plot}\label{bar-plot}}

In this problem, we'll explore creating a bar plot using the \texttt{datasaurus}\_dozen dataset.

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Create a new data frame containing the count of observations in each dataset.
\end{enumerate}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dataset\_counts }\OtherTok{\textless{}{-}}\NormalTok{ datasaurus\_dozen }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{group\_by}\NormalTok{(dataset) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{summarise}\NormalTok{(}\AttributeTok{count =} \FunctionTok{n}\NormalTok{())}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Create a bar plot showing the number of observations in each dataset.
\end{enumerate}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ dataset\_counts, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ dataset, }\AttributeTok{y =}\NormalTok{ count)) }\SpecialCharTok{+}
  \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{stat =} \StringTok{"identity"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{angle =} \DecValTok{45}\NormalTok{, }\AttributeTok{hjust =} \DecValTok{1}\NormalTok{)) }
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_4_files/figure-latex/unnamed-chunk-7-1}

\hypertarget{histogram}{%
\subsection{Histogram}\label{histogram}}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Create a histogram of the \texttt{x} variable for the \texttt{dino} dataset.
\end{enumerate}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ dino\_data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ x)) }\SpecialCharTok{+}
  \FunctionTok{geom\_histogram}\NormalTok{(}\AttributeTok{binwidth =} \DecValTok{1}\NormalTok{) }
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_4_files/figure-latex/unnamed-chunk-8-1}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Overlay a density curve on the histogram.
\end{enumerate}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ dino\_data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ x)) }\SpecialCharTok{+}
  \FunctionTok{geom\_histogram}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{y =} \FunctionTok{after\_stat}\NormalTok{(density)), }\AttributeTok{binwidth =} \DecValTok{2}\NormalTok{, }\AttributeTok{fill =} \StringTok{"lightblue"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_density}\NormalTok{(}\AttributeTok{color =} \StringTok{"red"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_4_files/figure-latex/unnamed-chunk-9-1}

\hypertarget{boxplot}{%
\subsection{Boxplot}\label{boxplot}}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Create a boxplot of the x variable for each dataset in datasaurus\_dozen.
\end{enumerate}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ datasaurus\_dozen, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ dataset, }\AttributeTok{y =}\NormalTok{ x)) }\SpecialCharTok{+}
  \FunctionTok{geom\_boxplot}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{angle =} \DecValTok{45}\NormalTok{, }\AttributeTok{hjust =} \DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_4_files/figure-latex/unnamed-chunk-10-1}

\hypertarget{faceting}{%
\subsection{Faceting}\label{faceting}}

Click for answer

\emph{Answer:}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Create a scatterplot of \texttt{x} vs.~\texttt{y} for each dataset in \texttt{datasaurus\_dozen} using \texttt{facet\_wrap()}.
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ datasaurus\_dozen, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ x, }\AttributeTok{y =}\NormalTok{ y)) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{facet\_wrap}\NormalTok{(}\SpecialCharTok{\textasciitilde{}}\NormalTok{ dataset) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_4_files/figure-latex/unnamed-chunk-11-1}

\hypertarget{variable-transformation}{%
\subsection{Variable Transformation}\label{variable-transformation}}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  The scatterplot of the \texttt{dino} dataset without any transformations is given below.
\end{enumerate}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ dino\_data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ x, }\AttributeTok{y =}\NormalTok{ y)) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{() }\OtherTok{{-}\textgreater{}}\NormalTok{ p1}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Now, apply the square root transformation to both the \texttt{x} and \texttt{y} axes using the \texttt{scale\_x\_sqrt()} and \texttt{scale\_y\_sqrt()} functions in the \texttt{dino} dataset.
\end{enumerate}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ dino\_data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ x, }\AttributeTok{y =}\NormalTok{ y)) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{scale\_x\_sqrt}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{scale\_y\_sqrt}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{() }\OtherTok{{-}\textgreater{}}\NormalTok{ p2}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Finally, use \texttt{grid.arrange()} function from \texttt{gridExtra} package to plot the above two plots side-by-side. Which plot do you prefer and why?
\end{enumerate}

Click for answer

\emph{Answer:} The second plot is more revealing of a dinosaur than the first plot.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(gridExtra)}
\FunctionTok{grid.arrange}\NormalTok{(p1, p2, }\AttributeTok{nrow =} \DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_4_files/figure-latex/unnamed-chunk-14-1}

\hypertarget{optional-lne-plot}{%
\subsection{(Optional) Lne plot}\label{optional-lne-plot}}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Create a line plot of the \texttt{x} variable over the \texttt{y} variable for the \texttt{dino} dataset. To make it more interesting, let's first calculate the rolling mean of the \texttt{y} variable.
\end{enumerate}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dino\_data }\OtherTok{\textless{}{-}}\NormalTok{ dino\_data }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{arrange}\NormalTok{(x) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{rolling\_mean\_y =}\NormalTok{ zoo}\SpecialCharTok{::}\FunctionTok{rollmean}\NormalTok{(y, }\AttributeTok{k =} \DecValTok{5}\NormalTok{, }\AttributeTok{fill =} \ConstantTok{NA}\NormalTok{))}

\CommentTok{\# Line plot}
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ dino\_data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ x, }\AttributeTok{y =}\NormalTok{ rolling\_mean\_y)) }\SpecialCharTok{+}
  \FunctionTok{geom\_line}\NormalTok{(}\AttributeTok{color =} \StringTok{"blue"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_4_files/figure-latex/unnamed-chunk-15-1}

\hypertarget{class-activity-5}{%
\chapter{Class Activity 5}\label{class-activity-5}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Load the required libraries}
\FunctionTok{library}\NormalTok{(tidyverse)}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(ggthemes)}
\end{Highlighting}
\end{Shaded}

\hypertarget{problem-1-changing-color-and-shape-scales}{%
\section{Problem 1: Changing color and shape scales}\label{problem-1-changing-color-and-shape-scales}}

In this problem, you will learn about the effects of changing colors, scales, and shapes in \texttt{ggplot2} for both gradient and discrete color choices. You will be given a series of questions and examples to enhance your understanding. Consider the following scatter plot

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Generate sample data}
\FunctionTok{set.seed}\NormalTok{(}\DecValTok{42}\NormalTok{)}
\NormalTok{data }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{(}
  \AttributeTok{Category =} \FunctionTok{factor}\NormalTok{(}\FunctionTok{sample}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{, }\DecValTok{50}\NormalTok{, }\AttributeTok{replace =} \ConstantTok{TRUE}\NormalTok{), }\AttributeTok{labels =} \FunctionTok{c}\NormalTok{(}\StringTok{"A"}\NormalTok{, }\StringTok{"B"}\NormalTok{, }\StringTok{"C"}\NormalTok{)),}
  \AttributeTok{X =} \DecValTok{10} \SpecialCharTok{\^{}} \FunctionTok{rnorm}\NormalTok{(}\DecValTok{50}\NormalTok{, }\AttributeTok{mean =} \DecValTok{2}\NormalTok{, }\AttributeTok{sd =} \DecValTok{1}\NormalTok{),}
  \AttributeTok{Y =} \FunctionTok{rnorm}\NormalTok{(}\DecValTok{50}\NormalTok{, }\AttributeTok{mean =} \DecValTok{0}\NormalTok{, }\AttributeTok{sd =} \DecValTok{1}\NormalTok{)}
\NormalTok{)}

\NormalTok{p }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ X, }\AttributeTok{y =}\NormalTok{ Y, }\AttributeTok{color =}\NormalTok{ Category)) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{size =} \DecValTok{3}\NormalTok{)}

\NormalTok{p}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_5_files/figure-latex/unnamed-chunk-2-1}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Modify the scatter plot to use custom colors for each category using \texttt{scale\_color\_manual()}. What is the effect of changing the colors on the plot's readability?
\end{enumerate}

Click for answer

\emph{Answer:} Changing colors using \texttt{scale\_color\_manual()} allows for better distinction between categories and enhances the plot's readability.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ X, }\AttributeTok{y =}\NormalTok{ Y, }\AttributeTok{color =}\NormalTok{ Category, }\AttributeTok{group =}\NormalTok{ Category)) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{size =} \DecValTok{3}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_color\_manual}\NormalTok{(}\AttributeTok{values =} \FunctionTok{c}\NormalTok{(}\StringTok{"A"} \OtherTok{=} \StringTok{"red"}\NormalTok{, }\StringTok{"B"} \OtherTok{=} \StringTok{"blue"}\NormalTok{, }\StringTok{"C"} \OtherTok{=} \StringTok{"green"}\NormalTok{))}
\NormalTok{p}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_5_files/figure-latex/unnamed-chunk-3-1}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Modify the scatter plot to use custom shapes for each category using \texttt{scale\_shape\_manual()}. What is the effect of changing the shapes on the plot's readability?
\end{enumerate}

Click for answer

\emph{Answer:} Changing the shapes using scale\_shape\_manual() helps to distinguish between categories and improves the plot's readability

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ X, }\AttributeTok{y =}\NormalTok{ Y, }\AttributeTok{shape =}\NormalTok{ Category,  }\AttributeTok{group =}\NormalTok{ Category)) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{size =} \DecValTok{3}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_shape\_manual}\NormalTok{(}\AttributeTok{values =} \FunctionTok{c}\NormalTok{(}\StringTok{"A"} \OtherTok{=} \DecValTok{16}\NormalTok{, }\StringTok{"B"} \OtherTok{=} \DecValTok{17}\NormalTok{, }\StringTok{"C"} \OtherTok{=} \DecValTok{18}\NormalTok{))}

\NormalTok{p}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_5_files/figure-latex/unnamed-chunk-4-1}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Try modifying the plot by combining color, shape, and theme customizations. Additionally, try using \texttt{geom\_smooth()} to add trend lines for each category. Pay attention to how each element affects the overall readability and interpretability of the plot.
\end{enumerate}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Base plot}
\NormalTok{p }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ X, }\AttributeTok{y =}\NormalTok{ Y)) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{color =}\NormalTok{ Category, }\AttributeTok{shape =}\NormalTok{ Category), }\AttributeTok{size =} \DecValTok{3}\NormalTok{) }\SpecialCharTok{+} \CommentTok{\# Assign color and shape based on Category}
  \FunctionTok{geom\_smooth}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{group =}\NormalTok{ Category, }\AttributeTok{color =}\NormalTok{ Category), }\AttributeTok{method =} \StringTok{"lm"}\NormalTok{, }\AttributeTok{se =} \ConstantTok{FALSE}\NormalTok{) }\SpecialCharTok{+} \CommentTok{\# Add trend lines for each category}
  \FunctionTok{scale\_shape\_manual}\NormalTok{(}\AttributeTok{values =} \FunctionTok{c}\NormalTok{(}\StringTok{"A"} \OtherTok{=} \DecValTok{19}\NormalTok{, }\StringTok{"B"} \OtherTok{=} \DecValTok{8}\NormalTok{, }\StringTok{"C"} \OtherTok{=} \DecValTok{24}\NormalTok{)) }\SpecialCharTok{+} \CommentTok{\# Customize shapes for categories}
  \FunctionTok{scale\_color\_brewer}\NormalTok{(}\AttributeTok{palette =} \StringTok{"Dark2"}\NormalTok{) }\SpecialCharTok{+} \CommentTok{\# Customize color palette}
\NormalTok{  ggthemes}\SpecialCharTok{::}\FunctionTok{theme\_tufte}\NormalTok{() }\SpecialCharTok{+} 
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{title =} \StringTok{"Separate Trend Lines for Each Category"}\NormalTok{)}

\NormalTok{p}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_5_files/figure-latex/unnamed-chunk-5-1}

\hypertarget{problem-2-us-maps}{%
\section{Problem 2: US maps}\label{problem-2-us-maps}}

Now, let's learn about the effect of changing various coordinate systems in \texttt{ggplot2} using a map example from the \texttt{usmap} package. We will explore the different types of coordinate systems available in ggplot2 and how they can be applied to the map visualization.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#install.packages("usmap")   \#uncomment to install}
\FunctionTok{library}\NormalTok{(usmap)}
\end{Highlighting}
\end{Shaded}

\hypertarget{a.-plot-a-simple-map-of-the-united-states-using-ggplot2-and-the-usmap-package.}{%
\subsection{\texorpdfstring{a. Plot a simple map of the United States using \texttt{ggplot2} and the \texttt{usmap} package.}{a. Plot a simple map of the United States using ggplot2 and the usmap package.}}\label{a.-plot-a-simple-map-of-the-united-states-using-ggplot2-and-the-usmap-package.}}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{us }\OtherTok{\textless{}{-}} \FunctionTok{plot\_usmap}\NormalTok{()}
\NormalTok{us}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_5_files/figure-latex/unnamed-chunk-7-1}

\hypertarget{b.-apply-the-coord_flip-function-to-the-map-to-flip-the-x-and-y-axes.}{%
\subsection{\texorpdfstring{b. Apply the \texttt{coord\_flip()} function to the map to flip the x and y axes.}{b. Apply the coord\_flip() function to the map to flip the x and y axes.}}\label{b.-apply-the-coord_flip-function-to-the-map-to-flip-the-x-and-y-axes.}}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{us\_flipped }\OtherTok{\textless{}{-}}\NormalTok{ us }\SpecialCharTok{+} \FunctionTok{coord\_flip}\NormalTok{()}
\NormalTok{us\_flipped}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_5_files/figure-latex/unnamed-chunk-8-1}

\hypertarget{c.-apply-the-coord_polar-function-to-the-map-to-transform-the-plot-to-a-polar-coordinate-system}{%
\subsection{\texorpdfstring{c.~Apply the \texttt{coord\_polar()} function to the map to transform the plot to a polar coordinate system}{c.~Apply the coord\_polar() function to the map to transform the plot to a polar coordinate system}}\label{c.-apply-the-coord_polar-function-to-the-map-to-transform-the-plot-to-a-polar-coordinate-system}}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{us\_polar }\OtherTok{\textless{}{-}}\NormalTok{ us }\SpecialCharTok{+} \FunctionTok{coord\_polar}\NormalTok{()}
\NormalTok{us\_polar}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_5_files/figure-latex/unnamed-chunk-9-1}

\hypertarget{d.-apply-the-coord_quickmap-function-to-the-map-to-provide-an-approximation-for-a-map-projection.}{%
\subsection{\texorpdfstring{d.~Apply the \texttt{coord\_quickmap()} function to the map to provide an approximation for a map projection.}{d.~Apply the coord\_quickmap() function to the map to provide an approximation for a map projection.}}\label{d.-apply-the-coord_quickmap-function-to-the-map-to-provide-an-approximation-for-a-map-projection.}}

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{us\_quickmap }\OtherTok{\textless{}{-}}\NormalTok{ us }\SpecialCharTok{+} \FunctionTok{coord\_quickmap}\NormalTok{()}
\NormalTok{us\_quickmap}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_5_files/figure-latex/unnamed-chunk-10-1}

\hypertarget{problem-3-chloropeth-map}{%
\section{Problem 3: Chloropeth map}\label{problem-3-chloropeth-map}}

In today's class we created \texttt{cloropleth} maps of states in the US based on ACS data.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{states }\OtherTok{\textless{}{-}} \FunctionTok{map\_data}\NormalTok{(}\StringTok{"state"}\NormalTok{)}
\NormalTok{ACS }\OtherTok{\textless{}{-}}\NormalTok{ ACS }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://raw.githubusercontent.com/deepbas/statdatasets/main/ACS.csv"}\NormalTok{)}
\NormalTok{ACS }\OtherTok{\textless{}{-}}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{filter}\NormalTok{(ACS, }\SpecialCharTok{!}\NormalTok{(region  }\SpecialCharTok{\%in\%} \FunctionTok{c}\NormalTok{(}\StringTok{"Alaska"}\NormalTok{, }\StringTok{"Hawaii"}\NormalTok{))) }\CommentTok{\# only 48+D.C.}
\NormalTok{ACS}\SpecialCharTok{$}\NormalTok{region }\OtherTok{\textless{}{-}} \FunctionTok{tolower}\NormalTok{(ACS}\SpecialCharTok{$}\NormalTok{region)  }\CommentTok{\# lower case (match states regions)}
\end{Highlighting}
\end{Shaded}

\hypertarget{a-mapping-median-income}{%
\subsection{(a) Mapping median income}\label{a-mapping-median-income}}

Create a \texttt{cloropleth} plot that uses color to create a \texttt{MedianIncome} map of the US.

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# map median income}
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data=}\NormalTok{ACS) }\SpecialCharTok{+} \FunctionTok{coord\_map}\NormalTok{() }\SpecialCharTok{+} 
  \FunctionTok{geom\_map}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{map\_id =}\NormalTok{ region, }\AttributeTok{fill =}\NormalTok{ MedianIncome), }\AttributeTok{map =}\NormalTok{ states) }\SpecialCharTok{+}
  \FunctionTok{expand\_limits}\NormalTok{(}\AttributeTok{x=}\NormalTok{states}\SpecialCharTok{$}\NormalTok{long, }\AttributeTok{y=}\NormalTok{states}\SpecialCharTok{$}\NormalTok{lat) }\SpecialCharTok{+} \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"Median Income"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_5_files/figure-latex/unnamed-chunk-12-1}

\hypertarget{b-mapping-deviations-from-national-median-income}{%
\subsection{(b) Mapping deviations from national median income}\label{b-mapping-deviations-from-national-median-income}}

The median income in the US in 2016 was estimated to be \$27,000. Redraw your map in (a) to visualize each state's deviation from national median income.

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# compare state income to national income}
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data=}\NormalTok{ACS) }\SpecialCharTok{+} \FunctionTok{coord\_map}\NormalTok{() }\SpecialCharTok{+} 
  \FunctionTok{geom\_map}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{map\_id =}\NormalTok{ region, }\AttributeTok{fill =}\NormalTok{ MedianIncome }\SpecialCharTok{{-}} \DecValTok{27000}\NormalTok{), }\AttributeTok{map =}\NormalTok{ states) }\SpecialCharTok{+}
  \FunctionTok{expand\_limits}\NormalTok{(}\AttributeTok{x=}\NormalTok{states}\SpecialCharTok{$}\NormalTok{long, }\AttributeTok{y=}\NormalTok{states}\SpecialCharTok{$}\NormalTok{lat) }\SpecialCharTok{+} \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"Deviation from national median income"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_5_files/figure-latex/unnamed-chunk-13-1}

\hypertarget{c-changing-numerically-scaled-color}{%
\subsection{(c) Changing numerically scaled color}\label{c-changing-numerically-scaled-color}}

You should use a \emph{diverging} color for (b) to highlight larger deviations from the national median. Add \texttt{scale\_fill\_distiller} to the map from (b) and select a diverging palette.

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# change to a diverging color}
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data=}\NormalTok{ACS) }\SpecialCharTok{+} \FunctionTok{coord\_map}\NormalTok{() }\SpecialCharTok{+} 
  \FunctionTok{geom\_map}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{map\_id =}\NormalTok{ region, }\AttributeTok{fill =}\NormalTok{ MedianIncome }\SpecialCharTok{{-}} \DecValTok{27000}\NormalTok{), }\AttributeTok{map =}\NormalTok{ states) }\SpecialCharTok{+}
  \FunctionTok{expand\_limits}\NormalTok{(}\AttributeTok{x=}\NormalTok{states}\SpecialCharTok{$}\NormalTok{long, }\AttributeTok{y=}\NormalTok{states}\SpecialCharTok{$}\NormalTok{lat) }\SpecialCharTok{+} \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"Deviation from national median income"}\NormalTok{) }\SpecialCharTok{+} 
  \FunctionTok{scale\_fill\_distiller}\NormalTok{(}\AttributeTok{type =} \StringTok{"div"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_5_files/figure-latex/unnamed-chunk-14-1}

\hypertarget{d-fixing-a-midpoint-on-a-diverging-scale}{%
\subsection{(d) Fixing a midpoint on a diverging scale}\label{d-fixing-a-midpoint-on-a-diverging-scale}}

Use \texttt{scale\_fill\_gradient2} to fix a midpoint scale value at white color, with diverging colors for larger positive and negative values. Apply these colors to your map in (b) and fix the \texttt{midpoint} at an appropriate value.

Click for answer

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# change to a gradient fill color}
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data=}\NormalTok{ACS) }\SpecialCharTok{+} \FunctionTok{coord\_map}\NormalTok{() }\SpecialCharTok{+} 
  \FunctionTok{geom\_map}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{map\_id =}\NormalTok{ region, }\AttributeTok{fill =}\NormalTok{ MedianIncome }\SpecialCharTok{{-}} \DecValTok{27000}\NormalTok{), }\AttributeTok{map =}\NormalTok{ states) }\SpecialCharTok{+}
  \FunctionTok{expand\_limits}\NormalTok{(}\AttributeTok{x=}\NormalTok{states}\SpecialCharTok{$}\NormalTok{long, }\AttributeTok{y=}\NormalTok{states}\SpecialCharTok{$}\NormalTok{lat) }\SpecialCharTok{+} \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"Deviation from national median income"}\NormalTok{) }\SpecialCharTok{+} 
  \FunctionTok{scale\_fill\_gradient2}\NormalTok{(}
    \AttributeTok{low =} \StringTok{"lightblue"}\NormalTok{,    }\CommentTok{\# Set the low color to red}
    \AttributeTok{mid =} \StringTok{"white"}\NormalTok{, }\CommentTok{\# Set the mid color to yellow}
    \AttributeTok{high =} \StringTok{"maroon"}\NormalTok{, }\CommentTok{\# Set the high color to green}
    \AttributeTok{midpoint =} \DecValTok{0}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_5_files/figure-latex/unnamed-chunk-15-1}

\hypertarget{e-polygon-map}{%
\subsection{(e) Polygon map}\label{e-polygon-map}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Merge income data with geographic information}
\NormalTok{income\_data }\OtherTok{\textless{}{-}} \FunctionTok{left\_join}\NormalTok{(states, ACS, }\AttributeTok{by =} \FunctionTok{c}\NormalTok{(}\StringTok{"region"} \OtherTok{=} \StringTok{"region"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

Next, we will use this merged data to create a polygon map that focuses on the boundaries and shapes of each state, colored by median income.

\hypertarget{understanding-mercator-projection}{%
\subsubsection{Understanding Mercator Projection}\label{understanding-mercator-projection}}

The Mercator projection is a cylindrical map projection that was widely used for navigation charts because it represents lines of constant course, known as rhumb lines, as straight segments. However, this projection distorts the size of objects as the latitude increases from the Equator to the poles. For example, Greenland appears larger than Africa on a Mercator projection map, while in reality, Africa is about 14 times larger.

For this task, you will create a polygon map to visualize the \texttt{MedianIncome} across different states using the Mercator projection. Pay attention to the shapes and sizes of states as depicted on the map.

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(sf)}

\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ income\_data) }\SpecialCharTok{+}
  \FunctionTok{geom\_polygon}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ long, }\AttributeTok{y =}\NormalTok{ lat, }\AttributeTok{group =}\NormalTok{ group, }\AttributeTok{fill =}\NormalTok{ MedianIncome), }\AttributeTok{color =} \StringTok{"white"}\NormalTok{, }\AttributeTok{size =} \FloatTok{0.2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{coord\_sf}\NormalTok{(}\AttributeTok{crs =} \FunctionTok{st\_crs}\NormalTok{(}\StringTok{"+proj=merc +lon\_0=0 +k=1 +x\_0=0 +y\_0=0 +datum=WGS84 +units=m +no\_defs"}\NormalTok{), }\AttributeTok{datum =} \ConstantTok{NA}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{fill =} \StringTok{"Median Income"}\NormalTok{, }\AttributeTok{title =} \StringTok{"Median Income by State"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_viridis\_c}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_5_files/figure-latex/unnamed-chunk-17-1}

\hypertarget{f-visualizing-relative-income-deviation-with-robinson-projection}{%
\subsection{(f) Visualizing Relative Income Deviation with Robinson Projection}\label{f-visualizing-relative-income-deviation-with-robinson-projection}}

The Robinson projection is a map projection of a world map which shows the entire globe as if it were flat. It was specifically created in an attempt to find a good compromise to the problem of readily showing the whole globe as a flat image. The projection is neither equal-area nor conformal, abandoning both for a compromise. The Robinson projection is widely used for thematic and educational maps due to its visually pleasing representation of the Earth.

For this task, you will visualize the relative income deviation across states using the Robinson projection. Consider how the projection's compromise between size and shape affects the presentation of income data.

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Calculate income deviation as a percentage}
\NormalTok{national\_median }\OtherTok{\textless{}{-}} \DecValTok{27000}

\CommentTok{\# Merge the updated income data with geographic information}
\NormalTok{ACS}\SpecialCharTok{$}\NormalTok{IncomeDeviationPercent }\OtherTok{\textless{}{-}}\NormalTok{ ((ACS}\SpecialCharTok{$}\NormalTok{MedianIncome }\SpecialCharTok{{-}}\NormalTok{ national\_median) }\SpecialCharTok{/}\NormalTok{ national\_median) }\SpecialCharTok{*} \DecValTok{100}
\NormalTok{income\_data }\OtherTok{\textless{}{-}} \FunctionTok{left\_join}\NormalTok{(states, ACS, }\AttributeTok{by =} \FunctionTok{c}\NormalTok{(}\StringTok{"region"} \OtherTok{=} \StringTok{"region"}\NormalTok{))}

\CommentTok{\# Define the CRS for Robinson projection}
\NormalTok{robinson\_crs }\OtherTok{\textless{}{-}} \FunctionTok{st\_crs}\NormalTok{(}\StringTok{"+proj=robin +lon\_0=0 +x\_0=0 +y\_0=0 +datum=WGS84 +units=m +no\_defs"}\NormalTok{)}

\CommentTok{\# Plot the income deviation using Robinson projection with geom\_polygon}
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ income\_data) }\SpecialCharTok{+}
  \FunctionTok{geom\_polygon}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ long, }\AttributeTok{y =}\NormalTok{ lat, }\AttributeTok{group =}\NormalTok{ group, }\AttributeTok{fill =}\NormalTok{ IncomeDeviationPercent), }\AttributeTok{color =} \StringTok{"white"}\NormalTok{, }\AttributeTok{size =} \FloatTok{0.2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{coord\_sf}\NormalTok{(}\AttributeTok{crs =}\NormalTok{ robinson\_crs, }\AttributeTok{datum =} \ConstantTok{NA}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{fill =} \StringTok{"Income Deviation (\%)"}\NormalTok{, }\AttributeTok{title =} \StringTok{"Income Deviation from National Median by State (\%) (Robinson Projection)"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_distiller}\NormalTok{(}\AttributeTok{palette =} \StringTok{"Spectral"}\NormalTok{, }\AttributeTok{name =} \StringTok{"Deviation (\%)"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{class_activity_5_files/figure-latex/unnamed-chunk-18-1}

\hypertarget{class-activity-6}{%
\chapter{Class Activity 6}\label{class-activity-6}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# load the necessary libraries}
\FunctionTok{library}\NormalTok{(dplyr)}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(babynames)}
\end{Highlighting}
\end{Shaded}

We will work with the \texttt{babynames} dataset again in this class activity. The header of the dataset looks like this:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{knitr}\SpecialCharTok{::}\FunctionTok{kable}\NormalTok{(}\FunctionTok{head}\NormalTok{(babynames))}
\end{Highlighting}
\end{Shaded}

\begin{tabular}{r|l|l|r|r}
\hline
year & sex & name & n & prop\\
\hline
1880 & F & Mary & 7065 & 0.0723836\\
\hline
1880 & F & Anna & 2604 & 0.0266790\\
\hline
1880 & F & Emma & 2003 & 0.0205215\\
\hline
1880 & F & Elizabeth & 1939 & 0.0198658\\
\hline
1880 & F & Minnie & 1746 & 0.0178884\\
\hline
1880 & F & Margaret & 1578 & 0.0161672\\
\hline
\end{tabular}

In this tutorial, we will learn about the five main verbs of dplyr and how to use them to manipulate data:

\begin{itemize}
\tightlist
\item
  \texttt{select()}: Choose columns from a data frame
\item
  \texttt{filter()}: Choose rows based on a condition
\item
  \texttt{arrange()}: Sort the rows of a data frame
\item
  \texttt{mutate()}: Add new columns based on existing columns
\item
  \texttt{summarise()}: Aggregate data and compute summary statistics
\end{itemize}

\hypertarget{problem-1-select}{%
\section{\texorpdfstring{Problem 1: \texttt{select()}}{Problem 1: select()}}\label{problem-1-select}}

Which of these is NOT a way to select the \texttt{name} and \texttt{n} columns together?

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{select}\NormalTok{(babynames, }\SpecialCharTok{{-}}\FunctionTok{c}\NormalTok{(year, sex, prop))  }\CommentTok{\#1}
\FunctionTok{select}\NormalTok{(babynames, name}\SpecialCharTok{:}\NormalTok{n)   }\CommentTok{\#2}
\FunctionTok{select}\NormalTok{(babynames, }\FunctionTok{starts\_with}\NormalTok{(}\StringTok{"n"}\NormalTok{)) }\CommentTok{\#3}
\FunctionTok{select}\NormalTok{(babynames, }\FunctionTok{ends\_with}\NormalTok{(}\StringTok{"n"}\NormalTok{))  }\CommentTok{\#4}
\end{Highlighting}
\end{Shaded}

Click for answer

\emph{Answer:} 4 is not the way to select the \texttt{name} and \texttt{n} columns together

\hypertarget{problem-2-filter}{%
\section{\texorpdfstring{Problem 2: \texttt{filter()}}{Problem 2: filter()}}\label{problem-2-filter}}

Use \texttt{filter()} with the logical operators to extract:

\hypertarget{a.-all-of-the-names-where-prop-is-greater-than-or-equal-to-0.08}{%
\subsection{a. All of the names where prop is greater than or equal to 0.08}\label{a.-all-of-the-names-where-prop-is-greater-than-or-equal-to-0.08}}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{filter}\NormalTok{(babynames, prop }\SpecialCharTok{\textgreater{}=} \FloatTok{0.08}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 3 x 5
   year sex   name        n   prop
  <dbl> <chr> <chr>   <int>  <dbl>
1  1880 M     John     9655 0.0815
2  1880 M     William  9532 0.0805
3  1881 M     John     8769 0.0810
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# alternate}
\NormalTok{babynames }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(prop }\SpecialCharTok{\textgreater{}=} \FloatTok{0.08}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 3 x 5
   year sex   name        n   prop
  <dbl> <chr> <chr>   <int>  <dbl>
1  1880 M     John     9655 0.0815
2  1880 M     William  9532 0.0805
3  1881 M     John     8769 0.0810
\end{verbatim}

\hypertarget{b.-all-of-the-babies-named-rose}{%
\subsection{b. All of the babies named ``Rose''}\label{b.-all-of-the-babies-named-rose}}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{babynames }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(name }\SpecialCharTok{==} \StringTok{"Rose"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 247 x 5
    year sex   name      n      prop
   <dbl> <chr> <chr> <int>     <dbl>
 1  1880 F     Rose    700 0.00717  
 2  1880 M     Rose      7 0.0000591
 3  1881 F     Rose    734 0.00743  
 4  1882 F     Rose    886 0.00766  
 5  1883 F     Rose    877 0.00730  
 6  1883 M     Rose      5 0.0000445
 7  1884 F     Rose   1060 0.00770  
 8  1884 M     Rose      5 0.0000407
 9  1885 F     Rose   1164 0.00820  
10  1885 M     Rose      9 0.0000776
# i 237 more rows
\end{verbatim}

\hypertarget{c.-use-filter-to-choose-all-rows-where-name-is-john-and-sex-is-m.}{%
\subsection{c.~Use filter() to choose all rows where name is ``John'' and sex is ``M''.}\label{c.-use-filter-to-choose-all-rows-where-name-is-john-and-sex-is-m.}}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{babynames }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(name }\SpecialCharTok{==} \StringTok{"John"}\NormalTok{, sex }\SpecialCharTok{==} \StringTok{"M"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 138 x 5
    year sex   name      n   prop
   <dbl> <chr> <chr> <int>  <dbl>
 1  1880 M     John   9655 0.0815
 2  1881 M     John   8769 0.0810
 3  1882 M     John   9557 0.0783
 4  1883 M     John   8894 0.0791
 5  1884 M     John   9388 0.0765
 6  1885 M     John   8756 0.0755
 7  1886 M     John   9026 0.0758
 8  1887 M     John   8110 0.0742
 9  1888 M     John   9247 0.0712
10  1889 M     John   8548 0.0718
# i 128 more rows
\end{verbatim}

\hypertarget{problem-3-arrange}{%
\section{\texorpdfstring{Problem 3: \texttt{arrange()}}{Problem 3: arrange()}}\label{problem-3-arrange}}

\hypertarget{a.-use-arrange-to-sort-the-babynames-dataset-by-the-prop-column-in-descending-order.}{%
\subsection{\texorpdfstring{a. Use \texttt{arrange()} to sort the babynames dataset by the prop column in descending order.}{a. Use arrange() to sort the babynames dataset by the prop column in descending order.}}\label{a.-use-arrange-to-sort-the-babynames-dataset-by-the-prop-column-in-descending-order.}}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{babynames }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{arrange}\NormalTok{(}\FunctionTok{desc}\NormalTok{(prop))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 1,924,665 x 5
    year sex   name        n   prop
   <dbl> <chr> <chr>   <int>  <dbl>
 1  1880 M     John     9655 0.0815
 2  1881 M     John     8769 0.0810
 3  1880 M     William  9532 0.0805
 4  1883 M     John     8894 0.0791
 5  1881 M     William  8524 0.0787
 6  1882 M     John     9557 0.0783
 7  1884 M     John     9388 0.0765
 8  1882 M     William  9298 0.0762
 9  1886 M     John     9026 0.0758
10  1885 M     John     8756 0.0755
# i 1,924,655 more rows
\end{verbatim}

\hypertarget{b.-use-arrange-to-sort-the-babynames-dataset-by-year-ascending-and-then-by-prop-descending.}{%
\subsection{\texorpdfstring{b. Use \texttt{arrange()} to sort the babynames dataset by year (ascending) and then by prop (descending).}{b. Use arrange() to sort the babynames dataset by year (ascending) and then by prop (descending).}}\label{b.-use-arrange-to-sort-the-babynames-dataset-by-year-ascending-and-then-by-prop-descending.}}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{babynames }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{arrange}\NormalTok{(year, }\FunctionTok{desc}\NormalTok{(prop))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 1,924,665 x 5
    year sex   name        n   prop
   <dbl> <chr> <chr>   <int>  <dbl>
 1  1880 M     John     9655 0.0815
 2  1880 M     William  9532 0.0805
 3  1880 F     Mary     7065 0.0724
 4  1880 M     James    5927 0.0501
 5  1880 M     Charles  5348 0.0452
 6  1880 M     George   5126 0.0433
 7  1880 M     Frank    3242 0.0274
 8  1880 F     Anna     2604 0.0267
 9  1880 M     Joseph   2632 0.0222
10  1880 M     Thomas   2534 0.0214
# i 1,924,655 more rows
\end{verbatim}

\hypertarget{problem-4-mutate}{%
\section{\texorpdfstring{Problem 4: \texttt{mutate()}}{Problem 4: mutate()}}\label{problem-4-mutate}}

\hypertarget{a.-use-mutate-to-create-a-new-column-called-decade-which-contains-the-decade-the-record-is-in-e.g.-1990-for-the-years-1990-1999.}{%
\subsection{\texorpdfstring{a. Use \texttt{mutate()} to create a new column called decade which contains the decade the record is in (e.g., 1990 for the years 1990-1999).}{a. Use mutate() to create a new column called decade which contains the decade the record is in (e.g., 1990 for the years 1990-1999).}}\label{a.-use-mutate-to-create-a-new-column-called-decade-which-contains-the-decade-the-record-is-in-e.g.-1990-for-the-years-1990-1999.}}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{babynames }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{mutate}\NormalTok{(}\AttributeTok{decade =}\NormalTok{ (year }\SpecialCharTok{\%/\%} \DecValTok{10}\NormalTok{) }\SpecialCharTok{*} \DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 1,924,665 x 6
    year sex   name          n   prop decade
   <dbl> <chr> <chr>     <int>  <dbl>  <dbl>
 1  1880 F     Mary       7065 0.0724   1880
 2  1880 F     Anna       2604 0.0267   1880
 3  1880 F     Emma       2003 0.0205   1880
 4  1880 F     Elizabeth  1939 0.0199   1880
 5  1880 F     Minnie     1746 0.0179   1880
 6  1880 F     Margaret   1578 0.0162   1880
 7  1880 F     Ida        1472 0.0151   1880
 8  1880 F     Alice      1414 0.0145   1880
 9  1880 F     Bertha     1320 0.0135   1880
10  1880 F     Sarah      1288 0.0132   1880
# i 1,924,655 more rows
\end{verbatim}

\hypertarget{problem-5-summarize-or-summarise}{%
\section{\texorpdfstring{Problem 5: \texttt{summarize()} or \texttt{summarise()}}{Problem 5: summarize() or summarise()}}\label{problem-5-summarize-or-summarise}}

Use the codes mentioned so far to compute three statistics:

\begin{itemize}
\tightlist
\item
  the total number of children who ever had your name
\item
  the maximum number of children given your name in a single year
\item
  the mean number of children given your name per year/decade (optional)
\end{itemize}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{babynames }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{filter}\NormalTok{(name }\SpecialCharTok{==} \StringTok{"Dee"}\NormalTok{, sex }\SpecialCharTok{==} \StringTok{"M"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 136 x 5
    year sex   name      n     prop
   <dbl> <chr> <chr> <int>    <dbl>
 1  1880 M     Dee      20 0.000169
 2  1881 M     Dee      32 0.000296
 3  1882 M     Dee      23 0.000188
 4  1883 M     Dee      22 0.000196
 5  1884 M     Dee      27 0.000220
 6  1885 M     Dee      28 0.000241
 7  1886 M     Dee      26 0.000218
 8  1887 M     Dee      39 0.000357
 9  1888 M     Dee      35 0.000269
10  1889 M     Dee      24 0.000202
# i 126 more rows
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{babynames }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{filter}\NormalTok{(name }\SpecialCharTok{==} \StringTok{"Dee"}\NormalTok{, sex }\SpecialCharTok{==} \StringTok{"M"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{summarise}\NormalTok{(}\AttributeTok{max\_number =} \FunctionTok{max}\NormalTok{(n))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 1 x 1
  max_number
       <int>
1        125
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{babynames }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{filter}\NormalTok{(name }\SpecialCharTok{==} \StringTok{"Dee"}\NormalTok{, sex }\SpecialCharTok{==} \StringTok{"M"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{decade =}\NormalTok{ (year }\SpecialCharTok{\%/\%} \DecValTok{10}\NormalTok{) }\SpecialCharTok{*} \DecValTok{10}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{group\_by}\NormalTok{(decade) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{summarise}\NormalTok{(}\AttributeTok{total =} \FunctionTok{sum}\NormalTok{(n),}
            \AttributeTok{max =} \FunctionTok{max}\NormalTok{(n), }
            \AttributeTok{mean =} \FunctionTok{mean}\NormalTok{(n))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 14 x 4
   decade total   max   mean
    <dbl> <int> <int>  <dbl>
 1   1880   276    39  27.6 
 2   1890   271    43  27.1 
 3   1900   302    38  30.2 
 4   1910   818   125  81.8 
 5   1920  1090   125 109   
 6   1930  1010   118 101   
 7   1940   967   120  96.7 
 8   1950   957   118  95.7 
 9   1960   683   102  68.3 
10   1970   380    57  38   
11   1980   217    30  21.7 
12   1990   130    17  13   
13   2000    87    13   9.67
14   2010    52    12   7.43
\end{verbatim}

\hypertarget{problem-6}{%
\section{Problem 6}\label{problem-6}}

\hypertarget{a.-use-min_rank-and-mutate-to-rank-each-row-in-babynames-from-largest-prop-to-smallest-prop.}{%
\subsection{\texorpdfstring{a. Use \texttt{min\_rank()} and \texttt{mutate()} to rank each row in babynames from largest prop to smallest prop.}{a. Use min\_rank() and mutate() to rank each row in babynames from largest prop to smallest prop.}}\label{a.-use-min_rank-and-mutate-to-rank-each-row-in-babynames-from-largest-prop-to-smallest-prop.}}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{babynames }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{mutate}\NormalTok{(}\AttributeTok{rank =} \FunctionTok{min\_rank}\NormalTok{(}\FunctionTok{desc}\NormalTok{(prop))) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{arrange}\NormalTok{(rank)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 1,924,665 x 6
    year sex   name        n   prop  rank
   <dbl> <chr> <chr>   <int>  <dbl> <int>
 1  1880 M     John     9655 0.0815     1
 2  1881 M     John     8769 0.0810     2
 3  1880 M     William  9532 0.0805     3
 4  1883 M     John     8894 0.0791     4
 5  1881 M     William  8524 0.0787     5
 6  1882 M     John     9557 0.0783     6
 7  1884 M     John     9388 0.0765     7
 8  1882 M     William  9298 0.0762     8
 9  1886 M     John     9026 0.0758     9
10  1885 M     John     8756 0.0755    10
# i 1,924,655 more rows
\end{verbatim}

\hypertarget{b.-compute-each-names-rank-within-its-year-and-sex.}{%
\subsection{b. Compute each name's rank within its year and sex.}\label{b.-compute-each-names-rank-within-its-year-and-sex.}}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{babynames }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{group\_by}\NormalTok{(year, sex) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{mutate}\NormalTok{(}\AttributeTok{rank =} \FunctionTok{min\_rank}\NormalTok{(}\FunctionTok{desc}\NormalTok{(prop)))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 1,924,665 x 6
# Groups:   year, sex [276]
    year sex   name          n   prop  rank
   <dbl> <chr> <chr>     <int>  <dbl> <int>
 1  1880 F     Mary       7065 0.0724     1
 2  1880 F     Anna       2604 0.0267     2
 3  1880 F     Emma       2003 0.0205     3
 4  1880 F     Elizabeth  1939 0.0199     4
 5  1880 F     Minnie     1746 0.0179     5
 6  1880 F     Margaret   1578 0.0162     6
 7  1880 F     Ida        1472 0.0151     7
 8  1880 F     Alice      1414 0.0145     8
 9  1880 F     Bertha     1320 0.0135     9
10  1880 F     Sarah      1288 0.0132    10
# i 1,924,655 more rows
\end{verbatim}

\hypertarget{c.-then-compute-the-median-rank-for-each-combination-of-name-and-sex-and-arrange-the-results-from-highest-median-rank-to-lowest.}{%
\subsection{c.~Then compute the median rank for each combination of name and sex, and arrange the results from highest median rank to lowest.}\label{c.-then-compute-the-median-rank-for-each-combination-of-name-and-sex-and-arrange-the-results-from-highest-median-rank-to-lowest.}}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{babynames }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{group\_by}\NormalTok{(year, sex) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{rank =} \FunctionTok{min\_rank}\NormalTok{(}\FunctionTok{desc}\NormalTok{(prop))) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{group\_by}\NormalTok{(name, sex) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{summarize}\NormalTok{(}\AttributeTok{score =} \FunctionTok{median}\NormalTok{(rank)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{arrange}\NormalTok{(score) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 107,973 x 3
# Groups:   name [97,310]
   name      sex   score
   <chr>     <chr> <dbl>
 1 Mary      F       1  
 2 James     M       3  
 3 John      M       3  
 4 William   M       4  
 5 Robert    M       6  
 6 Michael   M       7.5
 7 Charles   M       9  
 8 Elizabeth F      10  
 9 Joseph    M      10  
10 Thomas    M      11  
# i 107,963 more rows
\end{verbatim}

  \bibliography{book.bib,packages.bib}

\end{document}
