[{"path":"index.html","id":"course-overview","chapter":"Course overview","heading":"Course overview","text":"Greetings welcome Introduction Data Science! course, delve computational aspects data analysis, covering topics data acquisition, management, visualization tools. Throughout course, emphasize principles data-scientific, reproducible research dynamic programming, utilizing R/RStudio ecosystem.taken Stat 120, 230, 250 Carleton, find well-equipped handle material. However, important refresh R R-markdown skills start class. Specifically, expect students able load data set R, calculate basic summary statistics, perform basic exploratory data analysis. first week class, delve Git GitHub version control, though prior exposure topics necessary.","code":""},{"path":"index.html","id":"learning-objectives","chapter":"Course overview","heading":"0.1 Learning Objectives","text":"Develop research questions can answered data. Import/scrape data R reshape form necessary analysis.Manipulate common types data, including numeric, categorical (factors), text, date-times, geo-location variables order provide insight data facilitate analysis.Explore data using graphical numeric methods provide insight uncover relationships/patterns.Utilize fundamental programming concepts iteration, conditional execution, functions streamline code.Build, tune, use, evaluate basic statistical learning models uncover clusters classify observations.Draw informed conclusions data communicate findings using written interactive platforms.","code":""},{"path":"index.html","id":"course-requirements","chapter":"Course overview","heading":"0.2 Course Requirements","text":"","code":""},{"path":"rstudio.html","id":"rstudio","chapter":"1 What is R, RStudio, and RMarkdown?","heading":"1 What is R, RStudio, and RMarkdown?","text":"R free open source statistical programming language facilitates statistical computation. myriad application can done R, thanks huge online support community dedicated packages. However, R graphical user interface run typing commands text interface.","code":""},{"path":"rstudio.html","id":"what-is-rstudio","chapter":"1 What is R, RStudio, and RMarkdown?","heading":"1.1 What is RStudio?","text":"RStudio provides graphical interface R! can think RStudio graphical front-end R provides extra functionality. use R programming language RStudio interface essential component course.","code":""},{"path":"rstudio.html","id":"r-studio-server","chapter":"1 What is R, RStudio, and RMarkdown?","heading":"1.2 R Studio Server","text":"quickest way get started go https://maize2.mathcs.carleton.edu, opens R Studio window web browser. logged , recommend following:Step 1: Create folder course can save work. Files window, click New Folder.Step 2: Click Tools -> Global Options -> R Markdown. uncheck box says “Show output inline…”(also possible download RStudio laptop. Instructions may found end document.)","code":""},{"path":"rstudio.html","id":"rrstudio","chapter":"1 What is R, RStudio, and RMarkdown?","heading":"1.3 R/RStudio","text":"use R programming language RStudio interface \nessential component course. two options using\nRStudio:server version RStudio web \n(https://maize2.mathcs.carleton.edu). advantage using \nserver version work stored cloud,\nautomatically saved backed . means \ncan access work computer campus using web\nbrowser. server may run slow peak days/hours. also recommend\ndownload local version R server computer case rare outages.server version RStudio web \n(https://maize2.mathcs.carleton.edu). advantage using \nserver version work stored cloud,\nautomatically saved backed . means \ncan access work computer campus using web\nbrowser. server may run slow peak days/hours. also recommend\ndownload local version R server computer case rare outages.local version RStudio installed machine. \noption highly recommended due computational resources \ncourse demands. Using version can store files local machine. Additionally, can save work GitHub. learn use GitHub beginning course. R RStudio free open-source. Please make sure recently updated R RStudio.local version RStudio installed machine. \noption highly recommended due computational resources \ncourse demands. Using version can store files local machine. Additionally, can save work GitHub. learn use GitHub beginning course. R RStudio free open-source. Please make sure recently updated R RStudio.","code":""},{"path":"rstudio.html","id":"installing-rrstudio-not-needed-if-you-are-using-the-maize-server","chapter":"1 What is R, RStudio, and RMarkdown?","heading":"1.4 Installing R/RStudio (not needed if you are using the maize server)","text":"Download latest version R: https://cran.r-project.org/\nDownload free Rstudio desktop version: https://www.rstudio.com/products/rstudio/download/Use default download install options . R, download “precompiled binary” distribution rather source codeUpdating R/RStudio (needed using maize server)used local version R/RStudio still installed machine, make sure recent versions program.check version R, run command getRversion() compare version newest version posted https://cran.r-project.org/. need update, install newer version using installation directions .check version R, run command getRversion() compare version newest version posted https://cran.r-project.org/. need update, install newer version using installation directions .RStudio, check updates menu option Help > Check updates. Follow directions update needed.RStudio, check updates menu option Help > Check updates. Follow directions update needed.** work? (sanity check install/update) **whatever appropriate operating system launch\nRStudio. get window similar screenshot see\n,\nboring haven’t written code\nmade figures yet!Put cursor pane labeled Console, \ninteract live R process. Create simple object code\nlike x <- 2 * 4 (followed enter return). inspect \nx object typing x followed enter return. see\nvalue 8 printed. happened, ’ve succeeded \ninstalling R RStudio!","code":""},{"path":"rstudio.html","id":"what-is-rmarkdown","chapter":"1 What is R, RStudio, and RMarkdown?","heading":"1.5 What is RMarkdown?","text":"R Markdown file (.Rmd file) combines R commands written analyses, ‘knit’ together HTML, PDF, Microsoft Word document.R Markdown file contains three essential elements:Header: header (top) file contains information like document title, author, date preferred output format (pdf_document, word_document, html_document).Header: header (top) file contains information like document title, author, date preferred output format (pdf_document, word_document, html_document).Written analysis: write analysis header embed R code needed. online help shows ways add formatting details like bold words, lists, section labels, etc final pdf/word/html document. example, adding ** word bold word compiled document.Written analysis: write analysis header embed R code needed. online help shows ways add formatting details like bold words, lists, section labels, etc final pdf/word/html document. example, adding ** word bold word compiled document.R chunks: R chunks contain R commands want evaluated. embed chunks within written analysis evaluated compile document.R chunks: R chunks contain R commands want evaluated. embed chunks within written analysis evaluated compile document.","code":""},{"path":"rstudio.html","id":"install-latex-for-knitting-r-markdown-documents-to-pdf","chapter":"1 What is R, RStudio, and RMarkdown?","heading":"1.6 Install LaTeX (for knitting R Markdown documents to PDF):","text":"need Latex compiler create pdf document R Markdown file. use maize server, don’t need install anything. using local RStudio, install Latex compiler. recommended installers Windows Mac:MacTeX Mac (3.2GB)MacTeX Mac (3.2GB)MiKTeX Windows (190MB)MiKTeX Windows (190MB)Alternatively, can install tinytex R package running\ninstall.packages(\"tinytex\") console.Alternatively, can install tinytex R package running\ninstall.packages(\"tinytex\") console.","code":""},{"path":"rstudio.html","id":"updating-rrstudio-not-needed-if-you-are-using-the-maize2-server","chapter":"1 What is R, RStudio, and RMarkdown?","heading":"1.7 Updating R/RStudio (not needed if you are using the maize2 server)","text":"used local version R/RStudio still installed machine, make sure recent versions program.check version R, run command getRversion() compare version newest version posted https://cran.r-project.org/. need update, install newer version using installation directions .check version R, run command getRversion() compare version newest version posted https://cran.r-project.org/. need update, install newer version using installation directions .RStudio, check updates menu option Help > Check updates. Follow directions update needed.RStudio, check updates menu option Help > Check updates. Follow directions update needed.","code":""},{"path":"rstudio.html","id":"opening-a-new-file","chapter":"1 What is R, RStudio, and RMarkdown?","heading":"1.8 Opening a new file","text":"using Rstudio computer, using File>Open File menu find open .Rmd file.using Maize Rstudio browser:Files tab, select Upload Choose File find .Rmd downloaded. Click OK upload course folder/location maize server account.Files tab, select Upload Choose File find .Rmd downloaded. Click OK upload course folder/location maize server account.Click .Rmd file appropriate folder open file.Click .Rmd file appropriate folder open file.","code":""},{"path":"rstudio.html","id":"running-codes-and-knitting-.rmd-files","chapter":"1 What is R, RStudio, and RMarkdown?","heading":"1.9 Running codes and knitting .Rmd files:","text":"can run line code placing cursor line code clicking Run Selected Line(s)can run line code placing cursor line code clicking Run Selected Line(s)can run entire chunk clicking green triangle right side code chunk.can run entire chunk clicking green triangle right side code chunk.small edit code addition, Knit Markdown. wait end Knit, harder find errors work.small edit code addition, Knit Markdown. wait end Knit, harder find errors work.Format output type: can use pdf_document, html_document type, word_document type.Format output type: can use pdf_document, html_document type, word_document type.Maize users: may also need allow “pop-” web browser knitting documents.Maize users: may also need allow “pop-” web browser knitting documents.","code":""},{"path":"rstudio.html","id":"few-more-instructions","chapter":"1 What is R, RStudio, and RMarkdown?","heading":"1.10 Few More Instructions","text":"default setting Rstudio running chunks “output” (numbers, graphs) \nshown inline within Markdown Rmd. prefer plots appear right console chunk, change settings follows:Select Tools > Global Options.Click R Markdown section uncheck (needed) option Show output inline \nR Markdown documents.Click OK.Now try running R chunks .Rmd file see difference. can recheck box prefer\ndefault setting.","code":""},{"path":"rstudio.html","id":"vpn","chapter":"1 What is R, RStudio, and RMarkdown?","heading":"1.11 VPN","text":"plan work campus term, need install Carleton’s VPN. allow access maize server (needed).Installing GlobalProtect VPNFollow directions install VPN.","code":""},{"path":"assignments.html","id":"assignments","chapter":"2 Assignments in Stat 220","heading":"2 Assignments in Stat 220","text":"","code":""},{"path":"assignments.html","id":"dos-and-dont-of-collaboration-for-individual-assignments","chapter":"2 Assignments in Stat 220","heading":"2.1 Do’s and Don’t of collaboration for individual assignments","text":"can discuss homework problems classmates must\nwrite homework solutions work R\n(sharing commands output).\nshare R commands/code way, including, \nlimited , sending commands via email, slack, text, showing\ncommands shared screen intention showing \nclassmate solution problem.\ncan share screen help troubleshoot coding problem\nR.\nshare R commands/code way, including, \nlimited , sending commands via email, slack, text, showing\ncommands shared screen intention showing \nclassmate solution problem.can share screen help troubleshoot coding problem\nR.can use following resources complete homework:\nCarleton faculty (, math statistics faculty, etc)\ndiscussions classmates (see ) knowledgeable friends\nCarleton resources like stats lab assistants\nstudent solutions provided back student textbook\nstudent solution manual.\nCarleton faculty (, math statistics faculty, etc)discussions classmates (see ) knowledgeable friendsCarleton resources like stats lab assistantsstudent solutions provided back student textbook\nstudent solution manual.use resources ones listed \ncomplete assignments (homework, reports, etc) class.\n(e.g. use friend’s old assignments reports, answers\nfound internet, textbook (instructor) solutions manual, etc.)","code":""},{"path":"assignments.html","id":"examples-that-violate-the-academic-integrity-policy","chapter":"2 Assignments in Stat 220","heading":"2.1.1 Examples that violate the academic integrity policy","text":"sending .Rmd homework file another person classreceiving .Rmd homework file another personsharing screen copying code, verbatim, another personsending/receiving R commandsneglecting acknowledge classmates worked \nassignment","code":""},{"path":"assignments.html","id":"format-and-content","chapter":"2 Assignments in Stat 220","heading":"2.2 Format and Content","text":"Submit via GitHub (assignments) organized correctly\nordered assignment.Content: Good data scientists need just write code;\nable interpret explain analyzes.\nProvide written answer first, followed required R\ncode output.\nUse complete sentences answering problem \nrequires explanation overall problem summary.\nProvide written answer first, followed required R\ncode output.Use complete sentences answering problem \nrequires explanation overall problem summary.including code:\nsure show natural sequence work needed answer\nproblem.\nInclude brief comments explain code steps.\ninclude typos unnecessary commands/output.\nAlways include code output.\nsure show natural sequence work needed answer\nproblem.Include brief comments explain code steps.include typos unnecessary commands/output.Always include code output.top individual assignment include names \nclassmates worked part assignment\n(person must write assignment )Disability Accommodations: Carleton College committed \nproviding equitable access learning opportunities students.\nDisability Services office (Henry House, 107 Union Street) \ncampus office collaborates students disabilities \nprovide /arrange reasonable accommodations. , think\nmay , disability (e.g., mental health, attentional, learning,\nautism spectrum disorders, chronic health, traumatic brain injury \nconcussions, vision, hearing, mobility, speech impairments), please\ncontact disability@carleton.edu call Sam Thayer (’10),\nAccessibility Specialist (x4464) Chris Dallager, Director \nDisability Services (x5250) arrange confidential discussion\nregarding equitable access reasonable accommodations.Academic Honesty: work turn name must\nfollow Carleton’s academic integrity policy. use textbook\nsolution manuals (physical online solutions), homework, reports \nexams done past students allowed. Look College’s\nWriting Across Curriculum website \nadditional guidance plagiarism avoid plagiarism \nwriting.","code":""},{"path":"software.html","id":"software","chapter":"3 Software in Stat 220","heading":"3 Software in Stat 220","text":"work many .Rmd Markdown files course. include class activities, homework template, project helper files etc. stay organized, strongly suggest create stat220 folder contains following subfolders:stat220 folder\nAssignments: folder contain subfolders \nassignment. assignment subfolder (e.g. homework1,\nhomework2, …) Github connected RStudio project \ncreate assignment posted.\nContent: folder used save \nnon-assignment files (e.g. slides, examples) class. \ncreate subfolder creating RStudio project (see\nstep 5 ).\nAssignments: folder contain subfolders \nassignment. assignment subfolder (e.g. homework1,\nhomework2, …) Github connected RStudio project \ncreate assignment posted.Assignments: folder contain subfolders \nassignment. assignment subfolder (e.g. homework1,\nhomework2, …) Github connected RStudio project \ncreate assignment posted.Content: folder used save \nnon-assignment files (e.g. slides, examples) class. \ncreate subfolder creating RStudio project (see\nstep 5 ).Content: folder used save \nnon-assignment files (e.g. slides, examples) class. \ncreate subfolder creating RStudio project (see\nstep 5 ).get started organization, follow steps .","code":""},{"path":"software.html","id":"file-organization-using-maize","chapter":"3 Software in Stat 220","heading":"3.1 File organization: Using maize","text":"server (online) version Rstudio run unix server. \ncan navigate file system using unix commands, assume \njust use Rstudio access files \nserver.1. Rstudio, click Files tab lower right-hand\nwindow. Note: File menu\noption.2. Verify HOME folder (simply\nsay Home right New Folder button). navigate \nHome folder (somehow ), click … button\n(far right side Files tab) enter ~ (tilde) symbol3. Click New Folder button name folder\nstat220.4. Click newly created (empty) stat220 folder.\nWithin folder create another New Folder name \nassignments.5. Within stat220 folder, create RStudio project\ncalled content following steps:\n. Click Project button upper righthand\ncorner RStudio window select New Project….\n5. Within stat220 folder, create RStudio project\ncalled content following steps:. Click Project button upper righthand\ncorner RStudio window select New Project….b. Select New Directory New Projectc. Enter content Directory name use \nBrowse button find stat220 folder. click\nCreate Project.d. now new folder called content \nstat220 folder folder contain RStudio project\n.Rproj. Feel free add subfolders content folder\n(e.g. slides, examples, etc).Warning: create RStudio project main stat220 folder\ngood practice RStudio projects subfolders\nanother project (e.g. project within project recommended).","code":""},{"path":"software.html","id":"file-organization-using-your-own-rstudio","chapter":"3 Software in Stat 220","heading":"3.2 File organization: Using your own Rstudio","text":"Create folder called stat220 somewhere computer. Within\nfolder create assignments subfolder. complete step\n5 create content RStudio project folder.","code":""},{"path":"software.html","id":"rstudio-projects","chapter":"3 Software in Stat 220","heading":"3.3 RStudio projects","text":"’ve created project, R session running within\nproject folder. can check project checking\nproject name upper righthand part RStudio window.\nsee content project open:Running R RStudio project sets working directory \nproject folder:allows easy file path access files related \nproject.start project, click .Rproj file use Open\nProject… option shown step 5 .","code":""},{"path":"software.html","id":"best-practices-or-what-not-to-do","chapter":"3 Software in Stat 220","heading":"3.4 Best practices (or what not to do)","text":"Never save files lab computer hard drive (e.g. desktop,\ndownloads, etc). erased log .use gmail file storage system! Avoid emailing \nfiles created (saved) lab computer. Eventually \nlose work way.Avoid using online versions google drive dropbox. Similar \ngmail, downloading, editing doc, uploading back \ndrive/dropbox another great way lose work.Avoid .","code":""},{"path":"software.html","id":"git-and-github","chapter":"3 Software in Stat 220","heading":"3.5 Git and GitHub","text":"Git version\ncontrol software install locally computer. Git \nalready installed maize RStudio server.Github \ncloud-based service hosting git projects. allows multiple users\nshare contribute projects submitting\nhomework assignments projects class. information Git \nGithub can also found Getting setup Git \nGitHub Git Github.using local install R/RStudio, need \ninstall Git.Installing GitDirections Windows & Mac :\nhttp://happygitwithr.com/install-git.html.using maize, nothing need install.Windows users follow Option 1 6.2.Mac users can follow Option 1 6.3 comfortable, otherwise follow Option 2Linux users can follow 6.4.","code":""},{"path":"software.html","id":"slack","chapter":"3 Software in Stat 220","heading":"3.6 Slack","text":"use Slack course communication. Sign course\nSlack team\n!\nneed create account username, log read\npost. can download \nstandalone Slack application \nMac,\nWindows,\nLinux /\nAndroid/iOS\ndevice. can control whether receive notifications new posts\ngoing Preferences, well decide ‘channels’ subscribe\n. ‘channel’ discussion thread, used organize\ncommunications topics. can learn Slack features\n.Several channels set specific parts course. Feel\nfree ask questions anytime. can browse available channels \nteam clicking “Channels” left-hand panel.","code":""},{"path":"software.html","id":"acknowledgements","chapter":"3 Software in Stat 220","heading":"3.7 Acknowledgements","text":"installation guide based guide Adam Loy Katie St. Clair.","code":""},{"path":"github.html","id":"github","chapter":"4 GitHub Guide for Students in Stat 220","heading":"4 GitHub Guide for Students in Stat 220","text":"","code":""},{"path":"github.html","id":"overview","chapter":"4 GitHub Guide for Students in Stat 220","heading":"4.1 Overview","text":"using maize RStudio server, can connect \nGitHub without extra software downloads. using RStudio \ncomputer, need download Git software (directed\nSoftware Stat 220) use GitHub connected\nprojects. use GitHub submit homework collaborate projects.","code":""},{"path":"github.html","id":"getting-setup-with-git-and-github","chapter":"4 GitHub Guide for Students in Stat 220","heading":"4.2 Getting setup with Git and GitHub","text":"working maize RStudio server, make sure\ninstalled software mentioned Software Stat 220. addition, install usethis gitcreds R packages.Everyone needs connect Git GitHub following:Register account GitHub (https://github.com/). recommend\nusing username incorporates name (e.g., dbastola) Carleton email address Github account.Register account GitHub (https://github.com/). recommend\nusing username incorporates name (e.g., dbastola) Carleton email address Github account.haven’t done already, accept invite class organization DataScienceSpring23. organization course homework files project repositories live.haven’t done already, accept invite class organization DataScienceSpring23. organization course homework files project repositories live.Setup options Git running following code chunk \nconsole:\n\n#install.packages(\"usethis\")  # uncomment install\nusethis::use_git_config(user.name = \"Jane Doe\", user.email = \"jane@example.org\")\nchanging first two arguments name email (\nemail associated GitHub account).Setup options Git running following code chunk \nconsole:changing first two arguments name email (\nemail associated GitHub account).order push changes github (.e. track changes submit homework), need prove permission change Github repo. done personal access token (PAT). Note need install packages usethis gitcreds .\n\nusethis::create_github_token()\n Call `gitcreds::gitcreds_set()` register token local Git credential store\n also great idea store token password-management software use\n ✓ Opening URL 'https://github.com/settings/tokens/new?scopes=repo,user,gist,workflow&description=R:GITHUB_PAT'\n“Generate token” store tokens somewhere safe local computer need future. can additionally add PAT .Renviron file well. Copy paste .Renviron file system variable GITHUB_PAT using\n\nusethis::edit_r_environ()\nAdd file save. can also set PAT token R using following.\n\n#install.packages(\"gitcreds\") # uncomment install\ngitcreds::gitcreds_set()\ncan check ’ve stored credential gitcreds_get():\n\ngitcreds::gitcreds_get()order push changes github (.e. track changes submit homework), need prove permission change Github repo. done personal access token (PAT). Note need install packages usethis gitcreds .“Generate token” store tokens somewhere safe local computer need future. can additionally add PAT .Renviron file well. Copy paste .Renviron file system variable GITHUB_PAT usingAdd file save. can also set PAT token R using following.can check ’ve stored credential gitcreds_get():get something like :Treat PAT token like password! details, follow step Section 9.1 page : https://happygitwithr.com/https-pat.html.","code":"\n#install.packages(\"usethis\")  # uncomment to install\nusethis::use_git_config(user.name = \"Jane Doe\", user.email = \"jane@example.org\")\nusethis::create_github_token() Call `gitcreds::gitcreds_set()` to register this token in the local Git credential store\n It is also a great idea to store this token in any password-management software that you use\n ✓ Opening URL 'https://github.com/settings/tokens/new?scopes=repo,user,gist,workflow&description=R:GITHUB_PAT'\nusethis::edit_r_environ()\n#install.packages(\"gitcreds\") # uncomment to install\ngitcreds::gitcreds_set()\ngitcreds::gitcreds_get()```\n#> <gitcreds>\n#>   protocol: https\n#>   host    : github.com\n#>   username: PersonalAccessToken\n#>   password: <-- hidden -->\n```"},{"path":"github.html","id":"individual-assignments","chapter":"4 GitHub Guide for Students in Stat 220","heading":"4.3 Individual assignments","text":"followed suggestions File organization RStudio page, already \nassignments folder computer maize account.new assignment/project posted repository GitHub \nadded directly account (within Stat220 organization). \nrepository contain assignment details (README, .Rmd).","code":""},{"path":"github.html","id":"creating-an-individual-assignment-repo-and-project","chapter":"4 GitHub Guide for Students in Stat 220","heading":"4.3.1 Creating an individual assignment repo and project","text":"Go course GitHub organization page\n(DataScienceSpring23) find homework repo, hw1-username (username attached).Go course GitHub organization page\n(DataScienceSpring23) find homework repo, hw1-username (username attached).Enter online assignment repository GitHub. Click green\n“Code” button. just use default setting\n“clone” (copy) using HTTPS. Click clipboard \nright URL copy repo location.Enter online assignment repository GitHub. Click green\n“Code” button. just use default setting\n“clone” (copy) using HTTPS. Click clipboard \nright URL copy repo location.Now open RStudio create project follows:\nClick Project button upper right corner RStudio window select New Project….\n\nSelect Version Control New Project\n\nPaste link just copied Repository URL box. Leave\nProject directory name blank (keep auto-filled name). Use\nBrowse button find assignments folder, \nclick Create Project\nNow open RStudio create project follows:Click Project button upper right corner RStudio window select New Project….\nSelect Version Control New Project\nPaste link just copied Repository URL box. Leave\nProject directory name blank (keep auto-filled name). Use\nBrowse button find assignments folder, \nclick Create Project","code":""},{"path":"github.html","id":"working-on-your-assignment","chapter":"4 GitHub Guide for Students in Stat 220","heading":"4.3.2 Working on your assignment","text":"RStudio project now open, allow start\nworking homework assignment. see project\nassignment name top right side Rstudio. probably see\nblank console screen open new project. Look \nFiles tab homework .Rmd file. Click whatever file \nwant edit (probably .Rmd file) edit away. Make sure \ncurrent assignment’s project one open showing upper\nrightproject name. open project, click .Rproj file \nuse Open Project… option available upper right project\nlink.","code":""},{"path":"github.html","id":"commits","chapter":"4 GitHub Guide for Students in Stat 220","heading":"4.3.2.1 Commits","text":"make changes homework assignment, commit . \ncommits ask? Commits essentially taking snapshot \nprojects. Commits save snapshot local version Git\n(located hard drive maize server). example, make\nchanges code prints “Hello world”, commit \ninformative message, can look history commits \nview code wrote time. made changes \nfunction resulted error, go back commit\ncode originally working. prevents creating\nseveral versions homework (homework-v1, homework-v2, …) \ntrying remember code originally looked like.can make commits Git tab RStudio.Click Commit button Git tab. Check boxes files\nwant commit, enter commit message (briefly state \nchanges made), hit Commit. can read \nRStudio detail :\nhttp://r-pkgs..co.nz/git.html#git-commit.Two things committing.commit somewhat frequently. minimum, ’re\nhomework assignment, make commit time \n’ve finished question.Leave informative commit messages. “Added stuff” help\n’re looking commit history year. message\nlike “Added initial version hello-world function” \nuseful.","code":""},{"path":"github.html","id":"pushing-changes-to-github","chapter":"4 GitHub Guide for Students in Stat 220","heading":"4.3.2.2 Pushing changes to Github","text":"point ’ll want get updated version assignment\nback onto GitHub, either can help code \ncan graded. also want push work frequently \nshared GitHub repo project collaborations (.e. \none person working project code). ready push,\ncan click “” Push arrow Git tab \nCommit pop-window Git tab (shown ).“turn ” assignment, need push relevant\nfiles Github deadline.","code":""},{"path":"github.html","id":"group-work","chapter":"4 GitHub Guide for Students in Stat 220","heading":"4.4 Group work","text":"Collaborative Github assignments pretty similar individual assignments.","code":""},{"path":"github.html","id":"creating-a-grouppartner-assignment-repo-and-project","chapter":"4 GitHub Guide for Students in Stat 220","heading":"4.4.1 Creating a group/partner assignment repo and project","text":"Go course GitHub organization page(DataScienceSpring23) find repo group, example group name “team01” might find mp1-team01 repo. Clone repo computer/maize account using steps done individual assignment (see steps 2-3).","code":""},{"path":"github.html","id":"working-with-collaborative-repos","chapter":"4 GitHub Guide for Students in Stat 220","heading":"4.4.1.1 Working with collaborative repos","text":"group homework, suggest recorder edit group-homework-x.Rmd file avoid merge conflicts! group members can create new Markdown doc run save commands. recorder needs push changes (answers) Github repo others can pull changes (.e. final answers) HW submitted.working together Github project, commit push modifications frequently. also need frequently pull updates Github local version RStudio. updates changes teammates made since last pull. pull changes, click “” Pull arrow Git tab (shown ).get error conflict pulling pushing, don’t freak ! can happen edit file (usually .Rmd .R file) location also changed teammate. happens attempt fix merge conflict. Take look resource site try fix merge conflict Rstudio.","code":""},{"path":"github.html","id":"additional-resources","chapter":"4 GitHub Guide for Students in Stat 220","heading":"4.5 Additional resources","text":"Happy Git GitHub useRRstudio, Git GitHubInteractive learning guide GitGitHub GuidesGit setup Windows (video)Git setup Mac (video)clone, edit, push homework assignments GitHub Classroom (video)","code":""},{"path":"github.html","id":"acknowledgements-1","chapter":"4 GitHub Guide for Students in Stat 220","heading":"4.6 Acknowledgements","text":"content guide taken \nhttps://github.com/jfiksel/github-classroom--students, edited classroom use Katie St. Clair.","code":""},{"path":"github.html","id":"reuse","chapter":"4 GitHub Guide for Students in Stat 220","heading":"4.7 Reuse","text":"guide licensed CC -NC 3.0 Creative\nCommons License.","code":""},{"path":"r-markdown-syntax.html","id":"r-markdown-syntax","chapter":"5 R Markdown Syntax","heading":"5 R Markdown Syntax","text":"Markdown simple formatting syntax authoring HTML, PDF, MS Word documents. details using R Markdown see http://rmarkdown.rstudio.com.","code":""},{"path":"r-markdown-syntax.html","id":"lists-in-r-markdown","chapter":"5 R Markdown Syntax","heading":"5.0.1 Lists in R Markdown:","text":"can use asterisk mark provide emphasis, *italics* **bold**. can create lists dash:produceItem 1Item 2Item 3\nSubitem 1\nSubitem 1Item 4You can embed Latex equations -line, $\\frac{1}{n} \\sum_{=1}^{n} x_{}$ produce \\(\\frac{1}{n} \\sum_{=1}^{n} x_{}\\) new line $$\\text{Var}(X) = \\frac{1}{n-1}\\sum_{-1}^{n} (x_{} - \\bar{x})^2$$ produce \\[\\text{Var}(X) = \\frac{1}{n-1}\\sum_{-1}^{n} (x_{} - \\bar{x})^2\\]","code":"- Item 1\n- Item 2\n- Item 3\n  + Subitem 1\n* Item 4"},{"path":"r-markdown-syntax.html","id":"embed-an-r-code-chunk","chapter":"5 R Markdown Syntax","heading":"5.0.2 Embed an R code chunk:","text":"Use followingto produce:can also evaluate display results R code. tasks can accomplished suitably labeled chunk like following:","code":"```r\nUse back ticks to \ncreate a block of code\n```Use back ticks to \ncreate a block of code\nsummary(cars)     speed           dist       \n Min.   : 4.0   Min.   :  2.00  \n 1st Qu.:12.0   1st Qu.: 26.00  \n Median :15.0   Median : 36.00  \n Mean   :15.4   Mean   : 42.98  \n 3rd Qu.:19.0   3rd Qu.: 56.00  \n Max.   :25.0   Max.   :120.00  \nfit <- lm(dist ~ speed, data = cars)\nfit\nCall:\nlm(formula = dist ~ speed, data = cars)\n\nCoefficients:\n(Intercept)        speed  \n    -17.579        3.932  "},{"path":"r-markdown-syntax.html","id":"including-plots","chapter":"5 R Markdown Syntax","heading":"5.0.3 Including Plots:","text":"can also embed plots. See Figure 5.1 example:\nFigure 5.1: fancy pie chart.\n(Credit: Yihui Xie)","code":"\npar(mar = c(0, 1, 0, 1))\npie(\n  c(280, 60, 20),\n  c('Sky', 'Sunny side of pyramid', 'Shady side of pyramid'),\n  col = c('#0292D8', '#F7EA39', '#C4B632'),\n  init.angle = -50, border = NA\n)"},{"path":"r-markdown-syntax.html","id":"read-in-data-files","chapter":"5 R Markdown Syntax","heading":"5.0.4 Read in data files:","text":"","code":"\nsimple_data <- read.csv(\"https://deepbas.io/data/simple-1.dat\", )\nsummary(simple_data)    initials            state                age      \n Length:3           Length:3           Min.   :45.0  \n Class :character   Class :character   1st Qu.:47.5  \n Mode  :character   Mode  :character   Median :50.0  \n                                       Mean   :52.0  \n                                       3rd Qu.:55.5  \n                                       Max.   :61.0  \n     time          \n Length:3          \n Class :character  \n Mode  :character  \n                   \n                   \n                   \nknitr::kable(simple_data)"},{"path":"r-markdown-syntax.html","id":"hide-the-code","chapter":"5 R Markdown Syntax","heading":"5.0.5 Hide the code:","text":"enter echo = FALSE option R chunk (see .Rmd file). prevents R code printed document; just see results.","code":""},{"path":"class-activity-0.html","id":"class-activity-0","chapter":"6 Class Activity 0","heading":"6 Class Activity 0","text":"worksheet, practice creating GitHub repository using usethis::use_github() function cloning back local machine using RStudio’s menu options.","code":"\n# load the required libraries\nlibrary(credentials) # to help with PAT access\nlibrary(gitcreds)\nlibrary(usethis)\n# STEPS INVOLVED TO ESTABLISH GIT CREDENTIALS / PAT\n\n# Step 1\n\n# usethis::use_git_config(user.name = \"deepbas\", user.email = \"deepbas99@gmail.com\")\n\n# Step 2\n\n# usethis::create_github_token()\n\n# Step 3\n\n# if this is the second/subsequent iteration start from here\n\n# gitcreds::gitcreds_set()\n\n# Verify\n\n# gitcreds::gitcreds_get()"},{"path":"class-activity-0.html","id":"tutorial-1-creating-and-cloning-a-repository-starting-from-github-to-rstudio","chapter":"6 Class Activity 0","heading":"6.1 Tutorial 1: Creating and cloning a Repository starting from Github to RStudio","text":"Visit GitHub website https://github.com sign using GitHub account. don’t account yet, can create one free.Visit GitHub website https://github.com sign using GitHub account. don’t account yet, can create one free.logged , click “+” icon top right corner webpage, click “New repository”.logged , click “+” icon top right corner webpage, click “New repository”.Enter name new repository “Repository name” field. may also provide optional description.Enter name new repository “Repository name” field. may also provide optional description.Choose visibility repository selecting either “Public” “Private”. Public repositories visible anyone, private repositories visible collaborators invite.Choose visibility repository selecting either “Public” “Private”. Public repositories visible anyone, private repositories visible collaborators invite.(Optional) Check box initialize repository README file.(Optional) Check box initialize repository README file.Click “Create repository” button create new repository.Click “Create repository” button create new repository.create new GitHub repository Github account. Follow clone repository local folder using RStudio.Go GitHub repository webpage click green “Code” button. display dropdown menu URL repository. Click clipboard icon copy URL clipboard.Go GitHub repository webpage click green “Code” button. display dropdown menu URL repository. Click clipboard icon copy URL clipboard.Open RStudio, “File” menu, select “New Project”.Open RStudio, “File” menu, select “New Project”.“New Project” dialog, choose “Version Control”.“New Project” dialog, choose “Version Control”.Select “Git” version control system.Select “Git” version control system.“Repository URL” field, paste URL copied GitHub repository webpage.“Repository URL” field, paste URL copied GitHub repository webpage.Choose local directory want clone repository clicking “Browse” button navigating desired folder computer.Choose local directory want clone repository clicking “Browse” button navigating desired folder computer.Click “Create Project” clone GitHub repository local computer.Click “Create Project” clone GitHub repository local computer.","code":""},{"path":"class-activity-0.html","id":"tutorial-2-creating-a-new-github-repository-using-usethis-r-package-rstudio-to-github-works-only-on-local-rstudio","chapter":"6 Class Activity 0","heading":"6.2 Tutorial 2: Creating a new GitHub repository using usethis R package (RStudio to Github) (Works ONLY on local RStudio)","text":"","code":""},{"path":"class-activity-0.html","id":"prerequisites","chapter":"6 Class Activity 0","heading":"6.2.1 Prerequisites","text":"Install usethis package haven’t already: install.packages(“usethis”)Install usethis package haven’t already: install.packages(“usethis”)Make sure GitHub account, logged .Make sure GitHub account, logged .Configure Git name email address haven’t already. Run following commands R console, replacing “Name” “youremail@example.com” information:Configure Git name email address haven’t already. Run following commands R console, replacing “Name” “youremail@example.com” information:Create new R project RStudio clicking “File” > “New Project” > “New Directory” > “New Project.” Give project name choose location computer save . Click “Create Project.”Create new R project RStudio clicking “File” > “New Project” > “New Directory” > “New Project.” Give project name choose location computer save . Click “Create Project.”Make new file copy paste .Rmd file want repo save requirement.Make new file copy paste .Rmd file want repo save requirement.R console, load usethis package:Initialize Git repository project running:Now, let’s create new GitHub repository using usethis::use_github() function. Run following command:Follow instructions R console, GitHub repository created. Note repository URL, need next activity.","code":"\nusethis::use_git_config(user.name = \"Your Name\", user.email = \"youremail@example.com\")\nlibrary(usethis)\nusethis::use_git()\nusethis::use_github()"},{"path":"class-activity-0.html","id":"optional-tutorial-3-creating-a-new-github-repository-using-rstudios-git-terminal","chapter":"6 Class Activity 0","heading":"6.3 (Optional) Tutorial 3: Creating a new GitHub repository using RStudio’s Git terminal","text":"Create new R project RStudio clicking “File” > “New Project” > “New Directory” > “New Project.” Give project name choose location computer save . Click “Create Project.”Create new R project RStudio clicking “File” > “New Project” > “New Directory” > “New Project.” Give project name choose location computer save . Click “Create Project.”Initialize Git repository project. Click “Terminal” tab bottom right pane RStudio run following command:Initialize Git repository project. Click “Terminal” tab bottom right pane RStudio run following command:Configure Git name email address haven’t already. Run following commands terminal, replacing “Name” “youremail@example.com” information:Commit project files Git repository. Run following commands terminal:Go GitHub account, click “+” icon upper right corner, select “New repository.” Give repository name (’s recommended use name R project), click “Create repository.”Go GitHub account, click “+” icon upper right corner, select “New repository.” Give repository name (’s recommended use name R project), click “Create repository.”“…push existing repository command line” section new GitHub repository, copy commands section. look similar following (replace   GitHub username repository name):“…push existing repository command line” section new GitHub repository, copy commands section. look similar following (replace   GitHub username repository name):Paste copied commands RStudio terminal execute . link local Git repository remote GitHub repository push initial commit GitHub repository.","code":"git initgit config user.name \"Your Name\"\ngit config user.email \"youremail@example.com\"git add .\ngit commit -m \"Initial commit\"git remote add origin https://github.com/<your-username>/<your-repo-name>.git\ngit branch -M main\ngit push -u origin main"},{"path":"class-activity-1.html","id":"class-activity-1","chapter":"7 Class Activity 1","heading":"7 Class Activity 1","text":"R package babynames provides data popularity individual baby names US Social Security Administration. Data includes names used least 5 times year beginning 1880.list first cases baby names.many cases variables dataset babynames?Answer:1924665 cases 5 variables dataset babynames.Let’s use package tidyverse exploratory data analysis.\nFigure 7.1: trend chart\nsee Figure 1? Explain sentences.Answer:Repeat question 2 infer proportion babies first name trend time. Examine generated plot describe trend name’s popularity time. Consider following points:popularity name increased, decreased, remained stable years? noticeable difference popularity sexes? interesting patterns trends, sudden increases decreases popularity?Answer: Answers vary.Compare popularity first name randomly chosen name dataset. Examine generated plot compare popularity first name randomly chosen name. Consider following points:differences popularity trends two names? one name consistently popular , popularity levels change time? interesting patterns trends data, periods rapid increase decrease popularity?Answer Answers vary","code":"\n#install.packages(\"babynames\")  # uncomment to install\nlibrary(babynames)\nhead(babynames)# A tibble: 6 × 5\n   year sex   name          n   prop\n  <dbl> <chr> <chr>     <int>  <dbl>\n1  1880 F     Mary       7065 0.0724\n2  1880 F     Anna       2604 0.0267\n3  1880 F     Emma       2003 0.0205\n4  1880 F     Elizabeth  1939 0.0199\n5  1880 F     Minnie     1746 0.0179\n6  1880 F     Margaret   1578 0.0162\ndim(babynames)[1] 1924665       5\n#install.packages(\"tidyverse\")   # uncomment to install\nlibrary(tidyverse)\nbabynames %>% filter(name=='Aimee')# A tibble: 150 × 5\n    year sex   name      n      prop\n   <dbl> <chr> <chr> <int>     <dbl>\n 1  1880 F     Aimee    13 0.000133 \n 2  1881 F     Aimee    11 0.000111 \n 3  1882 F     Aimee    13 0.000112 \n 4  1883 F     Aimee    11 0.0000916\n 5  1884 F     Aimee    15 0.000109 \n 6  1885 F     Aimee    17 0.000120 \n 7  1886 F     Aimee    17 0.000111 \n 8  1887 F     Aimee    18 0.000116 \n 9  1888 F     Aimee    12 0.0000633\n10  1889 F     Aimee    16 0.0000846\n# … with 140 more rows\nfiltered_names <- babynames %>% filter(name=='Aimee')\n#install.packages(\"ggplot2\")   # uncomment to install\nlibrary(ggplot2)\nggplot(data=filtered_names, aes(x=year, y=prop)) + \n  geom_line(aes(colour=sex)) + \n  xlab('Year') + \n  ylab('Prop. of Babies Named Aimee')\n# Replace 'YourName' with your first name\nyour_name <- \"Dee\"\n\nyour_name_data <- babynames %>% filter(name == your_name)\n\nggplot(data=your_name_data, aes(x=year, y=prop)) + \n  geom_line(aes(colour=sex)) + \n  xlab('Year') + \n  ylab(paste('Prop. of Babies Named', your_name))\n# Replace 'YourName' with your first name\nyour_name_data <- babynames %>% filter(name == 'Dee')\n\n# Replace 'RandomName' with a randomly chosen name from the dataset\nrandom_name_data <- babynames %>% filter(name == 'Max')\n\n# Combine the two datasets\ncombined_data <- bind_rows(your_name_data, random_name_data)\n\n# Plot the data\nggplot(data=combined_data, aes(x=year, y=prop)) + \n  geom_line(aes(colour=sex, linetype=name)) + \n  xlab('Year') "},{"path":"class-activity-1.html","id":"extras-optional","chapter":"7 Class Activity 1","heading":"7.1 Extras (optional)","text":"","code":""},{"path":"class-activity-1.html","id":"part-1-setting-working-directory-and-loading-data","chapter":"7 Class Activity 1","heading":"7.1.1 Part 1: Setting Working Directory and Loading Data","text":"Set working directory folder computer like save R scripts data files.Load mtcars dataset comes preloaded R. dataset consists various car features corresponding miles per gallon (mpg) values.","code":"\n# Replace 'your_directory_path' with the path to your desired folder\n# setwd(\"your_directory_path\")\ndata(mtcars)\nhead(mtcars)                   mpg cyl disp  hp drat    wt  qsec vs am\nMazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1\nMazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1\nDatsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1\nHornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0\nHornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0\nValiant           18.1   6  225 105 2.76 3.460 20.22  1  0\n                  gear carb\nMazda RX4            4    4\nMazda RX4 Wag        4    4\nDatsun 710           4    1\nHornet 4 Drive       3    1\nHornet Sportabout    3    2\nValiant              3    1"},{"path":"class-activity-1.html","id":"part-2-downloading-packages","chapter":"7 Class Activity 1","heading":"7.1.2 Part 2: Downloading Packages","text":"Install “tidyverse” package, collection useful R packages data manipulation, exploration, visualization.Load “tidyverse” package R session.","code":"\n# Uncomment the line below to install the package\n# install.packages(\"tidyverse\")\nlibrary(tidyverse)"},{"path":"class-activity-1.html","id":"part-3-creating-and-compiling-an-r-markdown-file","chapter":"7 Class Activity 1","heading":"7.1.3 Part 3: Creating and Compiling an R Markdown File","text":"Create new R Markdown file RStudio clicking “File” > “New File” > “R Markdown…”. Save file working directory.Create new R Markdown file RStudio clicking “File” > “New File” > “R Markdown…”. Save file working directory.Add following code R Markdown file create scatter plot mtcars dataset, showing relationship miles per gallon (mpg) weight car (wt).Add following code R Markdown file create scatter plot mtcars dataset, showing relationship miles per gallon (mpg) weight car (wt).Knit R Markdown file create output document. Click “Knit” button top RStudio script editor, choose output format prefer (e.g., HTML, PDF, Word).","code":"\n# Create a scatter plot\nggplot(data = mtcars, aes(x = wt, y = mpg)) +\n  geom_point() +\n  xlab(\"Weight (1000 lbs)\") +\n  ylab(\"Miles per Gallon\") +\n  theme_minimal()"},{"path":"class-activity-1.html","id":"questions","chapter":"7 Class Activity 1","heading":"7.2 Questions","text":"","code":""},{"path":"class-activity-1.html","id":"how-does-the-weight-of-a-car-wt-affect-its-miles-per-gallon-mpg-based-on-the-scatter-plot-you-created","chapter":"7 Class Activity 1","heading":"7.2.1 1. How does the weight of a car (wt) affect its miles per gallon (mpg) based on the scatter plot you created?","text":"Answer:","code":""},{"path":"class-activity-1.html","id":"what-is-the-importance-of-setting-a-working-directory-in-r","chapter":"7 Class Activity 1","heading":"7.2.2 2. What is the importance of setting a working directory in R?","text":"Answer:","code":""},{"path":"class-activity-1.html","id":"explain-the-role-of-r-markdown-in-creating-reproducible-research-documents.","chapter":"7 Class Activity 1","heading":"7.2.3 3. Explain the role of R Markdown in creating reproducible research documents.","text":"Answer:R Markdown plays crucial role creating reproducible research documents allowing combine text, code, output (e.g., tables, figures) within single document. integration narrative, data, results makes easier document data analysis process, ensuring others can easily understand, reproduce, build upon work. R Markdown also supports various output formats (e.g., HTML, PDF, Word) make easy share research findings others.","code":""},{"path":"class-activity-2.html","id":"class-activity-2","chapter":"8 Class Activity 2","heading":"8 Class Activity 2","text":"Let’s practice common data assignments manipulations R.Create vector integers 4 10, save a1.Create vector even integers 4 10, save a2.get add a1 a2?command sum(a1) ?command length(a1) ?Use sum length commands calculate average values a1.","code":"\na1 <- 4:10\na1[1]  4  5  6  7  8  9 10\na2 <- seq(4, 10, by=2)\na2[1]  4  6  8 10\na1_plus_a2 <- a1 + a2\na1_plus_a2[1]  8 11 14 17 12 15 18\nsum_a1 <- sum(a1)\nsum_a1[1] 49\nlength_a1 <- length(a1)\nlength_a1[1] 7\naverage_a1 <- sum(a1) / length(a1)\naverage_a1[1] 7"},{"path":"class-activity-2.html","id":"extras-optional-1","chapter":"8 Class Activity 2","heading":"8.1 Extras (Optional)","text":"worksheet, learn use write_csv() function readr package save data object R session file working directory.First, let’s load necessary package.Suppose simple data frame called my_data, three columns: Name, Age, City.Now want save data frame CSV file working directory. , use write_csv() function. first argument data object want save, second argument file name (including .csv extension).command save my_data file called my_data.csv working directory.Question 1: purpose write_csv() function?Answer:write_csv() function used save data object R session CSV file working directory.Question 2: save data frame called my_data file named “example_data.csv”?Answer:Question 3: want save data frame called students file named “student_data.csv”, appropriate command?Answer:","code":"\nlibrary(readr)\nmy_data <- data.frame(Name = c(\"Alice\", \"Bob\", \"Charlie\", \"David\"),\n                      Age = c(25, 30, 22, 35),\n                      City = c(\"New York\", \"Los Angeles\", \"Chicago\", \"San Francisco\"))\nmy_data     Name Age          City\n1   Alice  25      New York\n2     Bob  30   Los Angeles\n3 Charlie  22       Chicago\n4   David  35 San Francisco\nwrite_csv(my_data, \"my_data.csv\")\n# Your code here\nwrite_csv(my_data, \"example_data.csv\")\n# Your code here\nwrite_csv(students, \"student_data.csv\")"},{"path":"class-activity-3.html","id":"class-activity-3","chapter":"9 Class Activity 3","heading":"9 Class Activity 3","text":"","code":"\n# some interesting data objects\nx <- c(3,6,9,5,10)\nx.mat <- cbind(x, 2*x)\nx.df <- data.frame(x=x,double.x=x*2)\nmy.list <- list(myVec=x, myDf=x.df, myString=c(\"hi\",\"bye\"))"},{"path":"class-activity-3.html","id":"question-1-data-types","chapter":"9 Class Activity 3","heading":"9.1 Question 1: data types","text":"data type x?Answer:data type c(x, x/2)?Answer:data type c(x,NA)? data type c(x,\"NA\")?Answer:","code":"\n# code\ntypeof(x)[1] \"double\"\n# code\ntypeof(c(x, x/2))[1] \"double\"\n# code\ntypeof(c(x, NA))[1] \"double\"\ntypeof(c(x, \"NA\"))[1] \"character\""},{"path":"class-activity-3.html","id":"question-2-subsetting-and-coercion","chapter":"9 Class Activity 3","heading":"9.2 Question 2: Subsetting and coercion","text":"can reverse order entries x?Answer:(x < 5) equal?Answer:Extract element x corresponds location preceding question.Answer:sum(c(TRUE,FALSE,TRUE,FALSE)) equal?Answer:sum(x[c(TRUE,FALSE,TRUE,FALSE)]) equal?Answer:sum(x < 5) equal?Answer:sum(x[x < 5]) equal?Answer:dim(x.mat[1:2,1]) return NULL dim(x.mat[1:2,1:2]) returns dimension?Answer:","code":"\n# code\nrev(x)[1] 10  5  9  6  3\nx[length(x):1][1] 10  5  9  6  3\n# code\nwhich(x<5)[1] 1\n# code\nx[which(x<5)][1] 3\n# code\nsum(c(TRUE,FALSE,TRUE,FALSE))[1] 2\n# code\nsum(x[c(TRUE,FALSE,TRUE,FALSE, TRUE)])[1] 22\n# code\nsum(x < 5)[1] 1\n# code\nsum(x[x < 5])[1] 3\n# code\ndim(x.mat[1:2,1])NULL\ndim(x.mat[1:2,1:2])[1] 2 2"},{"path":"class-activity-3.html","id":"question-3-lists","chapter":"9 Class Activity 3","heading":"9.3 Question 3: Lists","text":"Using .list, show three ways write one command gives 3rd entry variable x data frame myDfAnswer:class object command .list[3] return?Answer:class object command .list[[3]] return?Answer:class object command unlist(.list) return? entries characters?Answer:","code":"\n# code\nmy.list[[1]][3][1] 9\nmy.list[[\"myVec\"]][3][1] 9\nmy.list[1]$myVec[3][1] 9\nmy.list$myVec[3][1] 9\n# code\nclass(my.list[3])[1] \"list\"\n# code\nclass(my.list[[3]])[1] \"character\"\n# code\nclass(unlist(my.list))[1] \"character\""},{"path":"class-activity-4.html","id":"class-activity-4","chapter":"10 Class Activity 4","heading":"10 Class Activity 4","text":"","code":"\n# Load the required libraries\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(datasauRus)"},{"path":"class-activity-4.html","id":"your-turn-1","chapter":"10 Class Activity 4","heading":"10.1 Your turn 1","text":"worksheet guide creating various plots using ggplot2 package R. using datasaurus_dozen dataset datasauRus package demonstration purposes. dataset contains 13 different datasets, ’ll use create variety plots.","code":""},{"path":"class-activity-4.html","id":"scatterplot","chapter":"10 Class Activity 4","heading":"10.1.1 Scatterplot","text":"Run following code.must remember put aesthetic mappings aes() function! happens forget?Answer:forget put aesthetic mappings inside aes() function, ggplot2 able map variables aesthetics correctly, might encounter error unexpected behavior plot.aesthetic mappings can specified geom layer prefer, instead main ggplot() call. Give try:Answer:","code":"\nggplot(data = dino_data, mapping = aes(x = x, y = y)) +\n  geom_point()\n# Add a layer and see what happens\nggplot(data = dino_data , x = x , y = y)\n# Rebuild the scatterplot with your aesthetic mapping in the geom layer\nggplot(data = dino_data) +\n   geom_point(aes(x = x, y = y)) "},{"path":"class-activity-4.html","id":"bar-plot","chapter":"10 Class Activity 4","heading":"10.1.2 Bar Plot","text":"problem, ’ll explore creating bar plot using datasaurus_dozen dataset.Create new data frame containing count observations dataset.Answer:Create bar plot showing number observations dataset.Answer:","code":"\ndataset_counts <- datasaurus_dozen %>%\n  group_by(dataset) %>%\n  summarise(count = n())\nggplot(data = dataset_counts, aes(x = dataset, y = count)) +\n  geom_bar(stat = \"identity\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) "},{"path":"class-activity-4.html","id":"histogram","chapter":"10 Class Activity 4","heading":"10.1.3 Histogram","text":"Create histogram x variable dino dataset.Answer:Overlay density curve histogram.Answer:","code":"\nggplot(data = dino_data, aes(x = x)) +\n  geom_histogram(binwidth = 1) \nggplot(data = dino_data, aes(x = x)) +\n  geom_histogram(aes(y = after_stat(density)), binwidth = 2, fill = \"lightblue\") +\n  geom_density(color = \"red\")"},{"path":"class-activity-4.html","id":"boxplot","chapter":"10 Class Activity 4","heading":"10.1.4 Boxplot","text":"Create boxplot x variable dataset datasaurus_dozen.Answer:","code":"\nggplot(data = datasaurus_dozen, aes(x = dataset, y = x)) +\n  geom_boxplot() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))"},{"path":"class-activity-4.html","id":"faceting","chapter":"10 Class Activity 4","heading":"10.1.5 Faceting","text":"Answer:Create scatterplot x vs. y dataset datasaurus_dozen using facet_wrap().","code":"\nggplot(data = datasaurus_dozen, aes(x = x, y = y)) +\n  geom_point() +\n  facet_wrap(~ dataset) +\n  theme_minimal()"},{"path":"class-activity-4.html","id":"variable-transformation","chapter":"10 Class Activity 4","heading":"10.1.6 Variable Transformation","text":"scatterplot dino dataset without transformations given .Answer:Now, apply square root transformation x y axes using scale_x_sqrt() scale_y_sqrt() functions dino dataset.Answer:Finally, use grid.arrange() function gridExtra package plot two plots side--side. plot prefer ?Answer: second plot revealing dinosaur first plot.","code":"\nggplot(data = dino_data, aes(x = x, y = y)) +\n  geom_point() +\n  theme_minimal() -> p1\nggplot(data = dino_data, aes(x = x, y = y)) +\n  geom_point() +\n  scale_x_sqrt() +\n  scale_y_sqrt() +\n  theme_minimal() -> p2\nlibrary(gridExtra)\ngrid.arrange(p1, p2, nrow = 1)"},{"path":"class-activity-4.html","id":"optional-lne-plot","chapter":"10 Class Activity 4","heading":"10.1.7 (Optional) Lne plot","text":"Create line plot x variable y variable dino dataset. make interesting, let’s first calculate rolling mean y variable.Answer:","code":"\ndino_data <- dino_data %>%\n  arrange(x) %>%\n  mutate(rolling_mean_y = zoo::rollmean(y, k = 5, fill = NA))\n\n# Line plot\nggplot(data = dino_data, aes(x = x, y = rolling_mean_y)) +\n  geom_line(color = \"blue\") +\n  theme_minimal()"},{"path":"class-activity-5.html","id":"class-activity-5","chapter":"11 Class Activity 5","heading":"11 Class Activity 5","text":"","code":"\n# Load the required libraries\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(ggthemes)"},{"path":"class-activity-5.html","id":"problem-1-changing-color-and-shape-scales","chapter":"11 Class Activity 5","heading":"11.1 Problem 1: Changing color and shape scales","text":"problem, learn effects changing colors, scales, shapes ggplot2 gradient discrete color choices. given series questions examples enhance understanding. Consider following scatter plotModify scatter plot use custom colors category using scale_color_manual(). effect changing colors plot’s readability?Answer: Changing colors using scale_color_manual() allows better distinction categories enhances plot’s readability.Modify scatter plot use custom shapes category using scale_shape_manual(). effect changing shapes plot’s readability?Answer: Changing shapes using scale_shape_manual() helps distinguish categories improves plot’s readability","code":"\n# Generate sample data\nset.seed(42)\ndata <- data.frame(\n  Category = factor(sample(1:3, 50, replace = TRUE), labels = c(\"A\", \"B\", \"C\")),\n  X = 10 ^ rnorm(50, mean = 2, sd = 1),\n  Y = rnorm(50, mean = 0, sd = 1)\n)\n\np <- ggplot(data, aes(x = X, y = Y, color = Category)) +\n  geom_point(size = 3)\n\np\np <- ggplot(data, aes(x = X, y = Y, color = Category)) +\n  geom_point(size = 3) +\n  scale_color_manual(values = c(\"A\" = \"red\", \"B\" = \"blue\", \"C\" = \"green\"))\np\np <- ggplot(data, aes(x = X, y = Y, shape = Category)) +\n  geom_point(size = 3) +\n  scale_shape_manual(values = c(\"A\" = 16, \"B\" = 17, \"C\" = 18))\n\np"},{"path":"class-activity-5.html","id":"problem-2-us-maps","chapter":"11 Class Activity 5","heading":"11.2 Problem 2: US maps","text":"Now, let’s learn effect changing various coordinate systems ggplot2 using map example usmap package. explore different types coordinate systems available ggplot2 can applied map visualization.","code":"\n#install.packages(\"usmap\")   #uncomment to install\nlibrary(usmap)"},{"path":"class-activity-5.html","id":"a.-plot-a-simple-map-of-the-united-states-using-ggplot2-and-the-usmap-package.","chapter":"11 Class Activity 5","heading":"11.2.1 a. Plot a simple map of the United States using ggplot2 and the usmap package.","text":"Answer:","code":"\nus <- plot_usmap()\nus"},{"path":"class-activity-5.html","id":"b.-apply-the-coord_flip-function-to-the-map-to-flip-the-x-and-y-axes.","chapter":"11 Class Activity 5","heading":"11.2.2 b. Apply the coord_flip() function to the map to flip the x and y axes.","text":"Answer:","code":"\nus_flipped <- us + coord_flip()\nus_flipped"},{"path":"class-activity-5.html","id":"c.-apply-the-coord_polar-function-to-the-map-to-transform-the-plot-to-a-polar-coordinate-system","chapter":"11 Class Activity 5","heading":"11.2.3 c. Apply the coord_polar() function to the map to transform the plot to a polar coordinate system","text":"Answer:","code":"\nus_polar <- us + coord_polar()\nus_polar"},{"path":"class-activity-5.html","id":"d.-apply-the-coord_quickmap-function-to-the-map-to-provide-an-approximation-for-a-map-projection.","chapter":"11 Class Activity 5","heading":"11.2.4 d. Apply the coord_quickmap() function to the map to provide an approximation for a map projection.","text":"Answer:","code":"\nus_quickmap <- us + coord_quickmap()\nus_quickmap"},{"path":"class-activity-5.html","id":"problem-3-chloropeth-map","chapter":"11 Class Activity 5","heading":"11.3 Problem 3: Chloropeth map","text":"today’s class created cloropleth maps states US based ACS data.","code":"\nstates <- map_data(\"state\")\nACS <- ACS <- read.csv(\"https://raw.githubusercontent.com/deepbas/statdatasets/main/ACS.csv\")\nACS <- dplyr::filter(ACS, !(region  %in% c(\"Alaska\", \"Hawaii\"))) # only 48+D.C.\nACS$region <- tolower(ACS$region)  # lower case (match states regions)"},{"path":"class-activity-5.html","id":"a-mapping-median-income","chapter":"11 Class Activity 5","heading":"11.3.1 (a) Mapping median income","text":"Create cloropleth plot uses color create MedianIncome map US.Answer:","code":"\n# map median income\nggplot(data=ACS) + coord_map() + \n  geom_map(aes(map_id = region, fill = MedianIncome), map = states) +\n  expand_limits(x=states$long, y=states$lat) + ggtitle(\"Median Income\")"},{"path":"class-activity-5.html","id":"b-mapping-deviations-from-national-median-income","chapter":"11 Class Activity 5","heading":"11.3.2 (b) Mapping deviations from national median income","text":"median income US 2016 estimated $27,000. Redraw map () visualize state’s deviation national median income.Answer:","code":"\n# compare state income to national income\nggplot(data=ACS) + coord_map() + \n  geom_map(aes(map_id = region, fill = MedianIncome - 27000), map = states) +\n  expand_limits(x=states$long, y=states$lat) + ggtitle(\"Deviation from national median income\")"},{"path":"class-activity-5.html","id":"c-changing-numerically-scaled-color","chapter":"11 Class Activity 5","heading":"11.3.3 (c) Changing numerically scaled color","text":"use diverging color (b) highlight larger deviations national median. Add scale_fill_distiller map (b) select diverging palette.Answer:","code":"\n# change to a diverging color\nggplot(data=ACS) + coord_map() + \n  geom_map(aes(map_id = region, fill = MedianIncome - 27000), map = states) +\n  expand_limits(x=states$long, y=states$lat) + ggtitle(\"Deviation from national median income\") + \n  scale_fill_distiller(type = \"div\")"},{"path":"class-activity-5.html","id":"d-fixing-a-midpoint-on-a-diverging-scale","chapter":"11 Class Activity 5","heading":"11.3.4 (d) Fixing a midpoint on a diverging scale","text":"Use scale_fill_gradient2 fix midpoint scale value white color, diverging colors larger positive negative values. Apply colors map (b) fix midpoint appropriate value.Answer:","code":"\n# change to a gradient fill color\nggplot(data=ACS) + coord_map() + \n  geom_map(aes(map_id = region, fill = MedianIncome - 27000), map = states) +\n  expand_limits(x=states$long, y=states$lat) + ggtitle(\"Deviation from national median income\") + \n  scale_fill_gradient2(\n    low = \"lightblue\",    # Set the low color to red\n    mid = \"white\", # Set the mid color to yellow\n    high = \"maroon\", # Set the high color to green\n    midpoint = 0\n  )"},{"path":"class-activity-5.html","id":"optional","chapter":"11 Class Activity 5","heading":"11.4 (Optional)","text":"Let’s learn create polar bar plot custom colors.","code":"\ndata <- data.frame(\n  Category = factor(1:12, labels = month.abb),\n  Value = c(30, 28, 50, 45, 60, 75, 80, 77, 60, 48, 32, 20)\n)\np <- ggplot(data, aes(x = Category, y = Value, fill = Category)) +\n  geom_bar(stat = \"identity\", width = 1) +\n  coord_polar(theta = \"y\") +\n  scale_fill_brewer(palette = \"Set3\") +\n  labs(title = \"Polar Bar Plot Example\", x = \"Month\", y = \"Value\")\np"},{"path":"class-activity-6.html","id":"class-activity-6","chapter":"12 Class Activity 6","heading":"12 Class Activity 6","text":"work babynames dataset class activity. header dataset looks like :tutorial, learn five main verbs dplyr use manipulate data:select(): Choose columns data framefilter(): Choose rows based conditionarrange(): Sort rows data framemutate(): Add new columns based existing columnssummarise(): Aggregate data compute summary statistics","code":"\n# load the necessary libraries\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(babynames)\nknitr::kable(head(babynames))"},{"path":"class-activity-6.html","id":"problem-1-select","chapter":"12 Class Activity 6","heading":"12.1 Problem 1: select()","text":"way select name n columns together?Answer: 4 way select name n columns together","code":"\nselect(babynames, -c(year, sex, prop))  #1\nselect(babynames, name:n)   #2\nselect(babynames, starts_with(\"n\")) #3\nselect(babynames, ends_with(\"n\"))  #4"},{"path":"class-activity-6.html","id":"problem-2-filter","chapter":"12 Class Activity 6","heading":"12.2 Problem 2: filter()","text":"Use filter() logical operators extract:","code":""},{"path":"class-activity-6.html","id":"a.-all-of-the-names-where-prop-is-greater-than-or-equal-to-0.08","chapter":"12 Class Activity 6","heading":"12.2.1 a. All of the names where prop is greater than or equal to 0.08","text":"","code":"\nfilter(babynames, prop >= 0.08)# A tibble: 3 × 5\n   year sex   name        n   prop\n  <dbl> <chr> <chr>   <int>  <dbl>\n1  1880 M     John     9655 0.0815\n2  1880 M     William  9532 0.0805\n3  1881 M     John     8769 0.0810\n# alternate\nbabynames %>% filter(prop >= 0.08)# A tibble: 3 × 5\n   year sex   name        n   prop\n  <dbl> <chr> <chr>   <int>  <dbl>\n1  1880 M     John     9655 0.0815\n2  1880 M     William  9532 0.0805\n3  1881 M     John     8769 0.0810"},{"path":"class-activity-6.html","id":"b.-all-of-the-babies-named-rose","chapter":"12 Class Activity 6","heading":"12.2.2 b. All of the babies named “Rose”","text":"","code":"\nbabynames %>% filter(name == \"Rose\")# A tibble: 247 × 5\n    year sex   name      n      prop\n   <dbl> <chr> <chr> <int>     <dbl>\n 1  1880 F     Rose    700 0.00717  \n 2  1880 M     Rose      7 0.0000591\n 3  1881 F     Rose    734 0.00743  \n 4  1882 F     Rose    886 0.00766  \n 5  1883 F     Rose    877 0.00730  \n 6  1883 M     Rose      5 0.0000445\n 7  1884 F     Rose   1060 0.00770  \n 8  1884 M     Rose      5 0.0000407\n 9  1885 F     Rose   1164 0.00820  \n10  1885 M     Rose      9 0.0000776\n# … with 237 more rows"},{"path":"class-activity-6.html","id":"c.-use-filter-to-choose-all-rows-where-name-is-john-and-sex-is-m.","chapter":"12 Class Activity 6","heading":"12.2.3 c. Use filter() to choose all rows where name is “John” and sex is “M”.","text":"","code":"\nbabynames %>% filter(name == \"John\", sex == \"M\")# A tibble: 138 × 5\n    year sex   name      n   prop\n   <dbl> <chr> <chr> <int>  <dbl>\n 1  1880 M     John   9655 0.0815\n 2  1881 M     John   8769 0.0810\n 3  1882 M     John   9557 0.0783\n 4  1883 M     John   8894 0.0791\n 5  1884 M     John   9388 0.0765\n 6  1885 M     John   8756 0.0755\n 7  1886 M     John   9026 0.0758\n 8  1887 M     John   8110 0.0742\n 9  1888 M     John   9247 0.0712\n10  1889 M     John   8548 0.0718\n# … with 128 more rows"},{"path":"class-activity-6.html","id":"problem-3-arrange","chapter":"12 Class Activity 6","heading":"12.3 Problem 3: arrange()","text":"","code":""},{"path":"class-activity-6.html","id":"a.-use-arrange-to-sort-the-babynames-dataset-by-the-prop-column-in-descending-order.","chapter":"12 Class Activity 6","heading":"12.3.1 a. Use arrange() to sort the babynames dataset by the prop column in descending order.","text":"","code":"\nbabynames %>% arrange(desc(prop))# A tibble: 1,924,665 × 5\n    year sex   name        n   prop\n   <dbl> <chr> <chr>   <int>  <dbl>\n 1  1880 M     John     9655 0.0815\n 2  1881 M     John     8769 0.0810\n 3  1880 M     William  9532 0.0805\n 4  1883 M     John     8894 0.0791\n 5  1881 M     William  8524 0.0787\n 6  1882 M     John     9557 0.0783\n 7  1884 M     John     9388 0.0765\n 8  1882 M     William  9298 0.0762\n 9  1886 M     John     9026 0.0758\n10  1885 M     John     8756 0.0755\n# … with 1,924,655 more rows"},{"path":"class-activity-6.html","id":"b.-use-arrange-to-sort-the-babynames-dataset-by-year-ascending-and-then-by-prop-descending.","chapter":"12 Class Activity 6","heading":"12.3.2 b. Use arrange() to sort the babynames dataset by year (ascending) and then by prop (descending).","text":"","code":"\nbabynames %>% arrange(year, desc(prop))# A tibble: 1,924,665 × 5\n    year sex   name        n   prop\n   <dbl> <chr> <chr>   <int>  <dbl>\n 1  1880 M     John     9655 0.0815\n 2  1880 M     William  9532 0.0805\n 3  1880 F     Mary     7065 0.0724\n 4  1880 M     James    5927 0.0501\n 5  1880 M     Charles  5348 0.0452\n 6  1880 M     George   5126 0.0433\n 7  1880 M     Frank    3242 0.0274\n 8  1880 F     Anna     2604 0.0267\n 9  1880 M     Joseph   2632 0.0222\n10  1880 M     Thomas   2534 0.0214\n# … with 1,924,655 more rows"},{"path":"class-activity-6.html","id":"problem-4-mutate","chapter":"12 Class Activity 6","heading":"12.4 Problem 4: mutate()","text":"","code":""},{"path":"class-activity-6.html","id":"a.-use-mutate-to-create-a-new-column-called-decade-which-contains-the-decade-the-record-is-in-e.g.-1990-for-the-years-1990-1999.","chapter":"12 Class Activity 6","heading":"12.4.1 a. Use mutate() to create a new column called decade which contains the decade the record is in (e.g., 1990 for the years 1990-1999).","text":"","code":"\nbabynames %>% mutate(decade = (year %/% 10) * 10)# A tibble: 1,924,665 × 6\n    year sex   name          n   prop decade\n   <dbl> <chr> <chr>     <int>  <dbl>  <dbl>\n 1  1880 F     Mary       7065 0.0724   1880\n 2  1880 F     Anna       2604 0.0267   1880\n 3  1880 F     Emma       2003 0.0205   1880\n 4  1880 F     Elizabeth  1939 0.0199   1880\n 5  1880 F     Minnie     1746 0.0179   1880\n 6  1880 F     Margaret   1578 0.0162   1880\n 7  1880 F     Ida        1472 0.0151   1880\n 8  1880 F     Alice      1414 0.0145   1880\n 9  1880 F     Bertha     1320 0.0135   1880\n10  1880 F     Sarah      1288 0.0132   1880\n# … with 1,924,655 more rows"},{"path":"class-activity-6.html","id":"problem-5-summarize-or-summarise","chapter":"12 Class Activity 6","heading":"12.5 Problem 5: summarize() or summarise()","text":"Use codes mentioned far compute three statistics:total number children ever namethe maximum number children given name single yearthe mean number children given name per year/decade (optional)","code":"\nbabynames %>% \n  filter(name == \"Dee\", sex == \"M\")# A tibble: 136 × 5\n    year sex   name      n     prop\n   <dbl> <chr> <chr> <int>    <dbl>\n 1  1880 M     Dee      20 0.000169\n 2  1881 M     Dee      32 0.000296\n 3  1882 M     Dee      23 0.000188\n 4  1883 M     Dee      22 0.000196\n 5  1884 M     Dee      27 0.000220\n 6  1885 M     Dee      28 0.000241\n 7  1886 M     Dee      26 0.000218\n 8  1887 M     Dee      39 0.000357\n 9  1888 M     Dee      35 0.000269\n10  1889 M     Dee      24 0.000202\n# … with 126 more rows\nbabynames %>% \n  filter(name == \"Dee\", sex == \"M\") %>% \n  summarise(max_number = max(n))# A tibble: 1 × 1\n  max_number\n       <int>\n1        125\nbabynames %>% \n  filter(name == \"Dee\", sex == \"M\") %>% \n  mutate(decade = (year %/% 10) * 10) %>% \n  group_by(decade) %>%\n  summarise(total = sum(n),\n            max = max(n), \n            mean = mean(n))# A tibble: 14 × 4\n   decade total   max   mean\n    <dbl> <int> <int>  <dbl>\n 1   1880   276    39  27.6 \n 2   1890   271    43  27.1 \n 3   1900   302    38  30.2 \n 4   1910   818   125  81.8 \n 5   1920  1090   125 109   \n 6   1930  1010   118 101   \n 7   1940   967   120  96.7 \n 8   1950   957   118  95.7 \n 9   1960   683   102  68.3 \n10   1970   380    57  38   \n11   1980   217    30  21.7 \n12   1990   130    17  13   \n13   2000    87    13   9.67\n14   2010    52    12   7.43"},{"path":"class-activity-6.html","id":"problem-6","chapter":"12 Class Activity 6","heading":"12.6 Problem 6","text":"","code":""},{"path":"class-activity-6.html","id":"a.-use-min_rank-and-mutate-to-rank-each-row-in-babynames-from-largest-prop-to-smallest-prop.","chapter":"12 Class Activity 6","heading":"12.6.1 a. Use min_rank() and mutate() to rank each row in babynames from largest prop to smallest prop.","text":"","code":"\nbabynames %>% mutate(rank = min_rank(desc(prop))) %>% arrange(rank)# A tibble: 1,924,665 × 6\n    year sex   name        n   prop  rank\n   <dbl> <chr> <chr>   <int>  <dbl> <int>\n 1  1880 M     John     9655 0.0815     1\n 2  1881 M     John     8769 0.0810     2\n 3  1880 M     William  9532 0.0805     3\n 4  1883 M     John     8894 0.0791     4\n 5  1881 M     William  8524 0.0787     5\n 6  1882 M     John     9557 0.0783     6\n 7  1884 M     John     9388 0.0765     7\n 8  1882 M     William  9298 0.0762     8\n 9  1886 M     John     9026 0.0758     9\n10  1885 M     John     8756 0.0755    10\n# … with 1,924,655 more rows"},{"path":"class-activity-6.html","id":"b.-compute-each-names-rank-within-its-year-and-sex.","chapter":"12 Class Activity 6","heading":"12.6.2 b. Compute each name’s rank within its year and sex.","text":"","code":"\nbabynames %>% group_by(year, sex) %>% mutate(rank = min_rank(desc(prop)))# A tibble: 1,924,665 × 6\n# Groups:   year, sex [276]\n    year sex   name          n   prop  rank\n   <dbl> <chr> <chr>     <int>  <dbl> <int>\n 1  1880 F     Mary       7065 0.0724     1\n 2  1880 F     Anna       2604 0.0267     2\n 3  1880 F     Emma       2003 0.0205     3\n 4  1880 F     Elizabeth  1939 0.0199     4\n 5  1880 F     Minnie     1746 0.0179     5\n 6  1880 F     Margaret   1578 0.0162     6\n 7  1880 F     Ida        1472 0.0151     7\n 8  1880 F     Alice      1414 0.0145     8\n 9  1880 F     Bertha     1320 0.0135     9\n10  1880 F     Sarah      1288 0.0132    10\n# … with 1,924,655 more rows"},{"path":"class-activity-6.html","id":"c.-then-compute-the-median-rank-for-each-combination-of-name-and-sex-and-arrange-the-results-from-highest-median-rank-to-lowest.","chapter":"12 Class Activity 6","heading":"12.6.3 c. Then compute the median rank for each combination of name and sex, and arrange the results from highest median rank to lowest.","text":"","code":"\nbabynames %>% \n  group_by(year, sex) %>% \n  mutate(rank = min_rank(desc(prop))) %>%\n  group_by(name, sex) %>%\n  summarize(score = median(rank)) %>%\n  arrange(score) # A tibble: 107,973 × 3\n# Groups:   name [97,310]\n   name      sex   score\n   <chr>     <chr> <dbl>\n 1 Mary      F       1  \n 2 James     M       3  \n 3 John      M       3  \n 4 William   M       4  \n 5 Robert    M       6  \n 6 Michael   M       7.5\n 7 Charles   M       9  \n 8 Elizabeth F      10  \n 9 Joseph    M      10  \n10 Thomas    M      11  \n# … with 107,963 more rows"},{"path":"class-activity-7.html","id":"class-activity-7","chapter":"13 Class Activity 7","heading":"13 Class Activity 7","text":"","code":"\n# load the necessary libraries\nlibrary(tidyverse)\nlibrary(babynames)"},{"path":"class-activity-7.html","id":"problem-1-boolean-operators","chapter":"13 Class Activity 7","heading":"13.1 Problem 1: Boolean Operators","text":"Use Boolean operators alter code return rows contain:","code":""},{"path":"class-activity-7.html","id":"a.-girls-named-rhea","chapter":"13 Class Activity 7","heading":"13.1.1 a. Girls named Rhea","text":"","code":"\nfilter(babynames, name == \"Rhea\", sex == \"F\")# A tibble: 136 × 5\n    year sex   name      n      prop\n   <dbl> <chr> <chr> <int>     <dbl>\n 1  1882 F     Rhea      7 0.0000605\n 2  1883 F     Rhea      8 0.0000666\n 3  1884 F     Rhea     13 0.0000945\n 4  1885 F     Rhea     11 0.0000775\n 5  1886 F     Rhea     13 0.0000846\n 6  1887 F     Rhea     14 0.0000901\n 7  1888 F     Rhea     20 0.000106 \n 8  1889 F     Rhea     31 0.000164 \n 9  1890 F     Rhea     39 0.000193 \n10  1891 F     Rhea     24 0.000122 \n# … with 126 more rows\nbabynames %>%  filter(name == \"Rhea\", sex == \"F\")# A tibble: 136 × 5\n    year sex   name      n      prop\n   <dbl> <chr> <chr> <int>     <dbl>\n 1  1882 F     Rhea      7 0.0000605\n 2  1883 F     Rhea      8 0.0000666\n 3  1884 F     Rhea     13 0.0000945\n 4  1885 F     Rhea     11 0.0000775\n 5  1886 F     Rhea     13 0.0000846\n 6  1887 F     Rhea     14 0.0000901\n 7  1888 F     Rhea     20 0.000106 \n 8  1889 F     Rhea     31 0.000164 \n 9  1890 F     Rhea     39 0.000193 \n10  1891 F     Rhea     24 0.000122 \n# … with 126 more rows"},{"path":"class-activity-7.html","id":"b.-names-that-were-used-by-exactly-5-or-6-children-in-1990","chapter":"13 Class Activity 7","heading":"13.1.2 b. Names that were used by exactly 5 or 6 children in 1990","text":"","code":"\nfilter(babynames, year == 1990, n == 5 | n == 6)# A tibble: 6,144 × 5\n    year sex   name         n       prop\n   <dbl> <chr> <chr>    <int>      <dbl>\n 1  1990 F     Aariel       6 0.00000292\n 2  1990 F     Aarion       6 0.00000292\n 3  1990 F     Abagael      6 0.00000292\n 4  1990 F     Abbye        6 0.00000292\n 5  1990 F     Abiola       6 0.00000292\n 6  1990 F     Abreanna     6 0.00000292\n 7  1990 F     Abygail      6 0.00000292\n 8  1990 F     Acadia       6 0.00000292\n 9  1990 F     Adilenne     6 0.00000292\n10  1990 F     Adriena      6 0.00000292\n# … with 6,134 more rows\nbabynames %>% filter(year == \"1990\", n == 5 | n == 6)# A tibble: 6,144 × 5\n    year sex   name         n       prop\n   <dbl> <chr> <chr>    <int>      <dbl>\n 1  1990 F     Aariel       6 0.00000292\n 2  1990 F     Aarion       6 0.00000292\n 3  1990 F     Abagael      6 0.00000292\n 4  1990 F     Abbye        6 0.00000292\n 5  1990 F     Abiola       6 0.00000292\n 6  1990 F     Abreanna     6 0.00000292\n 7  1990 F     Abygail      6 0.00000292\n 8  1990 F     Acadia       6 0.00000292\n 9  1990 F     Adilenne     6 0.00000292\n10  1990 F     Adriena      6 0.00000292\n# … with 6,134 more rows"},{"path":"class-activity-7.html","id":"c.-names-that-are-one-of-apple-yoroi-ada","chapter":"13 Class Activity 7","heading":"13.1.3 c. Names that are one of Apple, Yoroi, Ada","text":"","code":"\nfilter(babynames, name == \"Apple\" | name == \"Yoroi\" | name == \"Ada\")# A tibble: 200 × 5\n    year sex   name      n      prop\n   <dbl> <chr> <chr> <int>     <dbl>\n 1  1880 F     Ada     652 0.00668  \n 2  1881 F     Ada     628 0.00635  \n 3  1882 F     Ada     689 0.00596  \n 4  1883 F     Ada     778 0.00648  \n 5  1884 F     Ada     854 0.00621  \n 6  1885 F     Ada     876 0.00617  \n 7  1885 M     Ada       5 0.0000431\n 8  1886 F     Ada     915 0.00595  \n 9  1886 M     Ada       6 0.0000504\n10  1887 F     Ada     910 0.00586  \n# … with 190 more rows"},{"path":"class-activity-7.html","id":"d.-store-the-data-tibble-in-part-c-into-a-new-tibble-and-change-all-the-character-columns-to-upper-case.-also-rename-the-n-variable-to-count.","chapter":"13 Class Activity 7","heading":"13.1.4 d. Store the data tibble in part c into a new tibble and change all the character columns to upper case. Also, rename the n variable to count.","text":"","code":"\naya <- babynames %>% filter(name == \"Apple\" | name == \"Yoroi\" | name == \"Ada\")\naya %>% mutate_if(is.character, toupper)# A tibble: 200 × 5\n    year sex   name      n      prop\n   <dbl> <chr> <chr> <int>     <dbl>\n 1  1880 F     ADA     652 0.00668  \n 2  1881 F     ADA     628 0.00635  \n 3  1882 F     ADA     689 0.00596  \n 4  1883 F     ADA     778 0.00648  \n 5  1884 F     ADA     854 0.00621  \n 6  1885 F     ADA     876 0.00617  \n 7  1885 M     ADA       5 0.0000431\n 8  1886 F     ADA     915 0.00595  \n 9  1886 M     ADA       6 0.0000504\n10  1887 F     ADA     910 0.00586  \n# … with 190 more rows\naya %>% mutate_at(vars(name), toupper)# A tibble: 200 × 5\n    year sex   name      n      prop\n   <dbl> <chr> <chr> <int>     <dbl>\n 1  1880 F     ADA     652 0.00668  \n 2  1881 F     ADA     628 0.00635  \n 3  1882 F     ADA     689 0.00596  \n 4  1883 F     ADA     778 0.00648  \n 5  1884 F     ADA     854 0.00621  \n 6  1885 F     ADA     876 0.00617  \n 7  1885 M     ADA       5 0.0000431\n 8  1886 F     ADA     915 0.00595  \n 9  1886 M     ADA       6 0.0000504\n10  1887 F     ADA     910 0.00586  \n# … with 190 more rows\naya %>% rename(count = n)# A tibble: 200 × 5\n    year sex   name  count      prop\n   <dbl> <chr> <chr> <int>     <dbl>\n 1  1880 F     Ada     652 0.00668  \n 2  1881 F     Ada     628 0.00635  \n 3  1882 F     Ada     689 0.00596  \n 4  1883 F     Ada     778 0.00648  \n 5  1884 F     Ada     854 0.00621  \n 6  1885 F     Ada     876 0.00617  \n 7  1885 M     Ada       5 0.0000431\n 8  1886 F     Ada     915 0.00595  \n 9  1886 M     Ada       6 0.0000504\n10  1887 F     Ada     910 0.00586  \n# … with 190 more rows"},{"path":"class-activity-7.html","id":"e.-change-all-the-column-names-to-upper-case-in-the-previous-problem.","chapter":"13 Class Activity 7","heading":"13.1.5 e. Change all the column names to upper case in the previous problem.","text":"","code":"\naya %>% rename_at(vars(year:prop), toupper)# A tibble: 200 × 5\n    YEAR SEX   NAME      N      PROP\n   <dbl> <chr> <chr> <int>     <dbl>\n 1  1880 F     Ada     652 0.00668  \n 2  1881 F     Ada     628 0.00635  \n 3  1882 F     Ada     689 0.00596  \n 4  1883 F     Ada     778 0.00648  \n 5  1884 F     Ada     854 0.00621  \n 6  1885 F     Ada     876 0.00617  \n 7  1885 M     Ada       5 0.0000431\n 8  1886 F     Ada     915 0.00595  \n 9  1886 M     Ada       6 0.0000504\n10  1887 F     Ada     910 0.00586  \n# … with 190 more rows"},{"path":"class-activity-7.html","id":"f.-what-do-these-commands-do","chapter":"13 Class Activity 7","heading":"13.1.6 f. What do these commands do?","text":"answer:Selects numeric columns polluted_cities dataset.Renames column names polluted_cities dataset uppercase.Renames column names character data type polluted_cities dataset uppercase.Renames column names containing “” polluted_cities dataset uppercase.Let’s look interesting example join related information various artists, bands, songs, labels.Let’s take glimpse tibbles artists bands. Notice different number rows dataset.","code":"\npolluted_cities <- tribble(\n       ~city,   ~size, ~amount, \n  \"New York\", \"large\",      23,\n  \"New York\", \"small\",      14,\n    \"London\", \"large\",      22,\n    \"London\", \"small\",      16,\n   \"Beijing\", \"large\",      121,\n   \"Beijing\", \"small\",      56\n)\n\npolluted_cities# A tibble: 6 × 3\n  city     size  amount\n  <chr>    <chr>  <dbl>\n1 New York large     23\n2 New York small     14\n3 London   large     22\n4 London   small     16\n5 Beijing  large    121\n6 Beijing  small     56\npolluted_cities %>% select_if(is.numeric) #1\npolluted_cities %>% rename_all(toupper) #2\npolluted_cities %>% rename_if(is.character, toupper) #3\npolluted_cities %>% rename_at(vars(contains(\"it\")), toupper) #4\npolluted_cities %>% select_if(is.numeric) #1# A tibble: 6 × 1\n  amount\n   <dbl>\n1     23\n2     14\n3     22\n4     16\n5    121\n6     56\npolluted_cities %>% rename_all(toupper) #2# A tibble: 6 × 3\n  CITY     SIZE  AMOUNT\n  <chr>    <chr>  <dbl>\n1 New York large     23\n2 New York small     14\n3 London   large     22\n4 London   small     16\n5 Beijing  large    121\n6 Beijing  small     56\npolluted_cities %>% rename_if(is.character, toupper) #3# A tibble: 6 × 3\n  CITY     SIZE  amount\n  <chr>    <chr>  <dbl>\n1 New York large     23\n2 New York small     14\n3 London   large     22\n4 London   small     16\n5 Beijing  large    121\n6 Beijing  small     56\npolluted_cities %>% rename_at(vars(contains(\"it\")), toupper) #4# A tibble: 6 × 3\n  CITY     size  amount\n  <chr>    <chr>  <dbl>\n1 New York large     23\n2 New York small     14\n3 London   large     22\n4 London   small     16\n5 Beijing  large    121\n6 Beijing  small     56\nartists <- tibble(first = c(\"Jimmy\", \"George\", \"Mick\", \"Tom\", \"Davy\", \"John\",\n                            \"Paul\", \"Jimmy\", \"Joe\", \"Elvis\", \"Keith\", \"Paul\", \n                            \"Ringo\", \"Joe\", \"Brian\", \"Nancy\"), \n                  last = c(\"Buffett\", \"Harrison\", \"Jagger\", \"Jones\", \"Jones\", \n                           \"Lennon\", \"McCartney\", \"Page\", \"Perry\", \"Presley\",\n                           \"Richards\", \"Simon\", \"Starr\", \"Walsh\", \"Wilson\", \"Wilson\"), \n                  instrument = c(\"Guitar\", \"Guitar\", \"Vocals\", \"Vocals\", \"Vocals\",\n                                 \"Guitar\", \"Bass\", \"Guitar\", \"Guitar\", \"Vocals\", \"Guitar\", \n                                 \"Guitar\", \"Drums\", \"Guitar\", \"Vocals\", \"Vocals\"))\n\n\nbands <- tibble(first = c(\"John\", \"John Paul\", \"Jimmy\", \"Robert\", \"George\", \"John\", \n                          \"Paul\", \"Ringo\", \"Jimmy\", \"Mick\", \"Keith\", \"Charlie\", \"Ronnie\"), \n                last = c(\"Bonham\", \"Jones\", \"Page\", \"Plant\", \"Harrison\", \"Lennon\",\n                         \"McCartney\", \"Starr\", \"Buffett\", \"Jagger\", \"Richards\", \"Watts\", \"Wood\"), \n                band = c(\"Led Zeppelin\", \"Led Zeppelin\", \"Led Zeppelin\", \"Led Zeppelin\",\n                         \"The Beatles\", \"The Beatles\", \"The Beatles\", \"The Beatles\",\n                         \"The Coral Reefers\", \"The Rolling Stones\", \"The Rolling Stones\",\n                         \"The Rolling Stones\", \"The Rolling Stones\"))\n\nalbums <- tibble(album = c(\"A Hard Day's Night\", \"Magical Mystery Tour\", \"Beggar's Banquet\",\n                           \"Abbey Road\", \"Led Zeppelin IV\", \"The Dark Side of the Moon\", \"Aerosmith\",\n                           \"Rumours\", \"Hotel California\"),\n                 band = c(\"The Beatles\", \"The Beatles\", \"The Rolling Stones\", \"The Beatles\", \n                          \"Led Zeppelin\", \"Pink Floyd\", \"Aerosmith\", \"Fleetwood Mac\", \"Eagles\"), \n                 year = c(1964,1967,1968,1969,1971,1973,1973,1977,1982))\n\n\nsongs <- tibble(song = c(\"Come Together\", \"Dream On\", \"Hello, Goodbye\", \"It's Not Unusual\"),\n                album  = c(\"Abbey Road\", \"Aerosmith\", \"Magical Mystery Tour\", \"Along Came Jones\"), \n                first = c(\"John\", \"Steven\", \"Paul\", \"Tom\"), \n                last = c(\"Lennon\", \"Tyler\", \"McCartney\", \"Jones\"))\n\n\nlabels <- tibble(album = c(\"Abbey Road\", \"A Hard Days Night\", \"Magical Mystery Tour\",\n                           \"Led Zeppelin IV\", \"The Dark Side of the Moon\", \"Hotel California\", \n                           \"Rumours\", \"Aerosmith\", \"Beggar's Banquet\"), \n                 label = c(\"Apple\", \"Parlophone\", \"Parlophone\", \"Atlantic\", \"Harvest\",\n                           \"Asylum\", \"Warner Brothers\", \"Columbia\", \"Decca\"))\nglimpse(artists)Rows: 16\nColumns: 3\n$ first      <chr> \"Jimmy\", \"George\", \"Mick\", \"Tom\", \"Davy…\n$ last       <chr> \"Buffett\", \"Harrison\", \"Jagger\", \"Jones…\n$ instrument <chr> \"Guitar\", \"Guitar\", \"Vocals\", \"Vocals\",…\nglimpse(bands)Rows: 13\nColumns: 3\n$ first <chr> \"John\", \"John Paul\", \"Jimmy\", \"Robert\", \"Geo…\n$ last  <chr> \"Bonham\", \"Jones\", \"Page\", \"Plant\", \"Harriso…\n$ band  <chr> \"Led Zeppelin\", \"Led Zeppelin\", \"Led Zeppeli…\nglimpse(albums)Rows: 9\nColumns: 3\n$ album <chr> \"A Hard Day's Night\", \"Magical Mystery Tour\"…\n$ band  <chr> \"The Beatles\", \"The Beatles\", \"The Rolling S…\n$ year  <dbl> 1964, 1967, 1968, 1969, 1971, 1973, 1973, 19…\nglimpse(songs)Rows: 4\nColumns: 4\n$ song  <chr> \"Come Together\", \"Dream On\", \"Hello, Goodbye…\n$ album <chr> \"Abbey Road\", \"Aerosmith\", \"Magical Mystery …\n$ first <chr> \"John\", \"Steven\", \"Paul\", \"Tom\"\n$ last  <chr> \"Lennon\", \"Tyler\", \"McCartney\", \"Jones\"\nglimpse(labels)Rows: 9\nColumns: 2\n$ album <chr> \"Abbey Road\", \"A Hard Days Night\", \"Magical …\n$ label <chr> \"Apple\", \"Parlophone\", \"Parlophone\", \"Atlant…"},{"path":"class-activity-7.html","id":"problem-2-joining-artists-and-bands-data","chapter":"13 Class Activity 7","heading":"13.2 Problem 2: Joining artists and bands data","text":"","code":""},{"path":"class-activity-7.html","id":"a.-join-the-artists-and-bands-tibbles-using-left_join-right_join-and-full_join.-verify-that-the-datasets-obtained-from-left_join-and-right_join-are-the-same-using-setequal.","chapter":"13 Class Activity 7","heading":"13.2.1 a. Join the artists and bands tibbles using left_join(), right_join(), and full_join(). Verify that the datasets obtained from left_join() and right_join() are the same using setequal().","text":"","code":"\nbands2 <- left_join(bands, artists, by = c(\"first\", \"last\"))\nbands3 <- right_join(artists, bands, by = c(\"first\", \"last\"))\nfull_bands <- full_join(artists, bands, by = c(\"first\", \"last\"))\n\n# Check if the datasets are the same\nsetequal(bands2, bands3)[1] TRUE"},{"path":"class-activity-7.html","id":"b.-use-the-pipe-operator-to-create-one-table-that-combines-all-information-from-artists-bands-albums-songs-and-labels.","chapter":"13 Class Activity 7","heading":"13.2.2 b. Use the pipe operator, %>%, to create one table that combines all information from artists, bands, albums, songs, and labels.","text":"","code":"\nall_info <- artists %>% \n  full_join(bands, by = c(\"first\", \"last\")) %>% \n  full_join(songs, by = c(\"first\", \"last\")) %>% \n  full_join(albums, by = c(\"album\", \"band\")) %>%\n  full_join(labels, by = c(\"album\"))\nall_info# A tibble: 30 × 8\n   first  last      instrument band  song  album  year label\n   <chr>  <chr>     <chr>      <chr> <chr> <chr> <dbl> <chr>\n 1 Jimmy  Buffett   Guitar     The … <NA>  <NA>     NA <NA> \n 2 George Harrison  Guitar     The … <NA>  <NA>     NA <NA> \n 3 Mick   Jagger    Vocals     The … <NA>  <NA>     NA <NA> \n 4 Tom    Jones     Vocals     <NA>  It's… Alon…    NA <NA> \n 5 Davy   Jones     Vocals     <NA>  <NA>  <NA>     NA <NA> \n 6 John   Lennon    Guitar     The … Come… Abbe…  1969 Apple\n 7 Paul   McCartney Bass       The … Hell… Magi…  1967 Parl…\n 8 Jimmy  Page      Guitar     Led … <NA>  <NA>     NA <NA> \n 9 Joe    Perry     Guitar     <NA>  <NA>  <NA>     NA <NA> \n10 Elvis  Presley   Vocals     <NA>  <NA>  <NA>     NA <NA> \n# … with 20 more rows"},{"path":"class-activity-7.html","id":"problem-3-filtering-and-counting-rows-in-the-data","chapter":"13 Class Activity 7","heading":"13.3 Problem 3: Filtering and counting rows in the data","text":"","code":""},{"path":"class-activity-7.html","id":"a.-collect-artists-that-have-songs-provided-and-return-rows-of-artists-that-dont-have-bands-info.","chapter":"13 Class Activity 7","heading":"13.3.1 a. Collect artists that have songs provided, and return rows of artists that don’t have bands info.","text":"","code":"\n# Artists with songs\nartists_with_songs <- artists %>% \n  semi_join(songs, by = c(\"first\", \"last\"))\n\n# Artists without bands info\nartists_without_bands <- artists %>% \n  anti_join(bands, by = c(\"first\",\"last\"))\n\nartists_with_songs# A tibble: 3 × 3\n  first last      instrument\n  <chr> <chr>     <chr>     \n1 Tom   Jones     Vocals    \n2 John  Lennon    Guitar    \n3 Paul  McCartney Bass      \nartists_without_bands# A tibble: 8 × 3\n  first last    instrument\n  <chr> <chr>   <chr>     \n1 Tom   Jones   Vocals    \n2 Davy  Jones   Vocals    \n3 Joe   Perry   Guitar    \n4 Elvis Presley Vocals    \n5 Paul  Simon   Guitar    \n6 Joe   Walsh   Guitar    \n7 Brian Wilson  Vocals    \n8 Nancy Wilson  Vocals    "},{"path":"class-activity-7.html","id":"b.-collect-the-albums-made-by-a-band-count-the-number-of-rows-find-the-rows-of-songs-that-match-a-row-in-labels-and-count-the-number-of-rows.","chapter":"13 Class Activity 7","heading":"13.3.2 b. Collect the albums made by a band, count the number of rows, find the rows of songs that match a row in labels, and count the number of rows.","text":"","code":"\n# Albums made by a band\nalbums_by_band <- albums %>% semi_join(bands, by = \"band\")\nn_albums_by_band <- nrow(albums_by_band)\n\n# Rows of songs that match a row in labels\nsongs_with_labels <- songs %>% semi_join(labels, by = \"album\")\nn_songs_with_labels <- nrow(songs_with_labels)\n\nn_albums_by_band[1] 5\nn_songs_with_labels[1] 3"},{"path":"class-activity-8.html","id":"class-activity-8","chapter":"14 Class Activity 8","heading":"14 Class Activity 8","text":"","code":"\n# load the necessary libraries\nlibrary(tidyverse)\nlibrary(lubridate)"},{"path":"class-activity-8.html","id":"your-turn-1-1","chapter":"14 Class Activity 8","heading":"14.1 Your turn 1","text":"following code chinks create data objects used exercise. Please run chunks answer questions.","code":"\nDBP_wide <- tibble(id = letters[1:4],\n sex = c(\"F\", \"M\", \"M\", \"F\"),\n v1.DBP = c(88, 84, 102, 70),\n v2.DBP = c(78, 78, 96, 76),\n v3.DBP = c(94, 82, 94, 74),\n age=c(23, 56, 41, 38)\n )\nDBP_wide# A tibble: 4 × 6\n  id    sex   v1.DBP v2.DBP v3.DBP   age\n  <chr> <chr>  <dbl>  <dbl>  <dbl> <dbl>\n1 a     F         88     78     94    23\n2 b     M         84     78     82    56\n3 c     M        102     96     94    41\n4 d     F         70     76     74    38\nBP_wide <- tibble(id = letters[1:4],\n                     sex = c(\"F\", \"M\", \"M\", \"F\"),\n                     SBP_v1 = c(130, 120, 130, 119),\n                     SBP_v2 = c(110, 116, 136, 106),\n                     SBP_v3 = c(112, 122, 138, 118))\nBP_wide# A tibble: 4 × 5\n  id    sex   SBP_v1 SBP_v2 SBP_v3\n  <chr> <chr>  <dbl>  <dbl>  <dbl>\n1 a     F        130    110    112\n2 b     M        120    116    122\n3 c     M        130    136    138\n4 d     F        119    106    118\nBP_long <- BP_wide %>% \n  pivot_longer(names_to = \"visit\", values_to = \"SBP\", SBP_v1:SBP_v3) %>% \n  mutate(visit = parse_number(visit))\nBP_long# A tibble: 12 × 4\n   id    sex   visit   SBP\n   <chr> <chr> <dbl> <dbl>\n 1 a     F         1   130\n 2 a     F         2   110\n 3 a     F         3   112\n 4 b     M         1   120\n 5 b     M         2   116\n 6 b     M         3   122\n 7 c     M         1   130\n 8 c     M         2   136\n 9 c     M         3   138\n10 d     F         1   119\n11 d     F         2   106\n12 d     F         3   118"},{"path":"class-activity-8.html","id":"a.-create-a-long-dataframe-from-dbp_wide-based-on-the-repeated-dbp-columns-and-save-it-as-dbp_long.","chapter":"14 Class Activity 8","heading":"14.1.1 a. Create a long dataframe from DBP_wide based on the repeated DBP columns and save it as DBP_long.","text":"Answer:","code":"\nDBP_long <- DBP_wide %>%\n  pivot_longer(names_to = \"visit\",\n               values_to = \"DBP\",\n               cols = v1.DBP:v3.DBP)\nDBP_long# A tibble: 12 × 5\n   id    sex     age visit    DBP\n   <chr> <chr> <dbl> <chr>  <dbl>\n 1 a     F        23 v1.DBP    88\n 2 a     F        23 v2.DBP    78\n 3 a     F        23 v3.DBP    94\n 4 b     M        56 v1.DBP    84\n 5 b     M        56 v2.DBP    78\n 6 b     M        56 v3.DBP    82\n 7 c     M        41 v1.DBP   102\n 8 c     M        41 v2.DBP    96\n 9 c     M        41 v3.DBP    94\n10 d     F        38 v1.DBP    70\n11 d     F        38 v2.DBP    76\n12 d     F        38 v3.DBP    74"},{"path":"class-activity-8.html","id":"b.-clean-up-the-visit-column-of-dbp_long-so-that-the-values-are-1-2-3-and-save-it-as-dbp_long.","chapter":"14 Class Activity 8","heading":"14.1.2 b. Clean up the visit column of DBP_long so that the values are 1, 2, 3, and save it as DBP_long.","text":"Answer:","code":"\nDBP_long <- DBP_long %>%\n  mutate(visit = parse_number(visit))\nDBP_long# A tibble: 12 × 5\n   id    sex     age visit   DBP\n   <chr> <chr> <dbl> <dbl> <dbl>\n 1 a     F        23     1    88\n 2 a     F        23     2    78\n 3 a     F        23     3    94\n 4 b     M        56     1    84\n 5 b     M        56     2    78\n 6 b     M        56     3    82\n 7 c     M        41     1   102\n 8 c     M        41     2    96\n 9 c     M        41     3    94\n10 d     F        38     1    70\n11 d     F        38     2    76\n12 d     F        38     3    74"},{"path":"class-activity-8.html","id":"c.-make-dbp_long-wide-with-column-names-visit.1-visit.2-visit.3-for-the-dbp-values-and-save-it-as-dbp_wide2","chapter":"14 Class Activity 8","heading":"14.1.3 c. Make DBP_long wide with column names visit.1, visit.2, visit.3 for the DBP values, and save it as DBP_wide2","text":"Answer:","code":"\nDBP_wide2 <- DBP_long %>% \n  pivot_wider(names_from = \"visit\",\n              values_from = \"DBP\",\n              names_prefix = \"visit.\")\nDBP_wide2# A tibble: 4 × 6\n  id    sex     age visit.1 visit.2 visit.3\n  <chr> <chr> <dbl>   <dbl>   <dbl>   <dbl>\n1 a     F        23      88      78      94\n2 b     M        56      84      78      82\n3 c     M        41     102      96      94\n4 d     F        38      70      76      74"},{"path":"class-activity-8.html","id":"d.-join-dbp_long-with-bp_long2-to-create-a-single-data-frame-with-columns-id-sex-visit-sbp-dbp-and-age.-save-this-as-bp_both_long.","chapter":"14 Class Activity 8","heading":"14.1.4 d. Join DBP_long with BP_long2 to create a single data frame with columns id, sex, visit, SBP, DBP, and age. Save this as BP_both_long.","text":"Answer:","code":"\nBP_both_long <- left_join(BP_long, DBP_long, by = c(\"id\", \"sex\", \"visit\"))\nBP_both_long# A tibble: 12 × 6\n   id    sex   visit   SBP   age   DBP\n   <chr> <chr> <dbl> <dbl> <dbl> <dbl>\n 1 a     F         1   130    23    88\n 2 a     F         2   110    23    78\n 3 a     F         3   112    23    94\n 4 b     M         1   120    56    84\n 5 b     M         2   116    56    78\n 6 b     M         3   122    56    82\n 7 c     M         1   130    41   102\n 8 c     M         2   136    41    96\n 9 c     M         3   138    41    94\n10 d     F         1   119    38    70\n11 d     F         2   106    38    76\n12 d     F         3   118    38    74"},{"path":"class-activity-8.html","id":"e.-calculate-the-mean-sbp-and-dbp-for-each-visit-and-save-the-result-as-mean_bp_by_visit.","chapter":"14 Class Activity 8","heading":"14.1.5 e. Calculate the mean SBP and DBP for each visit and save the result as mean_BP_by_visit.","text":"Answer:","code":"\nmean_BP_by_visit <- BP_both_long %>%\n  group_by(visit) %>%\n  summarize(mean_SBP = mean(SBP),\n            mean_DBP = mean(DBP))\nmean_BP_by_visit# A tibble: 3 × 3\n  visit mean_SBP mean_DBP\n  <dbl>    <dbl>    <dbl>\n1     1     125.       86\n2     2     117        82\n3     3     122.       86"},{"path":"class-activity-8.html","id":"your-turn-2","chapter":"14 Class Activity 8","heading":"14.2 Your turn 2","text":"","code":""},{"path":"class-activity-8.html","id":"a.-parsing-complex-dates-use-dmy_hms-to-parse-the-following-date-time-string-25-dec-2020-173000","chapter":"14 Class Activity 8","heading":"14.2.1 a. Parsing Complex Dates: Use dmy_hms() to parse the following date-time string: “25-Dec-2020 17:30:00”","text":"Answer:","code":"\nparsed_date <- dmy_hms(\"25-Dec-2020 17:30:00\")\nparsed_date[1] \"2020-12-25 17:30:00 UTC\""},{"path":"class-activity-8.html","id":"b.-advanced-date-arithmetic-calculate-the-exact-age-in-years-for-someone-born-on-1995-05-15-093000.","chapter":"14 Class Activity 8","heading":"14.2.2 b. Advanced Date Arithmetic: Calculate the exact age in years for someone born on “1995-05-15 09:30:00”.","text":"Answer:","code":"\ndob <- ymd_hms(\"1995-05-15 09:30:00\")\nexact_age <- as.duration(interval(dob, now())) / dyears(1)\nexact_age[1] 28.01136"},{"path":"class-activity-8.html","id":"c.-creating-date-time-objects-create-a-date-time-object-for-march-15-2020-133000-using-make_datetime.","chapter":"14 Class Activity 8","heading":"14.2.3 c. Creating Date-Time Objects: Create a date-time object for March 15, 2020, 13:30:00 using make_datetime().","text":"Answer:","code":"\nnew_date_time <- make_datetime(2020, 3, 15, 13, 30, 0)\nnew_date_time[1] \"2020-03-15 13:30:00 UTC\""},{"path":"class-activity-8.html","id":"d.-extracting-components-from-date-time-objects-extract-the-year-month-as-a-number-day-hour-and-minute-from-2022-07-01-144500.","chapter":"14 Class Activity 8","heading":"14.2.4 d. Extracting Components from Date-Time Objects: Extract the year, month (as a number), day, hour, and minute from “2022-07-01 14:45:00”.","text":"Answer:","code":"\nexample_date_time <- ymd_hms(\"2022-07-01 14:45:00\")\nextracted_components <- tibble(\n  year = year(example_date_time),\n  month = month(example_date_time),\n  day = day(example_date_time),\n  hour = hour(example_date_time),\n  minute = minute(example_date_time)\n)\nextracted_components# A tibble: 1 × 5\n   year month   day  hour minute\n  <dbl> <dbl> <int> <int>  <int>\n1  2022     7     1    14     45"},{"path":"class-activity-8.html","id":"e.-advanced-date-time-arithmetic-with-periods-add-2-months-and-15-days-to-2021-08-01.","chapter":"14 Class Activity 8","heading":"14.2.5 e. Advanced Date-Time Arithmetic with Periods: Add 2 months and 15 days to “2021-08-01”.","text":"Answer:","code":"\ninitial_date <- ymd(\"2021-08-01\")\nnew_date <- initial_date + months(2) + days(15)\nnew_date[1] \"2021-10-16\""},{"path":"class-activity-8.html","id":"f.-duration-and-time-differences-calculate-the-duration-in-days-weeks-months-and-years-between-2019-04-01-and-2022-04-01.","chapter":"14 Class Activity 8","heading":"14.2.6 f. Duration and Time Differences: Calculate the duration in days, weeks, months, and years between “2019-04-01” and “2022-04-01”.","text":"Answer:","code":"\nstart_date <- ymd(\"2019-04-01\")\nend_date <- ymd(\"2022-04-01\")\ntime_diff <- end_date - start_date\nduration_days <- as.duration(time_diff)\nduration_weeks <- duration_days / dweeks(1)\nduration_months <- duration_days / dmonths(1)\nduration_years <- duration_days / dyears(1)\n\nduration_results <- tibble(\n  days = duration_days,\n  weeks = duration_weeks,\n  months = duration_months,\n  years = duration_years\n)\nduration_results# A tibble: 1 × 4\n  days                 weeks months years\n  <Duration>           <dbl>  <dbl> <dbl>\n1 94694400s (~3 years)  157.   36.0  3.00"},{"path":"class-activity-9.html","id":"class-activity-9","chapter":"15 Class Activity 9","heading":"15 Class Activity 9","text":"","code":"\n# load the necessary libraries\nlibrary(tidyverse)"},{"path":"class-activity-9.html","id":"your-turn-1-2","chapter":"15 Class Activity 9","heading":"15.1 Your Turn 1","text":"","code":""},{"path":"class-activity-9.html","id":"a-read_csv","chapter":"15 Class Activity 9","heading":"15.1.1 a) read_csv()","text":"Use read_csv() import desserts data set https://raw.githubusercontent.com/deepbas/statdatasets/main/desserts.csv. Use glimpse see data import alright.","code":"\nurl <- \"https://raw.githubusercontent.com/deepbas/statdatasets/main/desserts.csv\"\ndesserts <- read_csv(url)\nglimpse(desserts)Rows: 549\nColumns: 16\n$ series                <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ episode               <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ baker                 <chr> \"Annetha\", \"David\", \"Edd\", \"…\n$ technical             <chr> \"2nd\", \"3rd\", \"1st\", \"N/A\", …\n$ result                <chr> \"IN\", \"IN\", \"IN\", \"IN\", \"IN\"…\n$ uk_airdate            <chr> \"17 August 2010\", \"17 August…\n$ us_season             <dbl> NA, NA, NA, NA, NA, NA, NA, …\n$ us_airdate            <date> NA, NA, NA, NA, NA, NA, NA,…\n$ showstopper_chocolate <chr> \"chocolate\", \"chocolate\", \"n…\n$ showstopper_dessert   <chr> \"other\", \"other\", \"other\", \"…\n$ showstopper_fruit     <chr> \"no fruit\", \"no fruit\", \"no …\n$ showstopper_nut       <chr> \"no nut\", \"no nut\", \"no nut\"…\n$ signature_chocolate   <chr> \"no chocolate\", \"chocolate\",…\n$ signature_dessert     <chr> \"cake\", \"cake\", \"cake\", \"cak…\n$ signature_fruit       <chr> \"no fruit\", \"fruit\", \"fruit\"…\n$ signature_nut         <chr> \"no nut\", \"no nut\", \"no nut\"…"},{"path":"class-activity-9.html","id":"b-are-there-any-issues-with-the-data-import-if-so-what-are-they","chapter":"15 Class Activity 9","heading":"15.1.2 b) Are there any issues with the data import? If so, what are they?","text":"Answer: Based output glimpse, can see ‘technical’ column numeric column ‘uk_airdate’ column date column. can also identify issues missing values.","code":"\n# your r-code\n\ndesserts <- read_csv(url,\n  col_types = list(\n    technical = col_number(),\n    uk_airdate = col_date()\n  )\n)\n\nproblems(desserts)# A tibble: 556 × 5\n     row   col expected        actual         file \n   <int> <int> <chr>           <chr>          <chr>\n 1     2     6 date in ISO8601 17 August 2010 \"\"   \n 2     3     6 date in ISO8601 17 August 2010 \"\"   \n 3     4     6 date in ISO8601 17 August 2010 \"\"   \n 4     5     4 a number        N/A            \"\"   \n 5     5     6 date in ISO8601 17 August 2010 \"\"   \n 6     6     6 date in ISO8601 17 August 2010 \"\"   \n 7     7     4 a number        N/A            \"\"   \n 8     7     6 date in ISO8601 17 August 2010 \"\"   \n 9     8     6 date in ISO8601 17 August 2010 \"\"   \n10     9     4 a number        N/A            \"\"   \n# … with 546 more rows"},{"path":"class-activity-9.html","id":"c-import-the-dataset-with-correct-data-types-if-needed.-fix-the-problems-if-any.","chapter":"15 Class Activity 9","heading":"15.1.3 c) Import the dataset with correct data types, if needed. Fix the problems, if any.","text":"","code":"\ndesserts <- read_csv(url,\n  col_types = list(\n    technical = col_number(),\n    uk_airdate = col_date()\n  )\n)\n\nproblems(desserts)# A tibble: 556 × 5\n     row   col expected        actual         file \n   <int> <int> <chr>           <chr>          <chr>\n 1     2     6 date in ISO8601 17 August 2010 \"\"   \n 2     3     6 date in ISO8601 17 August 2010 \"\"   \n 3     4     6 date in ISO8601 17 August 2010 \"\"   \n 4     5     4 a number        N/A            \"\"   \n 5     5     6 date in ISO8601 17 August 2010 \"\"   \n 6     6     6 date in ISO8601 17 August 2010 \"\"   \n 7     7     4 a number        N/A            \"\"   \n 8     7     6 date in ISO8601 17 August 2010 \"\"   \n 9     8     6 date in ISO8601 17 August 2010 \"\"   \n10     9     4 a number        N/A            \"\"   \n# … with 546 more rows\ndesserts <- read_csv(url,\n    col_types = list(\n    technical = col_number(), \n    uk_airdate = col_date(format = \"%d %B %Y\")\n  ) \n)\n\nproblems(desserts)# A tibble: 7 × 5\n    row   col expected actual file \n  <int> <int> <chr>    <chr>  <chr>\n1     5     4 a number N/A    \"\"   \n2     7     4 a number N/A    \"\"   \n3     9     4 a number N/A    \"\"   \n4    11     4 a number N/A    \"\"   \n5    35     4 a number N/A    \"\"   \n6    36     4 a number N/A    \"\"   \n7    37     4 a number N/A    \"\"   \ndesserts <- read_csv(url,\n  col_types = list(\n    technical = col_number(), \n    uk_airdate = col_date(format = \"%d %B %Y\")\n  ),\n  na = c(\"\", \"NA\", \"N/A\")\n)\n\nproblems(desserts)# A tibble: 0 × 5\n# … with 5 variables: row <int>, col <int>, expected <chr>,\n#   actual <chr>, file <chr>"},{"path":"class-activity-9.html","id":"your-turn-2-1","chapter":"15 Class Activity 9","heading":"15.2 Your Turn 2","text":"Use appropriate read_<type>() function import following data sets:https://deepbas.io/data/simple-1.dathttps://deepbas.io/data/simple-1.dathttps://deepbas.io/data/mild-1.csvhttps://deepbas.io/data/mild-1.csvhttps://deepbas.io/data/tricky-1.csvhttps://deepbas.io/data/tricky-1.csvhttps://deepbas.io/data/tricky-2.csvhttps://deepbas.io/data/tricky-2.csvIdentify fix issues encounter.","code":""},{"path":"class-activity-9.html","id":"a-importing-simple-data","chapter":"15 Class Activity 9","heading":"15.2.1 a) Importing simple data:","text":"","code":"\nsimple1 <- readr::read_csv(\"https://deepbas.io/data/simple-1.dat\")\nproblems(simple1)# A tibble: 0 × 5\n# … with 5 variables: row <int>, col <int>, expected <chr>,\n#   actual <chr>, file <chr>"},{"path":"class-activity-9.html","id":"b-importing-mildly-tricky-data","chapter":"15 Class Activity 9","heading":"15.2.2 b) Importing mildly tricky data:","text":"","code":"\nmild1 <- readr::read_delim(\"https://deepbas.io/data/mild-1.csv\", delim = \"|\")\nproblems(mild1)# A tibble: 0 × 5\n# … with 5 variables: row <int>, col <int>, expected <chr>,\n#   actual <chr>, file <chr>"},{"path":"class-activity-9.html","id":"c-importing-tricky-data-1","chapter":"15 Class Activity 9","heading":"15.2.3 c) Importing tricky data 1:","text":"","code":"\ntricky1 <-  read_csv(\"https://deepbas.io/data/tricky-1.csv\")\nproblems(tricky1)# A tibble: 2 × 5\n    row   col expected  actual    file \n  <int> <int> <chr>     <chr>     <chr>\n1     4     4 5 columns 4 columns \"\"   \n2     7     4 5 columns 4 columns \"\"   \n# Fix missing values\ntricky1[3, ] <- c(tricky1[3, 1:2], NA, tricky1[3, 3:4])\ntricky1[6, ] <- c(tricky1[4, 1], NA, tricky1[4, 3:5])"},{"path":"class-activity-9.html","id":"d-importing-tricky-data-2","chapter":"15 Class Activity 9","heading":"15.2.4 d) Importing tricky data 2:","text":"","code":"\ntricky2 <- read_csv(\"https://deepbas.io/data/tricky-2.csv\")\nproblems(tricky2)# A tibble: 0 × 5\n# … with 5 variables: row <int>, col <int>, expected <chr>,\n#   actual <chr>, file <chr>\n# Fix missing values\ntricky2_part1 <- read_csv(\"https://deepbas.io/data/tricky-2.csv\", n_max = 7) %>%\n  separate(city, c(\"city\", \"state\"), sep = \",\") %>%\n  select(-c(7))\n\ntricky2_part2 <- read_csv(\n  \"https://deepbas.io/data/tricky-2.csv\",\n  skip = 8, \n  col_names = c(\"iata\", \"airport\", \"city\", \"state\",  \"latitude\", \"longitude\")\n)\n\n# Combine parts\ndata_combined <- full_join(tricky2_part1, tricky2_part2)"},{"path":"class-activity-10.html","id":"class-activity-10","chapter":"16 Class Activity 10","heading":"16 Class Activity 10","text":"","code":"\n# load the necessary libraries\nlibrary(tidyverse)\nlibrary(tidyr)"},{"path":"class-activity-10.html","id":"your-turn-1-3","chapter":"16 Class Activity 10","heading":"16.1 Your Turn 1","text":"","code":"\nstudents <- tibble(\n  id = 1:24,\n  grade = sample(c(\"9th\", \"10th\", \"11th\"), 24, replace = TRUE),\n  region = sample(c(\"North America\", \"Europe\", \"Asia\", \"South America\", \"Middle East\", \"Africa\"), 24, replace = TRUE),\n  score = round(runif(24,50, 100))\n)"},{"path":"class-activity-10.html","id":"a.-create-a-new-column-grade_fac-by-converting-the-grade-column-into-a-factor.-reorder-the-levels-of-grade_fac-to-be-9th-10th-and-11th.-sort-the-dataset-based-on-the-grade_fac-column.","chapter":"16 Class Activity 10","heading":"16.1.1 a. Create a new column grade_fac by converting the grade column into a factor. Reorder the levels of grade_fac to be “9th”, “10th”, and “11th”. Sort the dataset based on the grade_fac column.","text":"Answer:","code":"\nstudents_a <- students %>%\n  mutate(grade_fac = factor(grade)) %>%\n  mutate(grade_fac = fct_relevel(grade_fac, c(\"9th\", \"10th\", \"11th\"))) %>%\n  arrange(grade_fac) \nprint(students_a, n = 24)# A tibble: 24 × 5\n      id grade region        score grade_fac\n   <int> <chr> <chr>         <dbl> <fct>    \n 1     3 9th   Africa           81 9th      \n 2     4 9th   South America    95 9th      \n 3     6 9th   Middle East      55 9th      \n 4     9 9th   Asia             78 9th      \n 5    11 9th   South America    65 9th      \n 6    12 9th   Middle East      94 9th      \n 7    13 9th   Africa           86 9th      \n 8    15 9th   Middle East      68 9th      \n 9    20 9th   Africa           65 9th      \n10     8 10th  Middle East      97 10th     \n11    10 10th  Africa           64 10th     \n12    14 10th  South America    75 10th     \n13    18 10th  Middle East      93 10th     \n14    23 10th  Middle East      70 10th     \n15     1 11th  Middle East      85 11th     \n16     2 11th  North America    79 11th     \n17     5 11th  Africa           79 11th     \n18     7 11th  South America    94 11th     \n19    16 11th  North America    60 11th     \n20    17 11th  Middle East      92 11th     \n21    19 11th  Middle East      96 11th     \n22    21 11th  Asia             67 11th     \n23    22 11th  Asia             97 11th     \n24    24 11th  North America    74 11th     "},{"path":"class-activity-10.html","id":"b.-create-a-new-column-region_fac-by-converting-the-region-column-into-a-factor.-collapse-the-region_fac-levels-into-three-categories-americas-emea-and-asia.-count-the-number-of-students-in-each-collapsed-region-category.","chapter":"16 Class Activity 10","heading":"16.1.2 b. Create a new column region_fac by converting the region column into a factor. Collapse the region_fac levels into three categories: “Americas”, “EMEA” and “Asia”. Count the number of students in each collapsed region category.","text":"Answer:","code":"\nstudents_b <- students_a %>%\n  mutate(region_fac = factor(region)) %>%\n  mutate(region_collapsed = fct_collapse(region_fac, \n                                         Americas = c(\"North America\", \"South America\"), \n                                         EMEA = c(\"Europe\", \"Middle East\", \"Africa\"), \n                                         Asia = \"Asia\")) %>%\n  count(region_collapsed)\nprint(students_b)# A tibble: 3 × 2\n  region_collapsed     n\n  <fct>            <int>\n1 EMEA                14\n2 Asia                 3\n3 Americas             7"},{"path":"class-activity-10.html","id":"c.-create-a-new-column-grade_infreq-that-is-a-copy-of-the-grade_fac-column.-reorder-the-levels-of-grade_infreq-based-on-their-frequency-in-the-dataset.-print-the-levels-of-grade_infreq-to-check-the-ordering.","chapter":"16 Class Activity 10","heading":"16.1.3 c. Create a new column grade_infreq that is a copy of the grade_fac column. Reorder the levels of grade_infreq based on their frequency in the dataset. Print the levels of grade_infreq to check the ordering.","text":"Answer:","code":"\nstudents_c <- students_a %>%\n  mutate(grade_infreq = grade_fac) %>%\n  mutate(grade_infreq = fct_infreq(grade_infreq))\n\nlevels(students_c$grade_infreq)[1] \"11th\" \"9th\"  \"10th\""},{"path":"class-activity-10.html","id":"d.-create-a-new-column-grade_lumped-by-lumping-the-least-frequent-level-of-the-grade_fac-column-into-an-others-category.-count-the-number-of-students-in-each-of-the-categories-of-the-grade_lumped-column.","chapter":"16 Class Activity 10","heading":"16.1.4 d. Create a new column grade_lumped by lumping the least frequent level of the grade_fac column into an ‘Others’ category. Count the number of students in each of the categories of the grade_lumped column.","text":"Answer:","code":"\nstudents_d <- students_a %>%\n  mutate(grade_lumped = fct_lump(grade_fac, n = 1, other_level = \"Others\")) %>%\n  count(grade_lumped)\nstudents_d# A tibble: 2 × 2\n  grade_lumped     n\n  <fct>        <int>\n1 11th            10\n2 Others          14"},{"path":"class-activity-10.html","id":"your-turn-2-2","chapter":"16 Class Activity 10","heading":"16.2 Your Turn 2","text":"Lets import gss_cat dataset forcats library. datast contains sample categorical variables General Social survey.Use gss_cat answer following questions.","code":"\n# import gss_cat dataset from forcats library\nforcats::gss_cat# A tibble: 21,483 × 9\n    year marital       age race  rincome partyid relig denom\n   <int> <fct>       <int> <fct> <fct>   <fct>   <fct> <fct>\n 1  2000 Never marr…    26 White $8000 … Ind,ne… Prot… Sout…\n 2  2000 Divorced       48 White $8000 … Not st… Prot… Bapt…\n 3  2000 Widowed        67 White Not ap… Indepe… Prot… No d…\n 4  2000 Never marr…    39 White Not ap… Ind,ne… Orth… Not …\n 5  2000 Divorced       25 White Not ap… Not st… None  Not …\n 6  2000 Married        25 White $20000… Strong… Prot… Sout…\n 7  2000 Never marr…    36 White $25000… Not st… Chri… Not …\n 8  2000 Divorced       44 White $7000 … Ind,ne… Prot… Luth…\n 9  2000 Married        44 White $25000… Not st… Prot… Other\n10  2000 Married        47 White $25000… Strong… Prot… Sout…\n# … with 21,473 more rows, and 1 more variable:\n#   tvhours <int>"},{"path":"class-activity-10.html","id":"a.-which-religions-watch-the-least-tv","chapter":"16 Class Activity 10","heading":"16.2.1 a. Which religions watch the least TV?","text":"Answer:","code":"\n# your r-code\ngss_cat %>%\n  drop_na(tvhours) %>%\n  group_by(relig) %>%\n  summarize(tvhours = mean(tvhours)) %>%\n  ggplot(aes(tvhours, fct_reorder(relig, tvhours))) +\n    geom_point()"},{"path":"class-activity-10.html","id":"b.-do-married-people-watch-more-or-less-tv-than-single-people","chapter":"16 Class Activity 10","heading":"16.2.2 b. Do married people watch more or less TV than single people?","text":"Answer:","code":"\n# your r-code\ngss_cat %>%\n  drop_na(tvhours) %>%\n  group_by(marital) %>%\n  summarize(tvhours = mean(tvhours)) %>%\n  ggplot(aes(tvhours, fct_reorder(marital, tvhours))) +\n    geom_point()"},{"path":"class-activity-10.html","id":"c.-collapse-the-marital-variable-to-have-levels-married-not_married-and-no_answer.-include-never-married-divorced-and-widowed-in-not_married","chapter":"16 Class Activity 10","heading":"16.2.3 c. Collapse the marital variable to have levels married, not_married, and no_answer. Include \"Never married\", \"Divorced\", and “Widowed\" in not_married","text":"Answer:","code":"\n# your r-code\ngss_cat %>%\n  drop_na(tvhours) %>%\n  select(marital, tvhours) %>%\n  mutate(\n    maritalStatus =\n      fct_collapse(\n        marital,\n        married = c(\"Married\",\n                    \"Separated\"),\n        not_married = c(\"Never married\",\n                        \"Divorced\",\n                        \"Widowed\"),\n        no_answer = c(\"No answer\")) \n  ) -> marital_c\n\nlevels(marital_c$maritalStatus)[1] \"no_answer\"   \"not_married\" \"married\"    "},{"path":"class-activity-11.html","id":"class-activity-11","chapter":"17 Class Activity 11","heading":"17 Class Activity 11","text":"","code":"\n# load the necessary libraries\nlibrary(tidyverse)\nlibrary(stringr)"},{"path":"class-activity-11.html","id":"problem-1","chapter":"17 Class Activity 11","heading":"17.1 Problem 1","text":"Let’s learn combining strings different separators first.happens str_c entry vector?Answer: entry str_c vector, combine strings element vector, creating multiple combined strings.combine strings str_glue?Answer: can combine strings str_glue using curly braces {} insert variables directly string.str_flatten ?Answer: str_flatten collapses character vector single string concatenating elements specified separator.using \\n separator command ?Answer: Using \\n separator command insert newline character strings combined, making display separate lines printed.str_length count spaces special characters??Answer: Yes, str_length counts spaces special characters part string’s length.count number e’s string?Answer: can count number e‘s string using str_count pattern matches character ’e’.happens negative positions?Answer: Negative positions str_sub count positions end string rather beginning.extract substring positive negative positions?Answer: can extract substring positive negative positions using str_sub specifying start end positions either positive negative numbers.vector positions?Answer: Using vector positions str_sub extract substrings starting ending specified positions vector.extract multiple substrings using vector positions?Answer: can extract multiple substrings using vector positions str_sub specifying start end positions separate vectors.","code":"\nplace <- \"Central Park\"\nactivity <- \"jogging\"\nactivities <- c(\"jogging\", \"picnicking\", \"boating\")\nmy_sentence <- str_c(place, \" is great for \", activity, \".\", sep = \"\")\nmy_sentence[1] \"Central Park is great for jogging.\"\nmy_sentences <- str_c(place, \" is great for \", activities, \".\", sep = \"\")\nmy_sentences[1] \"Central Park is great for jogging.\"   \n[2] \"Central Park is great for picnicking.\"\n[3] \"Central Park is great for boating.\"   \nmy_sentence <- str_glue(\"{place} is great for {activity}.\")\nmy_sentenceCentral Park is great for jogging.\nmy_sentences1 <- str_glue(\"{place} is great for {activities}.\")\nmy_sentences1Central Park is great for jogging.\nCentral Park is great for picnicking.\nCentral Park is great for boating.\nstr_flatten(my_sentences, collapse = \" and \")[1] \"Central Park is great for jogging. and Central Park is great for picnicking. and Central Park is great for boating.\"\np <- str_c(place, \" is great for \", activity, sep = \"\\n\")\nwriteLines(p)Central Park\n is great for \njogging\np[1] \"Central Park\\n is great for \\njogging\"\nstr_length(p)[1] 35\ntext <- \"The quick brown fox jumps over the lazy dog.\"\npattern <- \"e\"\nvowel_count <- str_count(text, pattern)\nvowel_count[1] 3\nstr_sub(my_sentence, start = -3, end = -1)[1] \"ng.\"\nmy_sentence <- \"Central Park is great for jogging.\"\npositive_substr <- str_sub(my_sentence, start = 1, end = 12)\nnegative_substr <- str_sub(my_sentence, start = -8, end = -1)\npositive_substr[1] \"Central Park\"\nnegative_substr[1] \"jogging.\"\nstr_sub(my_sentence, start = c(1, 9), end = c(4, 15))[1] \"Cent\"    \"Park is\"\nmy_sentence <- \"Central Park is great for jogging.\"\nsubstrs <- str_sub(my_sentence, start = c(1, 14, 24), end = c(12, 19, 30))\nsubstrs[1] \"Central Park\" \"is gre\"       \"or jogg\"     "},{"path":"class-activity-11.html","id":"problem-2","chapter":"17 Class Activity 11","heading":"17.2 Problem 2","text":"Use string parsing functions learned today tasks described comments :","code":"\ns1 <- \"12%\"  # remove %\ns2 <- \"New Jersey_*\"  # remove _*\ns3 <- \"2,150\"    # remove comma(,)\ns4 <- \"Learning #datascience is fun!\"   # extract #datascience\ns5 <- \"123 Main St, Springfield, MA, 01101\"   # separate info\n# Cleaning steps\ns1_clean <- str_replace(s1, \"%\", \"\")\ns2_clean <- str_replace(s2, \"_\\\\*\", \"\")\ns3_clean <- str_replace(s3, \",\", \"\")\ns4_clean <- str_extract(s4, \"#\\\\w+\")\ns5_clean <- str_split(s5, \",\\\\s?\")\n\n# Print cleaned strings\ns1_clean[1] \"12\"\ns2_clean[1] \"New Jersey\"\ns3_clean[1] \"2150\"\ns4_clean[1] \"#datascience\"\ns5_clean[[1]]\n[1] \"123 Main St\" \"Springfield\" \"MA\"          \"01101\"      "},{"path":"class-activity-11.html","id":"problem-3","chapter":"17 Class Activity 11","heading":"17.3 Problem 3","text":"Use string parsing functions learned today tasks described comments :","code":"\ns1 <- \"25%\"  # remove %\ns2 <- \"Los Angeles_#\"  # remove _#\ns3 <- \"1,250\"    # remove comma(,)\ns4 <- \"Discover #machinelearning today!\"   # extract #machinelearning\ns5 <- \"456 Main St, San Francisco, CA, 94107\"   # separate info\n# Cleaning steps\ns1_clean <- str_replace(s1, \"%\", \"\")\ns2_clean <- str_replace(s2, \"_#\", \"\")\ns3_clean <- str_replace(s3, \",\", \"\")\ns4_clean <- str_extract(s4, \"#\\\\w+\")\ns5_clean <- str_split(s5, \",\\\\s?\")\n\n# Print cleaned strings\ns1_clean[1] \"25\"\ns2_clean[1] \"Los Angeles\"\ns3_clean[1] \"1250\"\ns4_clean[1] \"#machinelearning\"\ns5_clean[[1]]\n[1] \"456 Main St\"   \"San Francisco\" \"CA\"           \n[4] \"94107\"        "},{"path":"class-activity-11.html","id":"problem-4","chapter":"17 Class Activity 11","heading":"17.4 Problem 4","text":"Let’s look following dataset containing information movies release years. ’ll extract release year movie title, create new column decades, count number movies decade.","code":"\n# Sample dataset\nmovies <- tibble(\n  title = c(\n    \"The Godfather (1972)\", \"Pulp Fiction (1994)\", \"The Dark Knight (2008)\",\n    \"Forrest Gump (1994)\", \"The Shawshank Redemption (1994)\", \"The Matrix (1999)\",\n    \"Inception (2010)\", \"Interstellar (2014)\", \"Parasite (2019)\", \"Fight Club (1999)\"\n  )\n)\nmovies# A tibble: 10 × 1\n   title                          \n   <chr>                          \n 1 The Godfather (1972)           \n 2 Pulp Fiction (1994)            \n 3 The Dark Knight (2008)         \n 4 Forrest Gump (1994)            \n 5 The Shawshank Redemption (1994)\n 6 The Matrix (1999)              \n 7 Inception (2010)               \n 8 Interstellar (2014)            \n 9 Parasite (2019)                \n10 Fight Club (1999)              \n# Processing the dataset\nmovies_processed <- movies %>%\n  mutate(\n    release_year = as.integer(str_extract(title, \"\\\\d{4}\")),\n    decade = floor(release_year / 10) * 10\n  ) %>%\n  count(decade) %>%\n  rename(num_movies = n)\n\n# Print the processed dataset\nmovies_processed# A tibble: 4 × 2\n  decade num_movies\n   <dbl>      <int>\n1   1970          1\n2   1990          5\n3   2000          1\n4   2010          3"},{"path":"class-activity-12.html","id":"class-activity-12","chapter":"18 Class Activity 12","heading":"18 Class Activity 12","text":"-class midterm!","code":""},{"path":"class-activity-13.html","id":"class-activity-13","chapter":"19 Class Activity 13","heading":"19 Class Activity 13","text":"tutorial, learn string manipulations using regular expressions stringr library R. cover different examples use cases help understand concepts functions related string manipulation.","code":"\n# load the necessary libraries\nlibrary(stringr)\nlibrary(dplyr)\nlibrary(readr)"},{"path":"class-activity-13.html","id":"group-activity-1","chapter":"19 Class Activity 13","heading":"19.1 Group Activity 1","text":"","code":"\nx <- \"My SSN is 593-29-9502 and my age is 55\"\ny <- \"My phone number is 612-643-1539\"\nz <- \"My old SSN number is 39532 9423.\"\nout <- str_flatten(c(x,y,z), collapse = \". \")"},{"path":"class-activity-13.html","id":"a.-what-characters-in-x-will-str_view_allx--..--find","chapter":"19 Class Activity 13","heading":"19.1.1 a. What characters in x will str_view_all(x, \"-..-\") find?","text":"answer:pattern searches dash, followed two characters, followed another dash. x, finds “-29-” part SSN.","code":"\nstr_view_all(x, \"-..-\")[1] │ My SSN is 593<-29->9502 and my age is 55"},{"path":"class-activity-13.html","id":"b.-what-pattern-will-str_view_allx--d2--find","chapter":"19 Class Activity 13","heading":"19.1.2 b. What pattern will str_view_all(x, \"-\\\\d{2}-\") find?","text":"answer:pattern searches dash, followed two digits, followed another dash. x, finds “-29-” previous example, part SSN.","code":"\nstr_view_all(x, \"-\\\\d{2}-\")  # \"-\" then 2 digits then \"-\"[1] │ My SSN is 593<-29->9502 and my age is 55"},{"path":"class-activity-13.html","id":"c.-what-pattern-will-str_view_allout-d2.-find","chapter":"19 Class Activity 13","heading":"19.1.3 c. What pattern will str_view_all(out, \"\\\\d{2}\\\\.*\") find?","text":"answer:pattern searches two digits followed optional period. , finds “55” “55.”, represent age first sentence.","code":"\nstr_view_all(out, \"\\\\s\\\\d{2}\\\\.\")  # 2 digits then \".\"[1] │ My SSN is 593-29-9502 and my age is< 55.> My phone number is 612-643-1539. My old SSN number is 39532 9423."},{"path":"class-activity-13.html","id":"d.-use-str_view_all-to-determine-the-correct-regex-pattern-to-identify-all-ssn-in-out","chapter":"19 Class Activity 13","heading":"19.1.4 d. Use str_view_all to determine the correct regex pattern to identify all SSN in out","text":"can get SSN usual format (###-##-####) regex 3, 2, 4 digits separated dash.misses oddly formatted SSN third entry. Rather use dash, can specify divider [-\\\\s]? allows either 0 1 occurrences either dash space divider:answer:first pattern finds SSNs standard format (###-##-####) searching 3 digits, dash, 2 digits, another dash, 4 digits. second pattern allows space instead dash divider. finds SSNs , including oddly formatted one third sentence.","code":"\nstr_view_all(out,\"([0-8]\\\\d{2})-(\\\\d{2})-(\\\\d{4})\")[1] │ My SSN is <593-29-9502> and my age is 55. My phone number is 612-643-1539. My old SSN number is 39532 9423.\nstr_view_all(out,\"([0-8]\\\\d{2})[-\\\\s]?(\\\\d{2})[-\\\\s]?(\\\\d{4})\")[1] │ My SSN is <593-29-9502> and my age is 55. My phone number is 612-643-1539. My old SSN number is <39532 9423>."},{"path":"class-activity-13.html","id":"e.-write-a-regular-expression-to-extract-dates-in-the-format-yyyy-mm-dd-from-a-given-text.","chapter":"19 Class Activity 13","heading":"19.1.5 e. Write a regular expression to extract dates in the format YYYY-MM-DD from a given text.","text":"Answer: pattern searches 4 digits, dash, 2 digits, another dash, 2 digits. given text, finds dates “2023-07-20” “2023-07-22”.","code":"\ndate_pattern <- \"\\\\d{4}-\\\\d{2}-\\\\d{2}\"\ntext <- \"The event will take place on 2023-07-20 and end on 2023-07-22.\"\nstr_extract_all(text, date_pattern)[[1]]\n[1] \"2023-07-20\" \"2023-07-22\""},{"path":"class-activity-13.html","id":"f.-write-a-regular-expression-to-extract-all-words-that-start-with-a-capital-letter-in-a-given-text.","chapter":"19 Class Activity 13","heading":"19.1.6 f. Write a regular expression to extract all words that start with a capital letter in a given text.","text":"Answer: pattern searches word boundary, followed uppercase letter, sequence letters. given text, finds words “Alice”, “Bob”, “Market”, “Groceries”.","code":"\ncapital_pattern <- \"\\\\b[A-Z][a-zA-Z]*\\\\b\"\ntext <- \"Alice and Bob went to the Market to buy some Groceries.\"\nstr_extract_all(text, capital_pattern)[[1]]\n[1] \"Alice\"     \"Bob\"       \"Market\"    \"Groceries\""},{"path":"class-activity-13.html","id":"g-optional-create-a-regular-expression-to-match-urls-considering-both-http-and-https-protocols.","chapter":"19 Class Activity 13","heading":"19.1.7 g (Optional) Create a regular expression to match URLs, considering both http and https protocols.","text":"Answer: pattern searches either “http://” “https://”, followed one domain segments separated periods, optional port number, optional path. given urls, matches first two valid URLs invalid one.https?://: part matches URL protocol (http https). ? means preceding character “s” optional.\n(?:[-zA-Z0-9-]+\\\\.)+: part matches domain name. (?: ) non-capturing group, [-zA-Z0-9-]+ matches one alphanumeric characters hyphens. \\\\. matches period (dot), + outside group means pattern inside group occur one times. [-zA-Z]{2,}: part matches top-level domain (TLD), .com .org, least two alphabetic characters. (?::\\\\d+)?: part optional group matches colon followed one digits. used specify port number URL. ? outside group makes optional. (?:/\\\\S*)?: part another optional group matches forward slash followed zero non-whitespace characters (representing URL path). , ? outside group makes optional.","code":"\nurl_pattern <- \"https?://(?:[a-zA-Z0-9-]+\\\\.)+[a-zA-Z]{2,}(?::\\\\d+)?(?:/\\\\S*)?\"\nurls <- c(\"https://www.example.com\", \"http://example.org/resource?query=123\", \"invalid_url.example.com\")\nstr_view(urls, url_pattern)[1] │ <https://www.example.com>\n[2] │ <http://example.org/resource?query=123>"},{"path":"class-activity-13.html","id":"group-activity-2","chapter":"19 Class Activity 13","heading":"19.2 Group Activity 2","text":"","code":""},{"path":"class-activity-13.html","id":"a.-lets-deal-with-a-number-string-that-is-longer-than-9-digits.","chapter":"19 Class Activity 13","heading":"19.2.1 a. Let’s deal with a number string that is longer than 9 digits.","text":"example captures 9-digit string SSN, strings longer 9 digits may represent SSN. One way deal use negative lookbehind ?<! negative lookahead ?! operators ensure identified 9-digit string leading 0 contain digits.“look behind” start SSN, see another digit:“look ahead” end SSN, see another digit:parts b c, consider following string.","code":"\nssn <- \"([0-8]\\\\d{2})[-\\\\s]?(\\\\d{2})[-\\\\s]?(\\\\d{4})\"\ntest <- c(\"123-45-67890\",\"1123 45 6789\")\nstr_view_all(test, ssn)[1] │ <123-45-6789>0\n[2] │ 1<123 45 6789>\nstr_view_all(test, \"(?<!\\\\d)([0-8]\\\\d{2})[-\\\\.\\\\s]?(\\\\d{2})[-\\\\.\\\\s]?(\\\\d{4})\")[1] │ <123-45-6789>0\n[2] │ 1123 45 6789\nstr_view_all(test, \"(?<!\\\\d)([0-8]\\\\d{2})[-\\\\.\\\\s]?(\\\\d{2})[-\\\\.\\\\s]?(\\\\d{4})(?!\\\\d)\")[1] │ 123-45-67890\n[2] │ 1123 45 6789\nstring1 <- \"100 dollars 100 pesos\""},{"path":"class-activity-13.html","id":"b.-explain-why-the-following-matches-the-first-100-and-not-the-second.","chapter":"19 Class Activity 13","heading":"19.2.2 b. Explain why the following matches the first 100 and not the second.","text":"answer: looks one digits followed space dollars","code":"\nstr_view(string1, \"\\\\d+(?= dollars)\")[1] │ <100> dollars 100 pesos"},{"path":"class-activity-13.html","id":"c.-explain-why-the-following-matches-the-second-100-and-not-the-first.","chapter":"19 Class Activity 13","heading":"19.2.3 c. Explain why the following matches the second 100 and not the first.","text":"answer: looks one digits followed either digit space followed dollarsFor parts d e, please take look string2.","code":"\nstr_view(string1, \"\\\\d+(?!\\\\d| dollars)\")[1] │ 100 dollars <100> pesos\nstring2 <- \"USD100 PESO100\""},{"path":"class-activity-13.html","id":"d.-explain-why-the-following-matches-the-first-100-and-not-the-second.","chapter":"19 Class Activity 13","heading":"19.2.4 d. Explain why the following matches the first 100 and not the second.","text":"answer: looks exactly 3 digits preceded USD","code":"\nstr_view(string2, \"(?<=USD)\\\\d{3}\")[1] │ USD<100> PESO100"},{"path":"class-activity-13.html","id":"e.-explain-why-the-following-matches-the-second-100-and-not-the-first.","chapter":"19 Class Activity 13","heading":"19.2.5 e. Explain why the following matches the second 100 and not the first.","text":"answer: looks exactly 3 digits preceded USD","code":"\nstr_view(string2, \"(?<!USD)\\\\d{3}\")[1] │ USD100 PESO<100>"},{"path":"class-activity-13.html","id":"group-activity-3","chapter":"19 Class Activity 13","heading":"19.3 Group Activity 3","text":"","code":"\ntweets<- read_csv(\"https://raw.githubusercontent.com/deepbas/statdatasets/main/TrumpTweetData.csv\")"},{"path":"class-activity-13.html","id":"a.-what-proportion-of-tweets-text-mention-america","chapter":"19 Class Activity 13","heading":"19.3.1 a. What proportion of tweets (text) mention “America”?","text":"Answer: 10% tweets mention “America”.","code":"\ntweets %>% \n  summarize(prop = mean(str_detect(str_to_title(text), \"America\"))) # A tibble: 1 × 1\n    prop\n   <dbl>\n1 0.0926"},{"path":"class-activity-13.html","id":"b.-what-proportion-of-these-tweets-include-great","chapter":"19 Class Activity 13","heading":"19.3.2 b. What proportion of these tweets include “great”?","text":"Answer: 40% tweets mention “great”.","code":"\ntweets %>% filter(str_detect(str_to_title(text), \"America\")) %>%\n  summarize(prop = mean(str_detect(str_to_lower(text), \"great\"))) # A tibble: 1 × 1\n   prop\n  <dbl>\n1   0.4"},{"path":"class-activity-13.html","id":"c.-what-proportion-of-the-tweets-mention","chapter":"19 Class Activity 13","heading":"19.3.3 c. What proportion of the tweets mention @?","text":"Answer: 32% tweets mention @.","code":"\ntweets %>% mutate(ct = str_count(text, \"@\")) %>%\n  select(text, ct) %>%\n  summarize(prop = mean(ct>0))# A tibble: 1 × 1\n   prop\n  <dbl>\n1 0.317"},{"path":"class-activity-13.html","id":"d.-remove-the-tweets-having-mentions-.","chapter":"19 Class Activity 13","heading":"19.3.4 d. Remove the tweets having mentions @.","text":"Answer: @: part pattern matches “@” symbol, usually indicates beginning mention tweet.\n[^\\s]+: part pattern matches one characters whitespaces. ^ inside square brackets [ ] negates character class (meaning matches character specified class). double backslash \\\\ used escape backslash R string, pattern \\\\s represents whitespace character class \\s. Finally, + indicates pattern match one occurrences non-whitespace characters. Together, regular expression pattern @[^\\\\s]+ matches mention tweet, usually starts “@” followed one non-whitespace characters.","code":"\nMentions <- c(\"@[^\\\\s]+\")\n\ntw_noMentions <- tweets %>% mutate(textNoMentions = str_replace_all(text, Mentions, \"\"))\ntw_noMentions$text[38][1] \"My daughter @IvankaTrump will be on @Greta tonight at 7pm. Enjoy! https://t.co/QySC5PLFMy\"\ntw_noMentions$textNoMentions[38][1] \"My daughter  will be on  tonight at 7pm. Enjoy! https://t.co/QySC5PLFMy\""},{"path":"class-activity-13.html","id":"e.-what-poportion-of-tweets-originated-from-an-iphone","chapter":"19 Class Activity 13","heading":"19.3.5 e. What poportion of tweets originated from an iPhone?","text":"Answer: 42% tweets originated iPhone.","code":"\ntweets %>% group_by(source) %>% summarize(count = n()) %>%\n  mutate(prop = count / sum(count)) %>%  filter(source == \"iPhone\")# A tibble: 1 × 3\n  source count  prop\n  <chr>  <int> <dbl>\n1 iPhone   628 0.415"},{"path":"class-activity-14.html","id":"class-activity-14","chapter":"20 Class Activity 14","heading":"20 Class Activity 14","text":"","code":"\n# load the necessary libraries\nlibrary(wordcloud)\nlibrary(reshape2)\nlibrary(tidyverse)\nlibrary(tidyr)\nlibrary(tidytext)\nlibrary(dplyr)"},{"path":"class-activity-14.html","id":"group-activity-1-1","chapter":"20 Class Activity 14","heading":"20.1 Group Activity 1","text":"","code":""},{"path":"class-activity-14.html","id":"a.-variance-and-skewness","chapter":"20 Class Activity 14","heading":"20.1.1 a. Variance and Skewness","text":"variance random variable \\(x\\) defined :\\[\\operatorname{Var}(x)=\\frac{1}{n-1} \\sum_{=1}^{n}\\left(x_{}-\\bar{x}\\right)^{2}\\]\\(x_i = (\\sum_i^n x_i)/n\\) sample mean. Also, skewness random variable \\(x\\) defined :\\[\\operatorname{Skew}(x)=\\frac{\\frac{1}{n-2}\\left(\\sum_{=1}^{n}\\left(x_{}-\\bar{x}\\right)^{3}\\right)}{\\operatorname{Var}(x)^{3 /2}}\\]Please write functions calculate variance skewness \\(\\{12, 45, 54, 34, 56, 30, 67, \\text{NA}\\}\\).","code":"\nx <- c(12, 45, 54, 34, 56, 30, 67, NA)\n# function to calculate the variance of a vector\nvar <- function(x){\n  x <- na.omit(x) # omit NA values\n  sum((x - mean(x)) ^ 2) / (length(x) - 1)\n}\nvar(x)[1] 346.619\n# function to calculate the skewness of a vector\nskewness <- function(x) {\n  x <- na.omit(x) # omit NA values\n  sum((x - mean(x)) ^ 3) /((length(x) - 2) * var(x) ^ (3 / 2))\n}\nskewness(x)[1] -0.3930586"},{"path":"class-activity-14.html","id":"b.-conditions-and-breaks","chapter":"20 Class Activity 14","heading":"20.1.2 b. Conditions and breaks","text":"Create function iterates numeric vector stops encounters first negative number, returning position negative number. negative numbers vector, function return message stating negative numbers.","code":"\nfind_first_negative <- function(x) {\n  negative_positions <- which(x < 0)\n  \n  if (length(negative_positions) > 0) {\n    return(paste(\"The first negative number is at position\", negative_positions[1]))\n  } else {\n    return(\"There are no negative numbers in the vector\")\n  }\n}\ntest_vector <- c(5, 12, -7, 20, 15)\nfind_first_negative(test_vector)[1] \"The first negative number is at position 3\""},{"path":"class-activity-14.html","id":"group-activity-2-1","chapter":"20 Class Activity 14","heading":"20.2 Group Activity 2","text":"","code":"\nmusical_instr_reviews <-  read_csv(\"https://raw.githubusercontent.com/deepbas/statdatasets/main/musicreviews.csv\") %>% \n  rename(ratingOverall = overall)\nglimpse(musical_instr_reviews)Rows: 10,261\nColumns: 3\n$ reviewerName  <chr> \"cassandra tu \\\"Yeah, well, that's j…\n$ reviewText    <chr> \"not much to write about here but it…\n$ ratingOverall <dbl> 5, 5, 5, 5, 5, 5, 5, 3, 5, 5, 5, 4, …"},{"path":"class-activity-14.html","id":"a.-write-a-function-to-filter-the-dataset-based-on-the-provided-rating","chapter":"20 Class Activity 14","heading":"20.2.1 a. Write a function to filter the dataset based on the provided rating:","text":"","code":"\nfilter_reviews_by_rating <- function(data, rating) {\n  data %>% filter(ratingOverall == rating)\n}"},{"path":"class-activity-14.html","id":"b.-write-a-function-to-process-the-text-and-remove-stop-words","chapter":"20 Class Activity 14","heading":"20.2.2 b. Write a function to process the text and remove stop words:","text":"","code":"\nprocess_text <- function(data) {\n  data %>%\n    select(reviewText) %>%\n    unnest_tokens(output = word, input = reviewText) %>%\n    anti_join(stop_words)\n}"},{"path":"class-activity-14.html","id":"c.-write-a-function-to-join-the-processed-text-with-sentiment-data-and-create-a-word-count-table.","chapter":"20 Class Activity 14","heading":"20.2.3 c. Write a function to join the processed text with sentiment data and create a word count table.","text":"","code":"\ncreate_word_count_table <- function(data) {\n  data %>%\n    inner_join(get_sentiments(\"bing\")) %>%\n    count(word, sentiment, sort = TRUE) %>%\n    reshape2::acast(word ~ sentiment, value.var = \"n\", fill = 0)\n}"},{"path":"class-activity-14.html","id":"d.-create-the-final-function-that-takes-the-rating-and-number-of-words-as-input-arguments-and-returns-a-word-cloud-plot.","chapter":"20 Class Activity 14","heading":"20.2.4 d. Create the final function that takes the rating and number of words as input arguments and returns a word cloud plot.","text":"","code":"\nword_cloud <- function(rating, num.words) {\n  rating <- as.numeric(rating)\n  num.words <- as.numeric(num.words)\n  \n  if (rating >= 1 & rating <= 5) {\n    filtered_reviews <- filter_reviews_by_rating(musical_instr_reviews, rating)\n    processed_reviews <- process_text(filtered_reviews)\n    word_count_table <- create_word_count_table(processed_reviews)\n    \n    comparison.cloud(\n      word_count_table,\n      colors = c(\"blue\", \"purple\"),\n      scale = c(2, 0.5),\n      max.words = num.words,\n      title.size = 2\n    )\n  } else {\n    warning(\" Please enter a rating from 1 to 5\")\n  }\n}\n\nword_cloud(rating = \"4\", num.words = 300)"},{"path":"class-activity-15.html","id":"class-activity-15","chapter":"21 Class Activity 15","heading":"21 Class Activity 15","text":"","code":"\n# load the necessary libraries\nlibrary(tidyverse)\nlibrary(dplyr)\nlibrary(stringr)\n\n\nenergy <- read_csv(\"https://raw.githubusercontent.com/deepbas/statdatasets/main/energy.csv\",\n                    col_type = cols(\n                     .default = col_double(), \n                      Timestamp = col_datetime(format = \"\"),\n                      dayWeek = col_factor(levels=c(\"Mon\",\"Tues\",\"Wed\",\"Thurs\",\"Fri\",\"Sat\",\"Sun\"))\n                     ))"},{"path":"class-activity-15.html","id":"group-activity-1-2","chapter":"21 Class Activity 15","heading":"21.1 Group Activity 1","text":"","code":""},{"path":"class-activity-15.html","id":"a.-if-and-for-loop","chapter":"21 Class Activity 15","heading":"21.1.1 a. if and for loop","text":"Write loop iterate columns ‘energy’ dataset print names columns containing string “House”. Please use function colnames() extract column names store results list.Answer:","code":"\n# Create an empty list to store the column names\nhouse_columns <- list()\n\n# Iterate over the columns of the 'energy' dataset\nfor (i in seq_along(colnames(energy))) {\n  col_name <- colnames(energy)[i]\n  \n  # Check if the column name contains the string \"House\"\n  if (str_detect(col_name, \"House\")) {\n    # Add the column name to the list\n    house_columns[[length(house_columns) + 1]] <- col_name\n  }\n}\n\n# Print the list of house columns\nhouse_columns <- unlist(house_columns)\nhouse_columns [1] \"Allen_House\"                     \n [2] \"Alumni_Guest_House/Johnson_House\"\n [3] \"Benton_House\"                    \n [4] \"Berg_House\"                      \n [5] \"Bird_House\"                      \n [6] \"Chaney_House\"                    \n [7] \"Clader_House\"                    \n [8] \"Dacie_Moses_House\"               \n [9] \"Douglas_House\"                   \n[10] \"Farm_House\"                      \n[11] \"Geffert_House\"                   \n[12] \"Headley_House\"                   \n[13] \"Henrickson_House\"                \n[14] \"Henry_House\"                     \n[15] \"Hill_House\"                      \n[16] \"Hilton_House\"                    \n[17] \"Hoppin_House_(Alumni)\"           \n[18] \"Huntington_House\"                \n[19] \"Jewett_House\"                    \n[20] \"Jones_House\"                     \n[21] \"Nutting_House\"                   \n[22] \"Page_House_West\"                 \n[23] \"Parish_House_\"                   \n[24] \"Parr_House\"                      \n[25] \"Pollock_House\"                   \n[26] \"Prentice_House\"                  \n[27] \"Rayment_House\"                   \n[28] \"Rice_House\"                      \n[29] \"Rogers_House\"                    \n[30] \"Ryberg_House\"                    \n[31] \"Seccombe_House\"                  \n[32] \"Sperry_House\"                    \n[33] \"Stimson_House\"                   \n[34] \"Strong_House\"                    \n[35] \"Whittier_House\"                  \n[36] \"Wilson_House\"                    "},{"path":"class-activity-15.html","id":"b.-for-loop-and-mean","chapter":"21 Class Activity 15","heading":"21.1.2 b. for loop and mean","text":"Using loop, calculate print mean energy consumption houses identified part .Answer:","code":"\n# Assuming the house_columns vector from the previous step\n\n# Create an empty numeric vector to store the mean energy consumption\nmean_energy_consumption <- numeric()\n\n# Iterate over the house_columns vector\nfor (house_col in house_columns) {\n  # Calculate the mean energy consumption for the current house column\n  mean_val <- mean(energy[[house_col]], na.rm = TRUE)\n  \n  # Add the mean energy consumption to the vector\n  mean_energy_consumption <- c(mean_energy_consumption, mean_val)\n}\n\n# Combine the house names and mean energy consumption into a dataframe\nhouse_mean_energy <- bind_cols(House = house_columns, MeanEnergyConsumption = mean_energy_consumption)\n\n# Print the dataframe\nhouse_mean_energy %>%  knitr::kable()"},{"path":"class-activity-15.html","id":"group-activity-2-2","chapter":"21 Class Activity 15","heading":"21.2 Group Activity 2","text":"1. Make data frame quantiles energy buildings columns 9-90 (need na.rm = TRUE)Answer:2. Add variable identify quantileAnswer:3. Reshape data frame make variables stat (describing quantile), building quant (quantile value)Answer:4. Plot KWH value quantile x-axis buildings Sayles-Hill, Language_&_Dining_Center, Olin_Hall_of_ScienceAnswer:","code":"\nqdf <- energy %>% select(9:90) %>%\n  map_dfc(quantile, probs = seq(.1,.9,.1), na.rm = TRUE)\nqdf# A tibble: 9 × 82\n  100_Neva…¹ 104_M…² 106_W…³ Allen…⁴ Alumn…⁵ Arbor…⁶ Art_S…⁷\n       <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>\n1     0.0972    1.04   0.601   0.756    17.0    0.13    0.23\n2     0.120     1.11   0.632   0.781    18.1    0.23    0.28\n3     0.183     1.18   0.673   0.941    18.4    0.25    0.33\n4     0.461     1.18   0.681   0.983    20.3    0.28    0.4 \n5     0.710     1.42   0.692   1.00     21.0    0.32    0.47\n6     0.795     1.42   0.865   1.01     21.8    0.38    0.57\n7     0.915     1.54   1.10    1.07     21.9    0.44    0.73\n8     1.11      1.56   1.20    1.07     22      0.52    0.88\n9     1.24      1.67   1.27    1.25     22.5    0.71    1.09\n# … with 75 more variables: Benton_House <dbl>,\n#   Berg_House <dbl>, Bird_House <dbl>,\n#   Boliou_Memorial_Art_Bldg. <dbl>, Burton_Hall <dbl>,\n#   `Cassat_Hall_/_James_Hall` <dbl>,\n#   `Center_for_Mathematics_&_Computing` <dbl>,\n#   Chaney_House <dbl>, Clader_House <dbl>,\n#   College_Warehouse <dbl>, Cowling_Gym <dbl>, …\nqdf <- energy %>% select(9:90) %>%\n  map_dfc(quantile, probs = seq(.1,.9,.1), na.rm = TRUE) %>%  \n  mutate(stat = str_c(\"quantile_\", seq(10,90,10))) \nqdf# A tibble: 9 × 83\n  100_Neva…¹ 104_M…² 106_W…³ Allen…⁴ Alumn…⁵ Arbor…⁶ Art_S…⁷\n       <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>\n1     0.0972    1.04   0.601   0.756    17.0    0.13    0.23\n2     0.120     1.11   0.632   0.781    18.1    0.23    0.28\n3     0.183     1.18   0.673   0.941    18.4    0.25    0.33\n4     0.461     1.18   0.681   0.983    20.3    0.28    0.4 \n5     0.710     1.42   0.692   1.00     21.0    0.32    0.47\n6     0.795     1.42   0.865   1.01     21.8    0.38    0.57\n7     0.915     1.54   1.10    1.07     21.9    0.44    0.73\n8     1.11      1.56   1.20    1.07     22      0.52    0.88\n9     1.24      1.67   1.27    1.25     22.5    0.71    1.09\n# … with 76 more variables: Benton_House <dbl>,\n#   Berg_House <dbl>, Bird_House <dbl>,\n#   Boliou_Memorial_Art_Bldg. <dbl>, Burton_Hall <dbl>,\n#   `Cassat_Hall_/_James_Hall` <dbl>,\n#   `Center_for_Mathematics_&_Computing` <dbl>,\n#   Chaney_House <dbl>, Clader_House <dbl>,\n#   College_Warehouse <dbl>, Cowling_Gym <dbl>, …\nqdf <- energy %>% select(9:90) %>%\n  map_dfc(quantile, probs = seq(.1,.9,.1), na.rm = TRUE) %>%  \n  mutate(stat = str_c(\"quantile_\", seq(10,90,10))) %>%   \n  pivot_longer(names_to = \"building\", values_to = \"quantiles\", 1:82)\nqdf# A tibble: 738 × 3\n   stat        building                         quantiles\n   <chr>       <chr>                                <dbl>\n 1 quantile_10 100_Nevada_Street                   0.0972\n 2 quantile_10 104_Maple_St.                       1.04  \n 3 quantile_10 106_Winona_St.                      0.601 \n 4 quantile_10 Allen_House                         0.756 \n 5 quantile_10 Alumni_Guest_House/Johnson_House   17.0   \n 6 quantile_10 Arboretum_Office                    0.13  \n 7 quantile_10 Art_Studios                         0.23  \n 8 quantile_10 Benton_House                        1.59  \n 9 quantile_10 Berg_House                          1.06  \n10 quantile_10 Bird_House                          1.42  \n# … with 728 more rows\nqdf %>% \n  filter(building %in% c(\"Sayles-Hill\" ,\"Language_&_Dining_Center\", \"Olin_Hall_of_Science\"))  %>%  \n  ggplot(aes(x=quantiles, y=parse_number(stat), color=building)) +\n  geom_point() + \n  geom_line(aes(group=building)) + \n  labs(y=\"Percentile (%)\",x=\"KWH\") +\n  scale_y_continuous(breaks=seq(10,90,by=10))"},{"path":"class-activity-16.html","id":"class-activity-16","chapter":"22 Class Activity 16","heading":"22 Class Activity 16","text":"","code":"\n# load the necessary libraries\nlibrary(tidyverse)\nlibrary(stringr)\nlibrary(polite)\nlibrary(rvest)"},{"path":"class-activity-16.html","id":"group-activity-1-3","chapter":"22 Class Activity 16","heading":"22.1 Group Activity 1","text":"seen slides, can extract movie titles using .lister-item-header css selector.Now, lets scrape elements webpage one one using selector gadget tool.","code":"\nurl <- 'https://www.imdb.com/search/title/?groups=best_picture_winner&sort=year,desc&count=100&view=advanced'\nwebpage <- bow(url) %>% scrape()\ntitle_data <- webpage %>% \n  html_nodes(css = \".lister-item-header a\") %>% \n  html_text()"},{"path":"class-activity-16.html","id":"a.-use-the-selector-gadget-tool-to-find-the-css-for-extracting-year-the-movie-came-out.","chapter":"22 Class Activity 16","heading":"22.1.1 a. Use the selector gadget tool to find the CSS for extracting year the movie came out.","text":"Tidy data\nUsing parse_number()\nUsing regex\nUsing parse_number()Using regex","code":"\nyear_data <- webpage %>% \n  html_nodes(css = '.text-muted.unbold') %>% \n  html_text() %>%\n  parse_number()\n\nyear_data1 <- webpage %>% \n  html_nodes(css = '.text-muted.unbold') %>% \n  html_text() %>% \n  str_extract_all(\"[0-9]+\") %>% \n  unlist() %>% \n  as.numeric()"},{"path":"class-activity-16.html","id":"b.-next-parse-the-webpage-to-produce-a-vector-of-the-descriptions.-tidy-the-description-by-removing-unwanted-regexes.","chapter":"22 Class Activity 16","heading":"22.1.2 b. Next, parse the webpage to produce a vector of the descriptions. Tidy the description by removing unwanted regexes.","text":"","code":"\ndescription_data <- webpage %>% \n  html_nodes('.ratings-bar+ .text-muted') %>% \n  html_text() %>% \n  str_trim()\nhead(description_data,3)[1] \"A middle-aged Chinese immigrant is swept up into an insane adventure in which she alone can save existence by exploring other universes and connecting with the lives she could have led.\"                                                                      \n[2] \"As a CODA (Child of Deaf Adults) Ruby is the only hearing person in her deaf family. When the family's fishing business is threatened, Ruby finds herself torn between pursuing her passion at Berklee College of Music and her fear of abandoning her parents.\"\n[3] \"A woman in her sixties, after losing everything in the Great Recession, embarks on a journey through the American West, living as a van-dwelling modern-day nomad.\"                                                                                             "},{"path":"class-activity-16.html","id":"c.-now-parse-the-runtime-data-by-following-similar-tools-used-for-extracting-year.","chapter":"22 Class Activity 16","heading":"22.1.3 c. Now, parse the runtime data by following similar tools used for extracting year.","text":"","code":"\nruntime_data <- webpage %>% \n  html_nodes('.runtime') %>% \n  html_text() %>% \n  parse_number()\nhead(runtime_data)[1] 139 111 107 132 130 123"},{"path":"class-activity-16.html","id":"d.-do-the-same-for-getting-the-ratings-data-using-an-appropriate-selector.","chapter":"22 Class Activity 16","heading":"22.1.4 d. Do the same for getting the ratings data using an appropriate selector.","text":"","code":"\nrating_data <- webpage %>% \n  html_nodes('.ratings-imdb-rating') %>% \n  html_text() %>% \n  as.numeric()"},{"path":"class-activity-16.html","id":"e.-finally-get-the-number-of-votes-following-similar-tools","chapter":"22 Class Activity 16","heading":"22.1.5 e. Finally, get the number of votes following similar tools","text":"can combine information scraped produce nice table ca use analysis. Please run following code, done prior codes.","code":"\nvotes_data <- webpage %>% \n  html_nodes('.sort-num_votes-visible span:nth-child(2)') %>% \n  html_text() %>% \n  parse_number()\nmovies_df <- data.frame(Year = year_data,\n                      Title = title_data,\n                      Description = description_data, \n                      Runtime = runtime_data,\n                      Rating = rating_data,\n                      Votes = votes_data) %>% as_tibble()\nmovies_df %>% knitr::kable()"},{"path":"class-activity-16.html","id":"group-activity-2-3","chapter":"22 Class Activity 16","heading":"22.2 Group Activity 2","text":"","code":""},{"path":"class-activity-16.html","id":"a.-scrape-the-names-scores-and-years-of-most-popular-tv-shows-on-imdb","chapter":"22 Class Activity 16","heading":"22.2.1 a. Scrape the names, scores, and years of most popular TV shows on IMDB:","text":"www.imdb.com/chart/tvmeter. Create data frame called tvshows four variables\n(rank, name, score, year)Note:’s easier use SelectorGadget choose CSS selectors wisely. Otherwise, ’ll cleaning scraping.","code":"\npage <- read_html(\"http://www.imdb.com/chart/tvmeter\")\nname <- page %>%\n  html_nodes(\".titleColumn a\") %>%\n  html_text()\n\nranks <- page %>%\n  html_nodes(\".velocity\") %>%\n  html_text() %>%\n  str_extract(\"\\\\d+\") %>%\n  as.numeric()\n\nscores <-  page %>%\n  html_nodes(\".imdbRating\") %>%\n  html_text() %>%\n  str_extract(\"\\\\d+.\\\\d+\") %>%\n  as.numeric()\n\n# If you don't use the gadget selector carefully, \n# more string manipulation is needed here\n\nyears <- page %>%\n  html_nodes(\"a+ .secondaryInfo\") %>%\n  html_text() %>%\n  str_extract(\"\\\\d+\") %>%\n  as.numeric()\ntvshows <- tibble(\n  rank = ranks,\n  name = name,\n  score = scores,\n  year = years\n)\n\ntvshows# A tibble: 100 × 4\n    rank name                                score  year\n   <dbl> <chr>                               <dbl> <dbl>\n 1     1 Queen Charlotte: A Bridgerton Story   7    2023\n 2     2 Silo                                  8.3  2023\n 3     3 Succession                            8.8  2018\n 4     4 Ted Lasso                             8.8  2020\n 5     5 The Diplomat                          8.1  2023\n 6     6 Love & Death                          7.6  2023\n 7     7 Citadel                               6.2  2023\n 8     8 Queen Cleopatra                       1    2023\n 9     9 Barry                                 8.4  2018\n10    10 The Marvelous Mrs. Maisel             8.7  2017\n# … with 90 more rows"},{"path":"class-activity-16.html","id":"group-activity-3-1","chapter":"22 Class Activity 16","heading":"22.3 Group Activity 3","text":"","code":""},{"path":"class-activity-16.html","id":"a.-scrape-the-first-table-in-list_of_nasa_missions-wiki-page.-additionally-use-janitorclean_names-to-clean-the-column-names-and-store-the-resulting-table-as-nasa_missions.csv-in-your-working-folder.","chapter":"22 Class Activity 16","heading":"22.3.1 a. Scrape the first table in List_of_NASA_missions wiki page. Additionally, use janitor::clean_names() to clean the column names and store the resulting table as NASA_missions.csv in your working folder.","text":"","code":"\n# extract data from \n# the first table on the page\nwiki_NASA <- \"https://en.wikipedia.org/wiki/List_of_NASA_missions\"\nNASA_missions <- bow(wiki_NASA) %>%scrape() %>% \n  html_nodes(\"table\") %>% \n  .[[1]] %>% \n  html_table() %>% \n  janitor::clean_names()\n# Exporting data to CSV\nreadr::write_csv(NASA_missions, \"NASA_missions.csv\")"},{"path":"class-activity-16.html","id":"b.-now-write-a-code-snippet-to-scrape-all-the-urls-from-the-anchor-tags-a-on-a-given-wikipedia-page-convert-the-relative-urls-to-absolute-urls-and-store-the-results-in-a-tibble-and-save-it-as-websites.csv-in-your-working-folder.","chapter":"22 Class Activity 16","heading":"22.3.2 b. Now, write a code snippet to scrape all the URLs from the anchor tags (<a>) on a given Wikipedia page, convert the relative URLs to absolute URLs, and store the results in a tibble and save it as websites.csv in your working folder.","text":"","code":"\n# extract URLs\nwebsites <-  bow(wiki_NASA) %>% scrape() %>% \n  html_nodes(\"a\") %>%\n  html_attr(\"href\") %>% \n  url_absolute(\"https://en.wikipedia.org/\") \n# Exporting data to CSV\nreadr::write_csv(websites, \"websites.csv\")"},{"path":"class-activity-17.html","id":"class-activity-17","chapter":"23 Class Activity 17","heading":"23 Class Activity 17","text":"","code":"\n# load the necessary libraries\nlibrary(tidyverse)\nlibrary(stringr)\nlibrary(purrr)\nlibrary(ggthemes)\nlibrary(rvest)\nlibrary(polite)"},{"path":"class-activity-17.html","id":"group-activity-1-4","chapter":"23 Class Activity 17","heading":"23.1 Group Activity 1","text":"Go numbers webpage extract table front page.Find number pages contain movie table, looking changes url address bar. url changes go next page?Answer: starting count movie gets concatenated url increments 100.Write loop store data multiple pages single data frame.","code":"\nsession1 <- bow(url = \"https://www.the-numbers.com/movie/budgets/all\") %>% scrape() %>%\n  html_nodes(css = \"table\") %>%\n  html_table()\n\ntable_base <- session1 %>% .[[1]]\nlibrary(tidyverse)\nlibrary(rvest)\n\nnew_urls <- \"https://www.the-numbers.com/movie/budgets/all/\"\n\n# Create an empty data frame\ndf1 <- list()\n\n# Generate a vector of indices\nindex <- seq(1, 6301, 100)\n# Loop through indices, scrape data, and bind the resulting data frames\nfor (i in 1:length(index)) {\n  url <- str_glue(\"{new_urls}{index[i]}\")\n  webpage <- read_html(url)\n  table_new <- html_table(webpage)[[1]] %>%\n    tibble::as_tibble(.name_repair = \"unique\") %>% \n    janitor::clean_names() %>% \n    mutate(x1 = as.character(x1))\n  df1[[i]] <- table_new\n}\n\ndf1_final <- do.call(rbind, df1)\ndf1_final1 <- reduce(df1, dplyr::bind_rows)\n# alternate using map/lapply\nurls <- map(index, function(i) str_glue({new_urls}, {index[i]}))\nurls <- map(index, ~str_glue({new_urls}, {.x}))\n\n\nsessions <- map(urls, ~read_html(.x) %>% \n                  html_nodes(\"table\") %>% \n                  html_table() %>% \n                  tibble::as_tibble(.name_repair = \"unique\") %>% \n                  janitor::clean_names())\n\nmovies_data <- do.call(rbind, lapply(1:length(urls), function(i) sessions[[i]][[1]]))\nglimpse(movies_data)Rows: 6,393\nColumns: 6\n$ ``               <chr> \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\"…\n$ ReleaseDate      <chr> \"Dec 9, 2022\", \"Apr 23, 2019\", \"M…\n$ Movie            <chr> \"Avatar: The Way of Water\", \"Aven…\n$ ProductionBudget <chr> \"$460,000,000\", \"$400,000,000\", \"…\n$ DomesticGross    <chr> \"$684,048,778\", \"$858,373,000\", \"…\n$ WorldwideGross   <chr> \"$2,319,736,450\", \"$2,794,731,755…"},{"path":"class-activity-17.html","id":"group-activity-2-4","chapter":"23 Class Activity 17","heading":"23.2 Group Activity 2","text":"Go numbers webpage extract table front page.Find number pages contain movie table, looking changes url address bar. url changes go next page?Answer: url field ?page_num= added number pages running 1 24.Write loop store data multiple pages single data frame.Create interactive bar plot display number wins per team year.Explore relationship number goals scored number goals team year interactive scatter plot.Visualize team performance per year (wins, losses, OT losses) using stacked bar plot.","code":"\nsession1 <- bow(url = \"https://www.scrapethissite.com/pages/forms/\") %>% scrape() %>%\n  html_nodes(css = \"table\") %>%\n  html_table()\n\ntable_base <- session1 %>% .[[1]]\nlibrary(tidyverse)\nlibrary(rvest)\n\nnew_urls <- \"http://scrapethissite.com/pages/forms/?page_num=\"\n\n# Create an empty data frame\ndf2 <- list()\n\n# Generate a vector of indices\nindex <- seq(1, 24)\n# Loop through indices, scrape data, and bind the resulting data frames\nfor (i in index) {\n  url <- str_glue(\"{new_urls}{i}\")\n  webpage <- read_html(url)\n  table_new <- html_table(webpage)[[1]] %>%\n    tibble::as_tibble(.name_repair = \"unique\")\n  df2[[i]] <- table_new\n}\n\ndf2_final <- do.call(rbind, df2)\ndf2_final1 <- reduce(df2, dplyr::bind_rows)\n# alternate using map\nurls <- map(index, function(i) str_glue({new_urls}, {i}))\nurls <- map(index, ~str_glue({new_urls}, {.x}))\n\n\nsessions <- map(urls, ~read_html(.x) %>% \n                  html_nodes(\"table\") %>% \n                  html_table() %>% \n                  tibble::as_tibble(.name_repair = \"unique\") %>% \n                  janitor::clean_names())\n\nsports_data <- do.call(rbind, lapply(1:length(urls), function(i) sessions[[i]][[1]]))\nsports_data1 <- map_df(1:length(urls), ~sessions[[.x]][[1]])\n\nglimpse(sports_data)Rows: 582\nColumns: 9\n$ `Team Name`          <chr> \"Boston Bruins\", \"Buffalo Sab…\n$ Year                 <int> 1990, 1990, 1990, 1990, 1990,…\n$ Wins                 <int> 44, 31, 46, 49, 34, 37, 31, 4…\n$ Losses               <int> 24, 30, 26, 23, 38, 37, 38, 2…\n$ `OT Losses`          <int> NA, NA, NA, NA, NA, NA, NA, N…\n$ `Win %`              <dbl> 0.550, 0.388, 0.575, 0.613, 0…\n$ `Goals For (GF)`     <int> 299, 292, 344, 284, 273, 272,…\n$ `Goals Against (GA)` <int> 264, 278, 263, 211, 298, 272,…\n$ `+ / -`              <int> 35, 14, 81, 73, -25, 0, -38, …\nlibrary(plotly)\n\nbar_plot <- ggplot(sports_data, aes(x = Year, y = Wins, fill = `Team Name`)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(title = \"Number of Wins per Team and Year\") +\n  theme(legend.position = \"bottom\")\n\nplotly_bar <- ggplotly(bar_plot)\nplotly_bar\nscatter_plot <- ggplot(sports_data, aes(x = `Goals For (GF)`, y = `Goals Against (GA)`, color = `Team Name`, text = paste(\"Team:\", `Team Name`, \"<br>Year:\", Year))) +\n  geom_point() +\n  labs(title = \"Goals Scored vs. Goals Against per Team and Year\") +\n  theme(legend.position = \"bottom\") +\n  xlab(\"Goals Scored (GF)\") +\n  ylab(\"Goals Against (GA)\") \nplotly_scatter <- ggplotly(scatter_plot, tooltip = \"text\")\nplotly_scatter\nstacked_bar_plot <- ggplot(sports_data, aes(x = Year, fill = `Team Name`)) +\n  geom_bar(aes(y = Wins), position = \"stack\", stat = \"identity\", width = 0.4, alpha = 0.8) +\n  geom_bar(aes(y = Losses), position = \"stack\", stat = \"identity\", width = 0.4, alpha = 0.8) +\n  geom_bar(aes(y = `OT Losses`), position = \"stack\", stat = \"identity\", width = 0.4, alpha = 0.8) +\n  labs(title = \"Team Performance per Year (Wins, Losses, and OT Losses)\") +\n  theme(legend.position = \"bottom\") +\n  xlab(\"Year\") +\n  ylab(\"Number of Games\")\n\nplotly_stacked_bar <- ggplotly(stacked_bar_plot)\nplotly_stacked_bar"},{"path":"class-activity-18.html","id":"class-activity-18","chapter":"24 Class Activity 18","heading":"24 Class Activity 18","text":"","code":"\n# load the necessary libraries\nlibrary(tidyverse)\nlibrary(shiny)\nlibrary(readr)\nlibrary(janitor)\nlibrary(purrr)\nlibrary(lubridate)\nlibrary(plotly)\nlibrary(DT)\nlibrary(ggthemes)\nlibrary(rvest)\nlibrary(polite)"},{"path":"class-activity-18.html","id":"shiny-app-structure","chapter":"24 Class Activity 18","heading":"24.1 Shiny App Structure","text":"","code":""},{"path":"class-activity-18.html","id":"user-interface-ui","chapter":"24 Class Activity 18","heading":"24.2 User Interface (UI)","text":"UI just web document user gets see, ’s HTML write using Shiny’s functions. UI responsible creating layout app telling Shiny exactly things go. server responsible logic app; ’s set instructions tell web page show user interacts page.","code":""},{"path":"class-activity-18.html","id":"hello-world","chapter":"24 Class Activity 18","heading":"24.2.1 Hello World!","text":"","code":"\nui <- fluidPage(\"Hello World!\")\nserver <- function(input, output) {}\nshinyApp(ui = ui, server = server, options = list(height = 200))"},{"path":"class-activity-18.html","id":"add-more-information","chapter":"24 Class Activity 18","heading":"24.2.2 Add more information","text":"","code":"\nfluidPage(\n  titlePanel(\"Tracking Covid in Minnesota\"),\n  h1(\"Some nice header\"),\n  \"elements1\",\n  \"elements2\",\n  br(),\n  \"things1\",\n  strong(\"things2\")\n)"},{"path":"class-activity-18.html","id":"add-a-layout","chapter":"24 Class Activity 18","heading":"24.2.3 Add a layout","text":"","code":"\nsidebarLayout(\n  sidebarPanel(\"our inputs will go here\"),\n  mainPanel(\"the results will go here\")\n)"},{"path":"class-activity-18.html","id":"read-data","chapter":"24 Class Activity 18","heading":"24.3 Read Data","text":"","code":"\ntable_usafacts <- bow(url = \"https://usafacts.org/visualizations/coronavirus-covid-19-spread-map/state/minnesota\") %>%\n  scrape() %>%  html_nodes(\"a\") %>%       # find all links\n  html_attr(\"href\") %>%     # get the url\n  str_subset(\".csv\")        # find those that end in csv\nlibrary(lubridate)\ncovid_data <- read_csv(table_usafacts[2]) %>% filter(State == \"MN\") %>% \n  select(-countyFIPS, -StateFIPS, -State) %>% \n  filter(!row_number() %in% c(1)) %>% \n  pivot_longer(-1, names_to = \"Dates\", values_to = \"Cases\") %>% \n  janitor::clean_names() %>% \n  mutate(county_name = str_remove(county_name, \" County\"), \n         dates = ymd(dates), \n         counties = as.factor(str_remove(county_name, \" County\")), \n         month = month(dates), \n         year = year(dates)) %>%\n  select(-county_name)\nhead(covid_data)\n# County level data\ncounty_names <- covid_data %>% pull(counties) %>% unique()\ncounty_data <- lapply(1:length(county_names), function(i) filter(covid_data, counties == county_names[i]))\ncounty_data %>% pluck(which(county_names == \"Dakota\"))"},{"path":"class-activity-18.html","id":"a-complete-skeleton-app","chapter":"24 Class Activity 18","heading":"24.3.1 A complete skeleton app","text":"","code":"\nui <- fluidPage(\n  titlePanel(\"Tracking Covid in Minnesota\"),\n  sidebarLayout(\n    sidebarPanel(\"our inputs will go here\"),\n    mainPanel(\"the results will go here\")\n  )\n)\n\nserver <- function(input, output) {}\n\nshinyApp(ui = ui, server = server)"},{"path":"class-activity-18.html","id":"add-inputs-to-the-ui","chapter":"24 Class Activity 18","heading":"24.3.2 Add inputs to the UI","text":"","code":"\nui <- fluidPage(\n  titlePanel(\"Tracking Covid in Minnesota\"),\n  sidebarLayout(\n    sidebarPanel(\n      sliderInput(\"monthInput\", \"Month\", 0, 12, c(3, 6)),\n      radioButtons(\"yearInput\", \"Year\",\n                  choices = c(\"2020\", \"2021\", \"2022\", \"2023\"),\n                  selected = \"2022\"),\n       selectInput(inputId = \"dv\", label = \"County\",\n                        choices = levels(covid_data$counties),\n                        selected = c(\"Aitkin\"))\n    ),\n    mainPanel(\"the results will go here\")\n  )\n)\n\nserver <- function(input, output) {}\n\nshinyApp(ui = ui, server = server, options = list(height = 800))"},{"path":"class-activity-18.html","id":"add-placeholders-for-outputs","chapter":"24 Class Activity 18","heading":"24.3.3 Add placeholders for outputs","text":"","code":"\nui <- fluidPage(\n  titlePanel(\"Tracking Covid in Minnesota\"),\n  sidebarLayout(\n    sidebarPanel(\n      sliderInput(\"monthInput\", \"Month\", 0, 12, c(3, 6)),\n      radioButtons(\"yearInput\", \"Year\",\n                  choices = c(\"2020\", \"2021\", \"2022\", \"2023\"),\n                  selected = \"2022\"),\n       selectInput(inputId = \"dv\", label = \"County\",\n                        choices = levels(covid_data$counties),\n                        selected = c(\"Aitkin\"))\n    ),\n    mainPanel(\n      plotOutput(\"coolplot\"),\n      br(), br(),\n      tableOutput(\"results\")\n    )\n  )\n)\n\nserver <- function(input, output) {}\n\nshinyApp(ui = ui, server = server, options = list(height = 800))"},{"path":"class-activity-18.html","id":"server-function","chapter":"24 Class Activity 18","heading":"24.4 Server Function","text":"Server function responsible listening changes inputs creating outputs show app.","code":""},{"path":"class-activity-18.html","id":"implementation-1","chapter":"24 Class Activity 18","heading":"24.4.1 Implementation 1","text":"","code":"\nui1 <- fluidPage(\n    titlePanel(\"Tracking Covid in Minnesota\"),\n    sidebarLayout(\n        sidebarPanel(\n          sliderInput(\"monthInput\", \"Month\", 0, 12, c(3, 6)),\n          radioButtons(\"yearInput\", \"Year\",\n                  choices = c(\"2020\", \"2021\", \"2022\", \"2023\"),\n                  selected = \"2020\"),\n          selectInput(inputId = \"dv\", label = \"County\",\n                        choices = levels(covid_data$counties),\n                        selected = c(\"Aitkin\"))\n    ),\n        mainPanel(\n            plotOutput(outputId = \"plot\"), br(),\n            DT::dataTableOutput(outputId = \"table\")\n        )\n    )\n)\nserver1 <- function(input, output) {\n    filtered_data <- reactive({\n        subset(covid_data,\n               counties %in% input$dv &\n               month >= input$monthInput[1] & month <= input$monthInput[2] & \n          year == input$yearInput) })\n\n    output$plot <- renderPlot({\n        ggplot(filtered_data(), aes(x=dates, y=cases, color=counties)) + theme_economist_white()+\n                geom_point(alpha=0.5, color = \"blue\") + theme(legend.position = \"none\") +\n                    ylab(\"Number of Cases\") + xlab(\"Date\")})\n\n    output$table <- DT::renderDataTable({\n        filtered_data()})\n        \n}\napp1 <- shinyApp(ui = ui1, server = server1, options = list(height = 1200))\napp1"},{"path":"class-activity-19.html","id":"class-activity-19","chapter":"25 Class Activity 19","heading":"25 Class Activity 19","text":"","code":"\n# List of required packages\npkgs <- c(\"tidyverse\", \"ggthemes\", \"rvest\", \"polite\", \"ggiraph\", \"shiny\", \"bslib\", \"stringr\")\n\n# Check and install missing packages\nfor (pkg in pkgs) {\n  if (!requireNamespace(pkg, quietly = TRUE)) \n    install.packages(pkg)\n}"},{"path":"class-activity-19.html","id":"reactive","chapter":"25 Class Activity 19","heading":"25.1 Reactive","text":"","code":""},{"path":"class-activity-19.html","id":"a.-create-a-shiny-app-that-allows-users-to-input-a-number-and-displays-its-square-and-cube-in-real-time-using-reactive-expressions-and-text-outputs.","chapter":"25 Class Activity 19","heading":"25.1.1 a. Create a Shiny app that allows users to input a number and displays its square and cube in real-time using reactive expressions and text outputs.","text":"","code":"\nlibrary(shiny)\n\nui <- fluidPage(\n  numericInput(\"number\", \"Enter a number\", value = 1, min = 1),\n  textOutput(\"square\"),\n  textOutput(\"cube\")\n)\n\nserver <- function(input, output) {\n  # Create a reactive expression to store the number\n  number <- reactive({\n    input$number\n  })\n\n  output$square <- renderText({\n    paste(\"Square of the number:\", number()^2)\n  })\n\n  output$cube <- renderText({\n    paste(\"Cube of the number:\", number()^3)\n  })\n}\n\nshinyApp(ui, server, options = list(height = 800))"},{"path":"class-activity-19.html","id":"action-button","chapter":"25 Class Activity 19","heading":"25.2 Action button","text":"","code":""},{"path":"class-activity-19.html","id":"b.-create-a-shiny-app-that-takes-user-selected-gear-numbers-and-generates-a-polar-coordinate-plot-of-miles-per-gallon-mpg-using-the-mtcars-dataset-and-ggplot2.","chapter":"25 Class Activity 19","heading":"25.2.1 b. Create a Shiny app that takes user-selected gear numbers and generates a polar coordinate plot of miles per gallon (mpg) using the mtcars dataset and ggplot2.","text":"","code":"\nlibrary(shiny)\nlibrary(ggplot2)\n\nui <- fluidPage(\n  selectInput(\"gear\", \"Number of Gears\", \n              choices = unique(mtcars$gear), \n              selected = 3),\n  actionButton(\"goButton\", \"Go!\"),\n  plotOutput(\"distPlot\")\n)\n\nserver <- function(input, output) {\n  output$distPlot <- renderPlot({\n   \n    input$goButton\n\n    # Use isolate() to avoid dependency on input$gear\n    selected_gear <- isolate(input$gear)\n    gear_data <- subset(mtcars, gear == selected_gear)\n\n    # Plot the polar coordinate plot of miles per gallon (mpg) for the selected number of gears\n    p <- ggplot(gear_data, aes(x = factor(1), y = mpg, fill = factor(cyl))) +\n      geom_bar(stat = \"identity\", width = 1) +\n      coord_polar(theta = \"y\") +\n      theme_void() +\n      labs(title = stringr::str_c(\"Polar Coordinate Plot for \", selected_gear, \" Gears\"),\n           fill = \"Cylinders\")\n      \n    print(p)\n  })\n}\n\nshinyApp(ui, server, options = list(height = 800))"},{"path":"class-activity-19.html","id":"reactive-values","chapter":"25 Class Activity 19","heading":"25.3 Reactive Values","text":"","code":""},{"path":"class-activity-19.html","id":"c.-create-a-shiny-app-with-increment-and-decrement-buttons-to-manipulate-a-counter-and-display-its-value-in-real-time-using-reactive-values-and-text-output.","chapter":"25 Class Activity 19","heading":"25.3.1 c. Create a Shiny app with increment and decrement buttons to manipulate a counter and display its value in real-time using reactive values and text output.","text":"","code":"\nlibrary(shiny)\n\nui <- fluidPage(\n  actionButton(\"increment\", \"Increment\"),\n  actionButton(\"decrement\", \"Decrement\"),\n  textOutput(\"counter\")\n)\n\nserver <- function(input, output) {\n  # Create a reactiveValues object to store the counter\n  counter <- reactiveValues(value = 0)\n\n  observeEvent(input$increment, {\n    counter$value <- counter$value + 1\n  })\n\n  observeEvent(input$decrement, {\n    counter$value <- counter$value - 1\n  })\n\n  output$counter <- renderText({\n    paste(\"Counter value:\", counter$value)\n  })\n}\n\nshinyApp(ui, server, options = list(height = 800))"},{"path":"class-activity-19.html","id":"isolate","chapter":"25 Class Activity 19","heading":"25.4 Isolate","text":"","code":""},{"path":"class-activity-19.html","id":"d.-create-a-shiny-app-that-allows-users-to-select-two-variables-from-the-mtcars-dataset-and-generates-a-color-coded-scatter-plot-which-refreshes-only-when-an-action-button-is-clicked-using-ggplot2-and-isolate-function.","chapter":"25 Class Activity 19","heading":"25.4.1 d. Create a Shiny app that allows users to select two variables from the mtcars dataset and generates a color-coded scatter plot, which refreshes only when an action button is clicked, using ggplot2 and isolate() function.","text":"","code":"\nui <- fluidPage(\n  theme = bslib::bs_theme(version = 4, bootswatch = \"flatly\"),\n  titlePanel(\"Panel Plot Demo with Shiny and bslib\"),\n  \n  sidebarLayout(\n    sidebarPanel(\n      selectInput(\"var1\", \"Variable 1:\", choices = colnames(mtcars), selected = \"mpg\"),\n      selectInput(\"var2\", \"Variable 2:\", choices = colnames(mtcars), selected = \"wt\"),\n      actionButton(\"refresh\", \"Refresh Plot\")\n    ),\n    \n    mainPanel(\n      plotOutput(\"panelPlot\")\n    )\n  )\n)\n\nserver <- function(input, output, session) {\n  \n  output$panelPlot <- renderPlot({\n    input$refresh\n    \n    isolate({\n       panel_plot <- ggplot(mtcars, aes(x = !!sym(input$var1), y = !!sym(input$var2))) +\n        geom_point(aes(color = factor(cyl))) +\n        theme_minimal() +\n        labs(x = input$var1, y = input$var2, color = \"Cylinders\") +\n        theme(legend.position = \"bottom\")\n      \n      print(panel_plot)\n    })\n  })\n}\n\nshinyApp(ui, server, options = list(height = 800))"},{"path":"class-activity-19.html","id":"eventreactive","chapter":"25 Class Activity 19","heading":"25.5 EventReactive","text":"","code":""},{"path":"class-activity-19.html","id":"e.-create-a-shiny-app-that-takes-user-selected-mpg-threshold-and-calculates-the-number-of-observations-above-the-threshold-updating-the-results-only-when-an-action-button-is-clicked-using-eventreactive-and-rendertext.","chapter":"25 Class Activity 19","heading":"25.5.1 e. Create a Shiny app that takes user-selected MPG threshold and calculates the number of observations above the threshold, updating the results only when an action button is clicked, using eventReactive() and renderText().","text":"","code":"\nlibrary(shiny)\n\nui <- fluidPage(\n  sliderInput(\"mpg_threshold\", \"MPG Threshold\", min(mtcars$mpg), max(mtcars$mpg), value = 20, step = 0.5),\n  actionButton(\"goButton\", \"Go!\"),\n  textOutput(\"num_obs\")\n)\n\nserver <- function(input, output) {\n  # Use eventReactive() to update the number of observations above the threshold\n  num_obs_above_threshold <- eventReactive(input$goButton, {\n    sum(mtcars$mpg > input$mpg_threshold)\n  })\n\n  output$num_obs <- renderText({\n    paste(\"Number of observations above the threshold:\", num_obs_above_threshold())\n  })\n}\n\nshinyApp(ui, server, options = list(height = 800))"},{"path":"class-activity-19.html","id":"more-with-isolate","chapter":"25 Class Activity 19","heading":"25.5.2 More with isolate","text":"","code":"\nlibrary(shiny)\nlibrary(bslib)\nlibrary(ggplot2)\n\nui <- fluidPage(\n  theme = bs_theme(version = 4, bootswatch = \"flatly\"),\n  titlePanel(\"Interactive Plot Demo with Shiny, bslib, and ggplot2\"),\n  \n  sidebarLayout(\n    sidebarPanel(\n      selectInput(\"var1\", \"Variable 1:\", choices = colnames(mtcars), selected = \"mpg\"),\n      selectInput(\"var2\", \"Variable 2:\", choices = colnames(mtcars), selected = \"wt\"),\n      actionButton(\"refresh\", \"Refresh Plot\")\n    ),\n    \n    mainPanel(\n      plotOutput(\"Plot\")\n    )\n  )\n)\n\nserver <- function(input, output, session) {\n  \n  output$Plot <- renderPlot({\n    input$refresh\n    \n    isolate({\n      p <- ggplot(data = mtcars, \n                  mapping = aes(x = !!sym(input$var1), y = !!sym(input$var2), color = factor(cyl))) +\n        geom_point(size = 3) +\n        scale_color_viridis_d(option = \"viridis\", name = \"Cylinders\") +\n        theme_minimal() +\n        theme(legend.position = \"bottom\") +\n        labs(x = input$var1, y = input$var2)\n      \n      print(p)\n    })\n  })\n}\n\nshinyApp(ui, server, options = list(height = 800))"},{"path":"class-activity-19.html","id":"exercises","chapter":"25 Class Activity 19","heading":"25.6 Exercises","text":"","code":""},{"path":"class-activity-19.html","id":"question-1","chapter":"25 Class Activity 19","heading":"25.6.1 Question 1","text":"Explain create Shiny app takes user-inputted number displays square cube real-time using reactive expressions text outputs.Answer: Create numericInput user enter number, two textOutput elements square cube. server function, define reactive expression store user input. Use renderText display square, cube, factorial number.","code":""},{"path":"class-activity-19.html","id":"question-2","chapter":"25 Class Activity 19","heading":"25.6.2 Question 2","text":"can create Shiny app allows users select two variables mtcars dataset generates color-coded scatter plot, refreshes action button clicked, using ggplot2 isolate() function?Answer: Use selectInput let users choose variables, actionButton trigger plot refresh. server function, create renderPlot depends action button input. Within renderPlot, use isolate() access selected variables without triggering reactivity. Create scatter plot ggplot2, display using print().","code":""},{"path":"class-activity-19.html","id":"question-3","chapter":"25 Class Activity 19","heading":"25.6.3 Question 3","text":"create Shiny app takes user-selected MPG threshold calculates number observations threshold, updating results action button clicked, using eventReactive() renderText()?Answer: Create sliderInput MPG threshold actionButton trigger calculation. server function, use eventReactive() perform calculation based action button input. , use renderText() display result, updates action button clicked.","code":""},{"path":"class-activity-20.html","id":"class-activity-20","chapter":"26 Class Activity 20","heading":"26 Class Activity 20","text":"","code":"\n# load the necessary libraries\nlibrary(tidyverse)\nlibrary(shiny)\nlibrary(rvest)\nlibrary(polite)\nlibrary(leaflet)\nlibrary(sp)\nlibrary(maptools)\nlibrary(rgeos)\nlibrary(stringr)\nlibrary(RColorBrewer)\nlibrary(terra)\nlibrary(raster)"},{"path":"class-activity-20.html","id":"group-activity-1-5","chapter":"26 Class Activity 20","heading":"26.1 Group Activity 1","text":"","code":""},{"path":"class-activity-20.html","id":"a.-explore-covid-19-vaccination-rates-across-the-midwest-with-this-r-script-which-scrapes-data-processes-it-and-creates-an-interactive-state-specific-leaflet-map-for-clear-visualization.","chapter":"26 Class Activity 20","heading":"26.1.1 a. Explore COVID-19 vaccination rates across the Midwest with this R script, which scrapes data, processes it, and creates an interactive, state-specific leaflet map for clear visualization.","text":"Answer:","code":"\n# Scrape the data\ncovid_final <- read_html(\"https://usafacts.org/visualizations/covid-vaccine-tracker-states/state/minnesota\") %>%\n  html_elements(css = \"table\") %>% html_table() %>% .[[1]] %>%\n  janitor::clean_names() %>%\n  mutate_at(2:4, parse_number) %>% mutate(state = str_to_lower(state)) %>%\n  filter(state %in% c(\"ohio\", \"indiana\", \"michigan\", \"illinois\", \"missouri\", \"wisconsin\", \"minnesota\", \n                                     \"iowa\", \"kansas\", \"nebraska\", \"south dakota\", \"north dakota\"))\n\n# Midwest\nUSA_Midwest <- maps::map(\"state\", \n                         regions = c(\"ohio\", \"indiana\", \"michigan\", \"illinois\", \"missouri\", \"wisconsin\", \"minnesota\", \n                                     \"iowa\", \"kansas\", \"nebraska\", \"south dakota\", \"north dakota\"), \n                         plot = FALSE, fill = TRUE) %>%\n  map2SpatialPolygons(IDs = str_remove(.$names, \"(?=:).+\"))\n\n# Merge the data and the map\nmap <- SpatialPolygonsDataFrame(USA_Midwest, covid_final, match.ID = FALSE)\n\n# Create bins and color palette\nbins <- seq(min(map$percent_fully_vaccinated), max(map$percent_fully_vaccinated), length.out = 6)\npal <- colorBin(\"viridis\", domain = map$percent_fully_vaccinated, bins = bins)\n\n# Create labels\nlabels <- sprintf(\"<strong> %s <\/strong> <br/> Observed: %s\", str_to_upper(map$state), map$percent_fully_vaccinated) %>%\n  lapply(htmltools::HTML)\n\n# Plot the map\nleaflet(map) %>% \n  addTiles() %>% \n  setView(lng = -93.1616, lat = 44.4583, zoom = 4) %>%\n  addPolygons(\n    color = \"grey\", \n    weight = 1,\n    fillColor = ~pal(percent_fully_vaccinated), \n    fillOpacity = 0.7,\n    highlightOptions = highlightOptions(weight = 5),\n    label = labels\n  ) %>%\n  addLegend(\n    pal = pal, \n    values = ~percent_fully_vaccinated, \n    opacity = 0.5, \n    title = \"Percent Vaccn.\", \n    position = \"bottomright\"\n  )"},{"path":"class-activity-20.html","id":"group-activity-2-5","chapter":"26 Class Activity 20","heading":"26.2 Group Activity 2","text":"","code":""},{"path":"class-activity-20.html","id":"a.-explore-the-covid-19-vaccination-status-across-various-us-regions-using-this-interactive-shiny-app.-the-script-extracts-data-from-usafacts-presents-user-options-to-customize-the-map-projection-color-palette-and-region-and-dynamically-generates-a-leaflet-map-to-visualize-the-selected-data.","chapter":"26 Class Activity 20","heading":"26.2.1 a. Explore the COVID-19 vaccination status across various US regions using this interactive Shiny app. The script extracts data from USAFacts, presents user options to customize the map projection, color palette, and region, and dynamically generates a Leaflet map to visualize the selected data.","text":"Answer:","code":"\n# Scrape the data\ncovid_final <- read_html(\"https://usafacts.org/visualizations/covid-vaccine-tracker-states/state/minnesota\") %>%\n  html_elements(css = \"table\") %>% html_table() %>% .[[1]] %>%\n  janitor::clean_names() %>%\n  mutate_at(2:4, parse_number) %>% mutate(state = str_to_lower(state))\n\n\n\n# UI\nui <- fluidPage(\n  titlePanel(\"Map of States and their vaccination status\"),\n  sidebarLayout(\n    sidebarPanel(\n      selectInput(\"myvar\", \"What to project?\", choices = names(covid_final)[2:4], selected = names(covid_final)[2]),\n      selectInput(\"palette\", \"Choose color palette:\", choices = c(\"viridis\", \"magma\", \"inferno\", \"plasma\", \"cividis\")),\n      selectInput(\"region\", \"Select region:\", choices = c(\"Northeast\", \"Southeast\", \"Midwest\", \"South\", \"West\")),\n      actionButton(\"goButton\", \"Update map\")\n    ),\n    mainPanel(\n      leafletOutput(\"myplot\")\n    )\n  ) \n)\n\n\n# UI\nui <- fluidPage(\n  titlePanel(\"Map of States and their vaccination status\"),\n  sidebarLayout(\n    sidebarPanel(\n      selectInput(\"myvar\", \"What to project?\", choices = names(covid_final)[2:4], selected = names(covid_final)[2]),\n      selectInput(\"palette\", \"Choose color palette:\", choices = c(\"viridis\", \"magma\", \"inferno\", \"plasma\", \"cividis\")),\n      selectInput(\"region\", \"Select region:\", choices = c(\"Northeast\", \"Southeast\", \"Midwest\", \"South\", \"West\")),\n      actionButton(\"goButton\", \"Update map\")\n    ),\n    mainPanel(\n      leafletOutput(\"myplot\")\n    )\n  ) \n)\n\n# Server\nserver <- function(input, output, session) {\n  map_data <- eventReactive(input$goButton, {\n    req(input$region)\n    \n    region_states <- switch(input$region,\n                        \"Northeast\" = c(\"maine\", \"new hampshire\", \"vermont\", \"massachusetts\", \"rhode island\", \n                                        \"connecticut\", \"new york\", \"pennsylvania\", \"new jersey\"),\n                        \"Southeast\" = c(\"delaware\", \"maryland\", \"virginia\", \"west virginia\", \"north carolina\", \n                                        \"south carolina\", \"georgia\", \"florida\", \"kentucky\", \"tennessee\", \n                                        \"mississippi\", \"alabama\", \"arkansas\", \"louisiana\"),\n                        \"Midwest\" = c(\"ohio\", \"indiana\", \"michigan\", \"illinois\", \"wisconsin\", \"minnesota\", \n                                      \"iowa\", \"missouri\", \"kansas\", \"nebraska\", \"south dakota\", \"north dakota\"),\n                        \"South\" = c(\"oklahoma\", \"texas\", \"new mexico\", \"arizona\"),\n                        \"West\" = c(\"colorado\", \"wyoming\", \"montana\", \"idaho\", \"utah\", \"nevada\", \"california\", \n                                   \"oregon\", \"washington\"))\n                       \n\n    \n    covid_region <- isolate(covid_final %>%\n      filter(state %in% region_states))\n    \n    USA_region <- maps::map(\"state\", regions = region_states, plot = FALSE, fill = TRUE) %>%\n      map2SpatialPolygons(IDs = str_remove(.$names, \"(?=:).+\"))\n    \n    SpatialPolygonsDataFrame(USA_region, covid_region, match.ID = FALSE)\n  }, ignoreNULL = FALSE)\n  \n  output$myplot <- renderLeaflet({\n    req(map_data()) # ensure that map_data() is available\n    \n    bins <- seq(min(map_data()[[input$myvar]]), max(map_data()[[input$myvar]]), length.out = 6)\n    pal <- colorBin(input$palette, domain = map_data()[[input$myvar]], bins = bins)\n    \n    labels <- sprintf(\"<strong> %s <\/strong> <br/> Observed <strong> %s <\/strong>  : %s\", str_to_upper(map_data()$state), input$myvar, map_data()[[input$myvar]]) %>% \n      lapply(htmltools::HTML)\n    \n    m <- leaflet(map_data()) %>%\n      addTiles() %>%  setView(lng = -93.1616, lat = 40.4583, zoom = 3.5) %>%\n      addPolygons(\n        color = \"grey\", \n        weight = 1,\n        fillColor = ~pal(get(input$myvar)), \n        fillOpacity = 0.7,\n        highlightOptions = highlightOptions(weight = 5),\n        label = labels\n      ) %>%\n      addLegend(\n        pal = pal, \n        values = ~get(input$myvar), \n        opacity = 0.5, \n        title = str_to_title(input$myvar), \n        position = \"bottomright\"\n      )\n    m\n  })\n}\n\n# Run the app\nshinyApp(ui = ui, server = server)"},{"path":"class-activity-20.html","id":"b.-modify-the-app-in-2a-to-add-an-all-option-in-the-select-region-input-to-allow-users-to-view-all-states-at-once.","chapter":"26 Class Activity 20","heading":"26.2.2 b. Modify the app in 2a to add an “All” option in the “Select region” input to allow users to view all states at once.","text":"","code":"\n# your r-code"},{"path":"class-activity-20.html","id":"c.-open-an-account-on-shinyapps.io-and-follow-the-steps-to-deploy-one-of-the-apps-to-shinyapps.io.","chapter":"26 Class Activity 20","heading":"26.2.3 c. Open an account on shinyapps.io and follow the steps to deploy one of the apps to shinyapps.io.","text":"","code":""},{"path":"class-activity-21.html","id":"class-activity-21","chapter":"27 Class Activity 21","heading":"27 Class Activity 21","text":"","code":"\n# load the necessary libraries\nlibrary(tidyverse) \nlibrary(tidymodels)\nlibrary(mlbench)     \nlibrary(janitor)\nlibrary(parsnip)\nlibrary(kknn)\nlibrary(paletteer)\nlibrary(corrr)\nlibrary(forcats)\nlibrary(ggthemes)"},{"path":"class-activity-21.html","id":"group-activity-1-6","chapter":"27 Class Activity 21","heading":"27.1 Group Activity 1","text":"Let’s perform steps involved classifying whether patient certain glucose insulin diabetes using parsnip package.Answer:already know labels patients dataset. well model predict diabetes status? see coming lectures, now try compare results first 10 cases dataset.Answer:accuracy percentage?Answer:Repeat part b. different model fitted different number neighbors. See accuracy percentage change new setting.Answer:","code":"\n# Load the data\ndata(PimaIndiansDiabetes2)\ndb <- PimaIndiansDiabetes2\n\n# correlation plot of the variables\ndb %>%\n  select(-diabetes) %>%  # only numerical variables\n  correlate() %>%\n  stretch() %>%\n  ggplot(aes(x, y, fill = r)) +\n  geom_tile() +\n  geom_text(aes(label = as.character(fashion(r)))) +\n  scale_fill_paletteer_c(\"scico::roma\", limits = c(-1, 1), direction = -1)\n# 1 Prepare raw data\ndb_raw <- db %>% drop_na() %>%  select(glucose, insulin, diabetes)\n# 2 Create a recipe for data pre-processing\ndb_recipe <- recipe(diabetes ~ ., data = db_raw) %>%\n  step_scale(all_predictors()) %>%\n  step_center(all_predictors()) %>%\n  prep()\n# 3 Apply the recipe to the data set\ndb_scaled <-  bake(db_recipe, db_raw)\n# 4 Create a model specification\nknn_spec <- nearest_neighbor(mode = \"classification\",\n                             engine = \"kknn\",\n                             neighbors = 5)\n# 5 Fit the model on the pre-processed data\nknn_fit <- knn_spec %>%\n fit(diabetes ~ ., data = db_scaled)\n# 6 Classify\n# These are standardized value!!\nnew_observations <- tibble(glucose = c(1, 2), insulin = c(-1, 1))\npredict(knn_fit, new_data = new_observations)# A tibble: 2 × 1\n  .pred_class\n  <fct>      \n1 neg        \n2 pos        \nscaled_observations <- db_scaled[1:50,]\npredictions <- predict(knn_fit, new_data = scaled_observations)\nbind_cols(scaled_observations, predictions, db_raw %>% \n            select(diabetes) %>% \n            slice(1:50)) %>% knitr::kable()\nsum(predictions == db_raw %>% select(diabetes) %>% slice(1:50))/50[1] 0.78\nknn_spec <- nearest_neighbor(mode = \"classification\",\n                             engine = \"kknn\",\n                             weight_func = \"rectangular\",\n                             neighbors = 3)\nknn_fit <- knn_spec %>%\n fit(diabetes ~ ., data = db_scaled)\n\nscaled_observations <- db_scaled\npredictions <- predict(knn_fit, new_data = scaled_observations)\n# bind_cols(scaled_observations, predictions, db_raw %>% \n#            select(diabetes)) %>% knitr::kable()\n\nsum(predictions == db_raw %>% select(diabetes))/392[1] 0.8239796"},{"path":"class-activity-22.html","id":"class-activity-22","chapter":"28 Class Activity 22","heading":"28 Class Activity 22","text":"","code":"\n# load the necessary libraries\nlibrary(tidyverse) \nlibrary(tidymodels)\nlibrary(mlbench)     # for PimaIndiansDiabetes2 dataset\nlibrary(janitor)\nlibrary(parsnip)\nlibrary(kknn)\nlibrary(ggthemes)\nlibrary(purrr)\nlibrary(forcats)"},{"path":"class-activity-22.html","id":"group-activity-1-7","chapter":"28 Class Activity 22","heading":"28.1 Group Activity 1","text":"Load mlbench package get PimaIndiansDiabetes2 dataset.Split data 75-25 training test set using following code.Answer:Follow steps train 7-NN classifier using tidymodels toolkitAnswer:Classify penguins test data frame.Answer:","code":"\n# Load the data - diabetes\ndata(PimaIndiansDiabetes2)\ndb <- PimaIndiansDiabetes2\ndb <- db %>% drop_na() %>% mutate(diabetes = fct_rev(factor(diabetes))) \ndb_raw <- db %>% select(glucose, insulin, diabetes)\nset.seed(123)\n\ndb_split <- initial_split(db, prop = 0.75)\n\n# Create training data\ndb_train <- db_split %>% training()\n\n# Create testing data\ndb_test <- db_split %>%  testing()\n# define recipe and preprocess the data\ndb_recipe <- recipe(diabetes ~ ., data = db_raw) %>%\n  step_scale(all_predictors()) %>%\n  step_center(all_predictors()) %>%\n  prep()\n# specify the model\ndb_knn_spec7 <- nearest_neighbor(mode = \"classification\",\n                             engine = \"kknn\",\n                             weight_func = \"rectangular\",\n                             neighbors = 7)\n# define the workflow\ndb_workflow <- workflow() %>% \n  add_recipe(db_recipe) %>%\n  add_model(db_knn_spec7)\n# fit the model\ndb_fit <- fit(db_workflow, data = db_train)\ntest_features <- db_test %>% select(glucose, insulin) \ndb_pred <- predict(db_fit, test_features)\n\ndb_results <- db_test %>% \n  select(glucose, insulin, diabetes) %>% \n  bind_cols(predicted = db_pred)\n\nhead(db_results, 6)   glucose insulin diabetes .pred_class\n4       89      94      neg         neg\n7       78      88      pos         neg\n15     166     175      pos         pos\n19     103      83      neg         neg\n32     158     245      pos         pos\n36     103     192      neg         neg"},{"path":"class-activity-22.html","id":"group-activity-2-6","chapter":"28 Class Activity 22","heading":"28.2 Group Activity 2","text":"Calculate accuracy, sensitivity, specificity, positive predictive value hand using following confusion matrix.Answer:","code":"\nconf_mat(db_results, truth = diabetes, estimate = .pred_class)          Truth\nPrediction pos neg\n       pos  17   8\n       neg  12  61\naccuracy(db_results, truth = diabetes,\n         estimate = .pred_class)# A tibble: 1 × 3\n  .metric  .estimator .estimate\n  <chr>    <chr>          <dbl>\n1 accuracy binary         0.796\nsens(db_results, truth = diabetes,\n         estimate = .pred_class)# A tibble: 1 × 3\n  .metric .estimator .estimate\n  <chr>   <chr>          <dbl>\n1 sens    binary         0.586\nspec(db_results, truth = diabetes,\n         estimate = .pred_class)# A tibble: 1 × 3\n  .metric .estimator .estimate\n  <chr>   <chr>          <dbl>\n1 spec    binary         0.884\nppv(db_results, truth = diabetes,\n         estimate = .pred_class)# A tibble: 1 × 3\n  .metric .estimator .estimate\n  <chr>   <chr>          <dbl>\n1 ppv     binary          0.68"},{"path":"class-activity-22.html","id":"extra-code-to-recreate-the-plot-in-the-slides-for-the-diabetes-dataset.","chapter":"28 Class Activity 22","heading":"28.3 Extra: Code to recreate the plot in the slides for the diabetes dataset.","text":"Answer:","code":"\nmetrics_for_k <- function(k, db_train, db_test){\ndb_knn_spec <- nearest_neighbor(mode = \"classification\",\n                             engine = \"kknn\",\n                             weight_func = \"rectangular\",\n                             neighbors = k)\n\ndb_knn_wkflow <- workflow() %>%\n  add_recipe(db_recipe) %>%\n  add_model(db_knn_spec)\n\ndb_knn_fit <- fit(db_knn_wkflow, data = db_train)\ntest_features <- db_test %>% select(glucose, insulin)\nnn1_pred <- predict(db_knn_fit, test_features, type = \"raw\")\n\ndb_results <- db_test %>% \n  select(diabetes) %>% \n  bind_cols(predicted = nn1_pred)\ncustom_metrics <- metric_set(accuracy, sens, spec, ppv)\n\nmetrics <- custom_metrics(db_results,\n               truth = diabetes,\n               estimate = predicted) \nmetrics <- metrics %>% select(-.estimator) %>% mutate(k = rep(k,4))\n\nreturn(list = metrics)\n}\noptim.results %>%\n  ggplot(aes(x = k, y = .estimate, color = forcats::fct_reorder2(.metric, k, .estimate ))) +\n  geom_line(size = 1) +\n  geom_point(size = 2) +\n  theme_minimal() +\n  ggthemes::scale_color_wsj() + \n  scale_x_continuous(breaks = k) +\n  theme(panel.grid.minor.x = element_blank(),\n        axis.text=element_text(size=6, angle = 20))+\n  labs(color='Metric', y = \"Estimate\", x = \"K\") "},{"path":"class-activity-23.html","id":"class-activity-23","chapter":"29 Class Activity 23","heading":"29 Class Activity 23","text":"","code":"\n# load the necessary libraries\nlibrary(tidyverse) \nlibrary(tidymodels)\nlibrary(mlbench)     # for PimaIndiansDiabetes2 dataset\nlibrary(janitor)\nlibrary(yardstick) # extra package for getting metrics\nlibrary(parsnip) # tidy interface to models\nlibrary(ggthemes)\nlibrary(forcats)\nlibrary(probably)\nlibrary(yardstick)"},{"path":"class-activity-23.html","id":"group-activity-1-8","chapter":"29 Class Activity 23","heading":"29.1 Group Activity 1","text":"Load mlbench package get PimaIndiansDiabetes2 dataset.Creating recipeAnswer:Create model specification use tune() placeholder number neighborsAnswer:Split db_train data set v = 10 folds, stratified diabetesAnswer:Create grid K values, number neighbors run 10-fold CV k_vals grid, storing four performance metrics. vizualization code provided reference.Answer:","code":"\n# Load the data - diabetes\ndata(PimaIndiansDiabetes2)\ndb <- PimaIndiansDiabetes2\ndb <- db %>% drop_na() \ndb_raw <- db %>% select(glucose, insulin, diabetes)\n\ndb_split <- initial_split(db_raw, prop = 0.80)\n# Create training data\ndb_train <- db_split %>% training()\n# Create testing data\ndb_test <- db_split %>% testing()\ndb_recipe <- recipe(diabetes ~  glucose + insulin, data = db_train) %>%\n  step_scale(all_predictors()) %>%\n  step_center(all_predictors()) %>% \n  prep()\nknn_spec <- nearest_neighbor(weight_func = \"rectangular\", \n                             engine = \"kknn\",\n                             mode = \"classification\",\n                             neighbors = tune())\ndb_vfold <- vfold_cv(db_train, v = 10, strata = diabetes)\nk_vals <- tibble(neighbors = seq(from = 1, to = 40, by = 1))\nknn_fit <- workflow() %>%\n  add_recipe(db_recipe) %>%\n  add_model(knn_spec) %>%\n  tune_grid(\n    resamples = db_vfold, \n    grid = k_vals,\n    metrics = metric_set(yardstick::ppv, yardstick::accuracy, sens, spec),\n    control = control_resamples(save_pred = TRUE))\ncv_metrics <- collect_metrics(knn_fit) \ncv_metrics %>% group_by(.metric) %>% slice_max(mean) # A tibble: 8 × 7\n# Groups:   .metric [4]\n  neighbors .metric  .estimator  mean     n std_err .config \n      <dbl> <chr>    <chr>      <dbl> <int>   <dbl> <chr>   \n1        19 accuracy binary     0.767    10  0.0162 Preproc…\n2        20 accuracy binary     0.767    10  0.0162 Preproc…\n3        19 ppv      binary     0.802    10  0.0185 Preproc…\n4        20 ppv      binary     0.802    10  0.0185 Preproc…\n5        37 sens     binary     0.877    10  0.0141 Preproc…\n6        38 sens     binary     0.877    10  0.0141 Preproc…\n7        19 spec     binary     0.54     10  0.0559 Preproc…\n8        20 spec     binary     0.54     10  0.0559 Preproc…"},{"path":"class-activity-23.html","id":"extra-plot-the-metrics","chapter":"29 Class Activity 23","heading":"29.1.1 Extra: Plot the metrics","text":"Answer:","code":"\nfinal.results <- cv_metrics %>%  mutate(.metric = as.factor(.metric)) %>%\n  select(neighbors, .metric, mean)\n\nfinal.results %>%\n  ggplot(aes(x = neighbors, y = mean, color = forcats::fct_reorder2(.metric, neighbors, mean))) +\n  geom_line(size = 1) +\n  geom_point(size = 2) +\n  theme_minimal() +\n  scale_color_wsj() + \n  scale_x_continuous(breaks = k_vals[[1]]) +\n  theme(panel.grid.minor.x = element_blank())+\n  labs(color='Metric', y = \"Estimate\", x = \"K\")"},{"path":"class-activity-23.html","id":"group-activity-2-7","chapter":"29 Class Activity 23","heading":"29.2 Group Activity 2","text":"Let’s fit logistic regression model.interested predicting diabetes status patients depending amount glucose. Verify glucose value 143.11 gives probability diabetes 1/2.Answer:\\[log\\left(\\frac{p}{1-p}\\right)  = \\beta_0 + \\beta_1x\\]value glucose needed probability diabetes 0.75?Answer:Make classifier classifies diabetes status new patients threshold 0.75, .e, new patient classified negative estimated class probability less 0.75. Also, create confusion matrix resulting predictions.Answer:","code":"\nset.seed(12345)\ndb_single <- db %>% select(diabetes, glucose)\ndb_split <- initial_split(db_single, prop = 0.80)\n\n# Create training data\ndb_train <- db_split %>% training()\n\n# Create testing data\ndb_test <- db_split %>% testing()\n\nfitted_logistic_model <- logistic_reg() %>% # Call the model function\n        # Set the engine/family of the model\n        set_engine(\"glm\") %>%\n        # Set the mode\n        set_mode(\"classification\") %>%\n        # Fit the model\n        fit(diabetes~., data = db_train)\n\ntidy(fitted_logistic_model)# A tibble: 2 × 5\n  term        estimate std.error statistic  p.value\n  <chr>          <dbl>     <dbl>     <dbl>    <dbl>\n1 (Intercept)  -5.61     0.678       -8.28 1.20e-16\n2 glucose       0.0392   0.00514      7.62 2.55e-14\n(p <- round(exp(-5.61 + 0.0392* 143.11) / (1 + exp(-5.61 + 0.0392* 143.11)),2))[1] 0.5\np <- 0.75\n(x <- (log(p/(1-p)) - (-5.61))/0.0392)  [1] 171.1381\n# Prediction Probabilities\nlibrary(probably)\npred_prob <- predict(fitted_logistic_model,  new_data = db_test,   type = \"prob\")\n\ndb_results <- db_test %>% bind_cols(pred_prob) %>%\n  mutate(.pred_class = make_two_class_pred(.pred_neg, levels(diabetes), threshold = .75)) %>%\n  select(diabetes, glucose, contains(\".pred\"))\n\n\ndb_results %>%  \n  conf_mat(diabetes,.pred_class) %>% \n  autoplot(type = \"heatmap\")"}]
