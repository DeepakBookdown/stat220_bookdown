<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 11 Class Activity 5 | Stat 220 Introduction to Data Science</title>
<meta name="author" content="Deepak Bastola">
<meta name="description" content="# Load the required libraries library(tidyverse) library(ggplot2) library(ggthemes)  11.1 Problem 1: Changing color and shape scales In this problem, you will learn about the effects of changing...">
<meta name="generator" content="bookdown 0.37 with bs4_book()">
<meta property="og:title" content="Chapter 11 Class Activity 5 | Stat 220 Introduction to Data Science">
<meta property="og:type" content="book">
<meta property="og:description" content="# Load the required libraries library(tidyverse) library(ggplot2) library(ggthemes)  11.1 Problem 1: Changing color and shape scales In this problem, you will learn about the effects of changing...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 11 Class Activity 5 | Stat 220 Introduction to Data Science">
<meta name="twitter:description" content="# Load the required libraries library(tidyverse) library(ggplot2) library(ggthemes)  11.1 Problem 1: Changing color and shape scales In this problem, you will learn about the effects of changing...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.6.1/transition.js"></script><script src="libs/bs3compat-0.6.1/tabs.js"></script><script src="libs/bs3compat-0.6.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><!--
    <script>
    document.addEventListener('DOMContentLoaded', function () {
      const headers = document.querySelectorAll('.book .book-body h1, .book .book-body h2, .book .book-body h3');
      const tocLinks = document.querySelectorAll('.book .book-body .tocify .tocify-item a');
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              const id = entry.target.getAttribute('id');
              const link = Array.from(tocLinks).find((link) => link.getAttribute('href').endsWith('#' + id));
              if (link) {
                tocLinks.forEach((l) => l.classList.remove('active'));
                link.classList.add('active');
              }
            }
          });
        },
        { threshold: 0.5 }
      );

      headers.forEach((header) => observer.observe(header));
    });
    </script>

    --><meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Stat 220 Introduction to Data Science</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Course overview</a></li>
<li class="book-part">Set-up Instructions</li>
<li><a class="" href="rstudio.html"><span class="header-section-number">1</span> What is R, RStudio, and RMarkdown?</a></li>
<li><a class="" href="assignments.html"><span class="header-section-number">2</span> Assignments in Stat 220</a></li>
<li><a class="" href="software.html"><span class="header-section-number">3</span> Software in Stat 220</a></li>
<li><a class="" href="github.html"><span class="header-section-number">4</span> GitHub Guide for Students in Stat 220</a></li>
<li><a class="" href="r-markdown-syntax.html"><span class="header-section-number">5</span> R Markdown Syntax</a></li>
<li><a class="" href="github-tutorial.html"><span class="header-section-number">6</span> Github Tutorial</a></li>
<li class="book-part">Class Activities</li>
<li><a class="" href="class-activity-1.html"><span class="header-section-number">7</span> Class Activity 1</a></li>
<li><a class="" href="class-activity-2.html"><span class="header-section-number">8</span> Class Activity 2</a></li>
<li><a class="" href="class-activity-3.html"><span class="header-section-number">9</span> Class Activity 3</a></li>
<li><a class="" href="class-activity-4.html"><span class="header-section-number">10</span> Class Activity 4</a></li>
<li><a class="active" href="class-activity-5.html"><span class="header-section-number">11</span> Class Activity 5</a></li>
<li><a class="" href="class-activity-6.html"><span class="header-section-number">12</span> Class Activity 6</a></li>
<li><a class="" href="class-activity-7.html"><span class="header-section-number">13</span> Class Activity 7</a></li>
<li><a class="" href="class-activity-8.html"><span class="header-section-number">14</span> Class Activity 8</a></li>
<li><a class="" href="class-activity-9.html"><span class="header-section-number">15</span> Class Activity 9</a></li>
<li><a class="" href="class-activity-10.html"><span class="header-section-number">16</span> Class Activity 10</a></li>
<li><a class="" href="class-activity-11.html"><span class="header-section-number">17</span> Class Activity 11</a></li>
<li><a class="" href="class-activity-12.html"><span class="header-section-number">18</span> Class Activity 12</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="class-activity-5" class="section level1" number="11">
<h1>
<span class="header-section-number">11</span> Class Activity 5<a class="anchor" aria-label="anchor" href="#class-activity-5"><i class="fas fa-link"></i></a>
</h1>
<div class="sourceCode" id="cb112"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the required libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jrnold/ggthemes">ggthemes</a></span><span class="op">)</span></span></code></pre></div>
<div id="problem-1-changing-color-and-shape-scales" class="section level2" number="11.1">
<h2>
<span class="header-section-number">11.1</span> Problem 1: Changing color and shape scales<a class="anchor" aria-label="anchor" href="#problem-1-changing-color-and-shape-scales"><i class="fas fa-link"></i></a>
</h2>
<p>In this problem, you will learn about the effects of changing colors, scales, and shapes in <code>ggplot2</code> for both gradient and discrete color choices. You will be given a series of questions and examples to enhance your understanding. Consider the following scatter plot</p>
<div class="sourceCode" id="cb113"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate sample data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>  Category <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">50</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  X <span class="op">=</span> <span class="fl">10</span> <span class="op">^</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">50</span>, mean <span class="op">=</span> <span class="fl">2</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  Y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">50</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">X</span>, y <span class="op">=</span> <span class="va">Y</span>, color <span class="op">=</span> <span class="va">Category</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p</span></span></code></pre></div>
<div class="inline-figure"><img src="class_activity_5_files/figure-html/unnamed-chunk-2-1.png" width="100%"></div>
<ol style="list-style-type: lower-alpha">
<li>Modify the scatter plot to use custom colors for each category using <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a></code>. What is the effect of changing the colors on the plot’s readability?</li>
</ol>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em> Changing colors using <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a></code> allows for better distinction between categories and enhances the plot’s readability.</p>
<div class="sourceCode" id="cb114"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">X</span>, y <span class="op">=</span> <span class="va">Y</span>, color <span class="op">=</span> <span class="va">Category</span>, group <span class="op">=</span> <span class="va">Category</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span> <span class="op">=</span> <span class="st">"red"</span>, <span class="st">"B"</span> <span class="op">=</span> <span class="st">"blue"</span>, <span class="st">"C"</span> <span class="op">=</span> <span class="st">"green"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">p</span></span></code></pre></div>
<div class="inline-figure"><img src="class_activity_5_files/figure-html/unnamed-chunk-3-1.png" width="100%"></div>
</details><ol start="2" style="list-style-type: lower-alpha">
<li>Modify the scatter plot to use custom shapes for each category using <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual()</a></code>. What is the effect of changing the shapes on the plot’s readability?</li>
</ol>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em> Changing the shapes using scale_shape_manual() helps to distinguish between categories and improves the plot’s readability</p>
<div class="sourceCode" id="cb115"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">X</span>, y <span class="op">=</span> <span class="va">Y</span>, shape <span class="op">=</span> <span class="va">Category</span>,  group <span class="op">=</span> <span class="va">Category</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span> <span class="op">=</span> <span class="fl">16</span>, <span class="st">"B"</span> <span class="op">=</span> <span class="fl">17</span>, <span class="st">"C"</span> <span class="op">=</span> <span class="fl">18</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p</span></span></code></pre></div>
<div class="inline-figure"><img src="class_activity_5_files/figure-html/unnamed-chunk-4-1.png" width="100%"></div>
</details><ol start="3" style="list-style-type: lower-alpha">
<li>Try modifying the plot by combining color, shape, and theme customizations. Additionally, try using <code><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth()</a></code> to add trend lines for each category. Pay attention to how each element affects the overall readability and interpretability of the plot.</li>
</ol>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em></p>
<div class="sourceCode" id="cb116"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Base plot</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">X</span>, y <span class="op">=</span> <span class="va">Y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">Category</span>, shape <span class="op">=</span> <span class="va">Category</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span> <span class="co"># Assign color and shape based on Category</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>group <span class="op">=</span> <span class="va">Category</span>, color <span class="op">=</span> <span class="va">Category</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span> <span class="co"># Add trend lines for each category</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span> <span class="op">=</span> <span class="fl">19</span>, <span class="st">"B"</span> <span class="op">=</span> <span class="fl">8</span>, <span class="st">"C"</span> <span class="op">=</span> <span class="fl">24</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co"># Customize shapes for categories</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Dark2"</span><span class="op">)</span> <span class="op">+</span> <span class="co"># Customize color palette</span></span>
<span>  <span class="fu">ggthemes</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ggthemes/man/theme_tufte.html">theme_tufte</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Separate Trend Lines for Each Category"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p</span></span></code></pre></div>
<div class="inline-figure"><img src="class_activity_5_files/figure-html/unnamed-chunk-5-1.png" width="100%"></div>
</details>
</div>
<div id="problem-2-us-maps" class="section level2" number="11.2">
<h2>
<span class="header-section-number">11.2</span> Problem 2: US maps<a class="anchor" aria-label="anchor" href="#problem-2-us-maps"><i class="fas fa-link"></i></a>
</h2>
<p>Now, let’s learn about the effect of changing various coordinate systems in <code>ggplot2</code> using a map example from the <code>usmap</code> package. We will explore the different types of coordinate systems available in ggplot2 and how they can be applied to the map visualization.</p>
<div class="sourceCode" id="cb117"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#install.packages("usmap")   #uncomment to install</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://usmap.dev">usmap</a></span><span class="op">)</span></span></code></pre></div>
<div id="a.-plot-a-simple-map-of-the-united-states-using-ggplot2-and-the-usmap-package." class="section level3" number="11.2.1">
<h3>
<span class="header-section-number">11.2.1</span> a. Plot a simple map of the United States using <code>ggplot2</code> and the <code>usmap</code> package.<a class="anchor" aria-label="anchor" href="#a.-plot-a-simple-map-of-the-united-states-using-ggplot2-and-the-usmap-package."><i class="fas fa-link"></i></a>
</h3>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em></p>
<div class="sourceCode" id="cb118"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">us</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/usmap/man/plot_usmap.html">plot_usmap</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">us</span></span></code></pre></div>
<div class="inline-figure"><img src="class_activity_5_files/figure-html/unnamed-chunk-7-1.png" width="100%"></div>
</details>
</div>
<div id="b.-apply-the-coord_flip-function-to-the-map-to-flip-the-x-and-y-axes." class="section level3" number="11.2.2">
<h3>
<span class="header-section-number">11.2.2</span> b. Apply the <code>coord_flip()</code> function to the map to flip the x and y axes.<a class="anchor" aria-label="anchor" href="#b.-apply-the-coord_flip-function-to-the-map-to-flip-the-x-and-y-axes."><i class="fas fa-link"></i></a>
</h3>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em></p>
<div class="sourceCode" id="cb119"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">us_flipped</span> <span class="op">&lt;-</span> <span class="va">us</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">us_flipped</span></span></code></pre></div>
<div class="inline-figure"><img src="class_activity_5_files/figure-html/unnamed-chunk-8-1.png" width="100%"></div>
</details>
</div>
<div id="c.-apply-the-coord_polar-function-to-the-map-to-transform-the-plot-to-a-polar-coordinate-system" class="section level3" number="11.2.3">
<h3>
<span class="header-section-number">11.2.3</span> c. Apply the <code>coord_polar()</code> function to the map to transform the plot to a polar coordinate system<a class="anchor" aria-label="anchor" href="#c.-apply-the-coord_polar-function-to-the-map-to-transform-the-plot-to-a-polar-coordinate-system"><i class="fas fa-link"></i></a>
</h3>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em></p>
<div class="sourceCode" id="cb120"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">us_polar</span> <span class="op">&lt;-</span> <span class="va">us</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_polar.html">coord_polar</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">us_polar</span></span></code></pre></div>
<div class="inline-figure"><img src="class_activity_5_files/figure-html/unnamed-chunk-9-1.png" width="100%"></div>
</details>
</div>
<div id="d.-apply-the-coord_quickmap-function-to-the-map-to-provide-an-approximation-for-a-map-projection." class="section level3" number="11.2.4">
<h3>
<span class="header-section-number">11.2.4</span> d. Apply the <code>coord_quickmap()</code> function to the map to provide an approximation for a map projection.<a class="anchor" aria-label="anchor" href="#d.-apply-the-coord_quickmap-function-to-the-map-to-provide-an-approximation-for-a-map-projection."><i class="fas fa-link"></i></a>
</h3>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em></p>
<div class="sourceCode" id="cb121"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">us_quickmap</span> <span class="op">&lt;-</span> <span class="va">us</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_map.html">coord_quickmap</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">us_quickmap</span></span></code></pre></div>
<div class="inline-figure"><img src="class_activity_5_files/figure-html/unnamed-chunk-10-1.png" width="100%"></div>
</details>
</div>
</div>
<div id="problem-3-chloropeth-map" class="section level2" number="11.3">
<h2>
<span class="header-section-number">11.3</span> Problem 3: Chloropeth map<a class="anchor" aria-label="anchor" href="#problem-3-chloropeth-map"><i class="fas fa-link"></i></a>
</h2>
<p>In today’s class we created <code>cloropleth</code> maps of states in the US based on ACS data.</p>
<div class="sourceCode" id="cb122"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">states</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/map_data.html">map_data</a></span><span class="op">(</span><span class="st">"state"</span><span class="op">)</span></span>
<span><span class="va">ACS</span> <span class="op">&lt;-</span> <span class="va">ACS</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/deepbas/statdatasets/main/ACS.csv"</span><span class="op">)</span></span>
<span><span class="va">ACS</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">ACS</span>, <span class="op">!</span><span class="op">(</span><span class="va">region</span>  <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Alaska"</span>, <span class="st">"Hawaii"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># only 48+D.C.</span></span>
<span><span class="va">ACS</span><span class="op">$</span><span class="va">region</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html">tolower</a></span><span class="op">(</span><span class="va">ACS</span><span class="op">$</span><span class="va">region</span><span class="op">)</span>  <span class="co"># lower case (match states regions)</span></span></code></pre></div>
<div id="a-mapping-median-income" class="section level3" number="11.3.1">
<h3>
<span class="header-section-number">11.3.1</span> (a) Mapping median income<a class="anchor" aria-label="anchor" href="#a-mapping-median-income"><i class="fas fa-link"></i></a>
</h3>
<p>Create a <code>cloropleth</code> plot that uses color to create a <code>MedianIncome</code> map of the US.</p>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em></p>
<div class="sourceCode" id="cb123"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># map median income</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">ACS</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_map.html">coord_map</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_map.html">geom_map</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>map_id <span class="op">=</span> <span class="va">region</span>, fill <span class="op">=</span> <span class="va">MedianIncome</span><span class="op">)</span>, map <span class="op">=</span> <span class="va">states</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/expand_limits.html">expand_limits</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">states</span><span class="op">$</span><span class="va">long</span>, y<span class="op">=</span><span class="va">states</span><span class="op">$</span><span class="va">lat</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Median Income"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="class_activity_5_files/figure-html/unnamed-chunk-12-1.png" width="100%"></div>
</details>
</div>
<div id="b-mapping-deviations-from-national-median-income" class="section level3" number="11.3.2">
<h3>
<span class="header-section-number">11.3.2</span> (b) Mapping deviations from national median income<a class="anchor" aria-label="anchor" href="#b-mapping-deviations-from-national-median-income"><i class="fas fa-link"></i></a>
</h3>
<p>The median income in the US in 2016 was estimated to be $27,000. Redraw your map in (a) to visualize each state’s deviation from national median income.</p>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em></p>
<div class="sourceCode" id="cb124"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># compare state income to national income</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">ACS</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_map.html">coord_map</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_map.html">geom_map</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>map_id <span class="op">=</span> <span class="va">region</span>, fill <span class="op">=</span> <span class="va">MedianIncome</span> <span class="op">-</span> <span class="fl">27000</span><span class="op">)</span>, map <span class="op">=</span> <span class="va">states</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/expand_limits.html">expand_limits</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">states</span><span class="op">$</span><span class="va">long</span>, y<span class="op">=</span><span class="va">states</span><span class="op">$</span><span class="va">lat</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Deviation from national median income"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="class_activity_5_files/figure-html/unnamed-chunk-13-1.png" width="100%"></div>
</details>
</div>
<div id="c-changing-numerically-scaled-color" class="section level3" number="11.3.3">
<h3>
<span class="header-section-number">11.3.3</span> (c) Changing numerically scaled color<a class="anchor" aria-label="anchor" href="#c-changing-numerically-scaled-color"><i class="fas fa-link"></i></a>
</h3>
<p>You should use a <em>diverging</em> color for (b) to highlight larger deviations from the national median. Add <code>scale_fill_distiller</code> to the map from (b) and select a diverging palette.</p>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em></p>
<div class="sourceCode" id="cb125"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># change to a diverging color</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">ACS</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_map.html">coord_map</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_map.html">geom_map</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>map_id <span class="op">=</span> <span class="va">region</span>, fill <span class="op">=</span> <span class="va">MedianIncome</span> <span class="op">-</span> <span class="fl">27000</span><span class="op">)</span>, map <span class="op">=</span> <span class="va">states</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/expand_limits.html">expand_limits</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">states</span><span class="op">$</span><span class="va">long</span>, y<span class="op">=</span><span class="va">states</span><span class="op">$</span><span class="va">lat</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Deviation from national median income"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_distiller</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"div"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="class_activity_5_files/figure-html/unnamed-chunk-14-1.png" width="100%"></div>
</details>
</div>
<div id="d-fixing-a-midpoint-on-a-diverging-scale" class="section level3" number="11.3.4">
<h3>
<span class="header-section-number">11.3.4</span> (d) Fixing a midpoint on a diverging scale<a class="anchor" aria-label="anchor" href="#d-fixing-a-midpoint-on-a-diverging-scale"><i class="fas fa-link"></i></a>
</h3>
<p>Use <code>scale_fill_gradient2</code> to fix a midpoint scale value at white color, with diverging colors for larger positive and negative values. Apply these colors to your map in (b) and fix the <code>midpoint</code> at an appropriate value.</p>
<details><summary class="answer">
Click for answer
</summary><p><em>Answer:</em></p>
<div class="sourceCode" id="cb126"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># change to a gradient fill color</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">ACS</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_map.html">coord_map</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_map.html">geom_map</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>map_id <span class="op">=</span> <span class="va">region</span>, fill <span class="op">=</span> <span class="va">MedianIncome</span> <span class="op">-</span> <span class="fl">27000</span><span class="op">)</span>, map <span class="op">=</span> <span class="va">states</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/expand_limits.html">expand_limits</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">states</span><span class="op">$</span><span class="va">long</span>, y<span class="op">=</span><span class="va">states</span><span class="op">$</span><span class="va">lat</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Deviation from national median income"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_fill_gradient2</a></span><span class="op">(</span></span>
<span>    low <span class="op">=</span> <span class="st">"lightblue"</span>,    <span class="co"># Set the low color to red</span></span>
<span>    mid <span class="op">=</span> <span class="st">"white"</span>, <span class="co"># Set the mid color to yellow</span></span>
<span>    high <span class="op">=</span> <span class="st">"maroon"</span>, <span class="co"># Set the high color to green</span></span>
<span>    midpoint <span class="op">=</span> <span class="fl">0</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="class_activity_5_files/figure-html/unnamed-chunk-15-1.png" width="100%"></div>
</details>
</div>
<div id="e-polygon-map" class="section level3" number="11.3.5">
<h3>
<span class="header-section-number">11.3.5</span> (e) Polygon map<a class="anchor" aria-label="anchor" href="#e-polygon-map"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb127"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Merge income data with geographic information</span></span>
<span><span class="va">income_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">states</span>, <span class="va">ACS</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"region"</span> <span class="op">=</span> <span class="st">"region"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Next, we will use this merged data to create a polygon map that focuses on the boundaries and shapes of each state, colored by median income.</p>
<div id="understanding-mercator-projection" class="section level4" number="11.3.5.1">
<h4>
<span class="header-section-number">11.3.5.1</span> Understanding Mercator Projection<a class="anchor" aria-label="anchor" href="#understanding-mercator-projection"><i class="fas fa-link"></i></a>
</h4>
<p>The Mercator projection is a cylindrical map projection that was widely used for navigation charts because it represents lines of constant course, known as rhumb lines, as straight segments. However, this projection distorts the size of objects as the latitude increases from the Equator to the poles. For example, Greenland appears larger than Africa on a Mercator projection map, while in reality, Africa is about 14 times larger.</p>
<p>For this task, you will create a polygon map to visualize the <code>MedianIncome</code> across different states using the Mercator projection. Pay attention to the shapes and sizes of states as depicted on the map.</p>
<details><summary class="answer">
Click for answer
</summary><div class="sourceCode" id="cb128"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">income_data</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html">geom_polygon</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">long</span>, y <span class="op">=</span> <span class="va">lat</span>, group <span class="op">=</span> <span class="va">group</span>, fill <span class="op">=</span> <span class="va">MedianIncome</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"white"</span>, size <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">coord_sf</a></span><span class="op">(</span>crs <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="st">"+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs"</span><span class="op">)</span>, datum <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"Median Income"</span>, title <span class="op">=</span> <span class="st">"Median Income by State"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_fill_viridis_c</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="class_activity_5_files/figure-html/unnamed-chunk-17-1.png" width="100%"></div>
</details>
</div>
</div>
<div id="f-visualizing-relative-income-deviation-with-robinson-projection" class="section level3" number="11.3.6">
<h3>
<span class="header-section-number">11.3.6</span> (f) Visualizing Relative Income Deviation with Robinson Projection<a class="anchor" aria-label="anchor" href="#f-visualizing-relative-income-deviation-with-robinson-projection"><i class="fas fa-link"></i></a>
</h3>
<p>The Robinson projection is a map projection of a world map which shows the entire globe as if it were flat. It was specifically created in an attempt to find a good compromise to the problem of readily showing the whole globe as a flat image. The projection is neither equal-area nor conformal, abandoning both for a compromise. The Robinson projection is widely used for thematic and educational maps due to its visually pleasing representation of the Earth.</p>
<p>For this task, you will visualize the relative income deviation across states using the Robinson projection. Consider how the projection’s compromise between size and shape affects the presentation of income data.</p>
<details><summary class="answer">
Click for answer
</summary><div class="sourceCode" id="cb129"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate income deviation as a percentage</span></span>
<span><span class="va">national_median</span> <span class="op">&lt;-</span> <span class="fl">27000</span></span>
<span></span>
<span><span class="co"># Merge the updated income data with geographic information</span></span>
<span><span class="va">ACS</span><span class="op">$</span><span class="va">IncomeDeviationPercent</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="op">(</span><span class="va">ACS</span><span class="op">$</span><span class="va">MedianIncome</span> <span class="op">-</span> <span class="va">national_median</span><span class="op">)</span> <span class="op">/</span> <span class="va">national_median</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span><span class="va">income_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">states</span>, <span class="va">ACS</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"region"</span> <span class="op">=</span> <span class="st">"region"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define the CRS for Robinson projection</span></span>
<span><span class="va">robinson_crs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="st">"+proj=robin +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot the income deviation using Robinson projection with geom_polygon</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">income_data</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html">geom_polygon</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">long</span>, y <span class="op">=</span> <span class="va">lat</span>, group <span class="op">=</span> <span class="va">group</span>, fill <span class="op">=</span> <span class="va">IncomeDeviationPercent</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"white"</span>, size <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">coord_sf</a></span><span class="op">(</span>crs <span class="op">=</span> <span class="va">robinson_crs</span>, datum <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"Income Deviation (%)"</span>, title <span class="op">=</span> <span class="st">"Income Deviation from National Median by State (%) (Robinson Projection)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_distiller</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Spectral"</span>, name <span class="op">=</span> <span class="st">"Deviation (%)"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="class_activity_5_files/figure-html/unnamed-chunk-18-1.png" width="100%"></div>
</details>
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="class-activity-4.html"><span class="header-section-number">10</span> Class Activity 4</a></div>
<div class="next"><a href="class-activity-6.html"><span class="header-section-number">12</span> Class Activity 6</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#class-activity-5"><span class="header-section-number">11</span> Class Activity 5</a></li>
<li><a class="nav-link" href="#problem-1-changing-color-and-shape-scales"><span class="header-section-number">11.1</span> Problem 1: Changing color and shape scales</a></li>
<li>
<a class="nav-link" href="#problem-2-us-maps"><span class="header-section-number">11.2</span> Problem 2: US maps</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#a.-plot-a-simple-map-of-the-united-states-using-ggplot2-and-the-usmap-package."><span class="header-section-number">11.2.1</span> a. Plot a simple map of the United States using ggplot2 and the usmap package.</a></li>
<li><a class="nav-link" href="#b.-apply-the-coord_flip-function-to-the-map-to-flip-the-x-and-y-axes."><span class="header-section-number">11.2.2</span> b. Apply the coord_flip() function to the map to flip the x and y axes.</a></li>
<li><a class="nav-link" href="#c.-apply-the-coord_polar-function-to-the-map-to-transform-the-plot-to-a-polar-coordinate-system"><span class="header-section-number">11.2.3</span> c. Apply the coord_polar() function to the map to transform the plot to a polar coordinate system</a></li>
<li><a class="nav-link" href="#d.-apply-the-coord_quickmap-function-to-the-map-to-provide-an-approximation-for-a-map-projection."><span class="header-section-number">11.2.4</span> d. Apply the coord_quickmap() function to the map to provide an approximation for a map projection.</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#problem-3-chloropeth-map"><span class="header-section-number">11.3</span> Problem 3: Chloropeth map</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#a-mapping-median-income"><span class="header-section-number">11.3.1</span> (a) Mapping median income</a></li>
<li><a class="nav-link" href="#b-mapping-deviations-from-national-median-income"><span class="header-section-number">11.3.2</span> (b) Mapping deviations from national median income</a></li>
<li><a class="nav-link" href="#c-changing-numerically-scaled-color"><span class="header-section-number">11.3.3</span> (c) Changing numerically scaled color</a></li>
<li><a class="nav-link" href="#d-fixing-a-midpoint-on-a-diverging-scale"><span class="header-section-number">11.3.4</span> (d) Fixing a midpoint on a diverging scale</a></li>
<li><a class="nav-link" href="#e-polygon-map"><span class="header-section-number">11.3.5</span> (e) Polygon map</a></li>
<li><a class="nav-link" href="#f-visualizing-relative-income-deviation-with-robinson-projection"><span class="header-section-number">11.3.6</span> (f) Visualizing Relative Income Deviation with Robinson Projection</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/class_activity_5.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/class_activity_5.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Stat 220 Introduction to Data Science</strong>" was written by Deepak Bastola. It was last built on 2024-01-28.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
